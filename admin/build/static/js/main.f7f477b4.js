/*! For license information please see main.f7f477b4.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,r)=>{e.exports=r(202)},153:(e,t,r)=>{var n=r(43),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,s={},c=null,d=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,n)&&!o.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:d,props:s,_owner:i.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,f={};function g(e,t,r){this.props=e,this.context=t,this.refs=f,this.updater=r||h}function y(){}function b(e,t,r){this.props=e,this.context=t,this.refs=f,this.updater=r||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var v=b.prototype=new y;v.constructor=b,x(v,g.prototype),v.isPureReactComponent=!0;var j=Array.isArray,N=Object.prototype.hasOwnProperty,w={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var a,s={},l=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(l=""+t.key),t)N.call(t,a)&&!k.hasOwnProperty(a)&&(s[a]=t[a]);var o=arguments.length-2;if(1===o)s.children=n;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(a in o=e.defaultProps)void 0===s[a]&&(s[a]=o[a]);return{$$typeof:r,type:e,key:l,ref:i,props:s,_owner:w.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var S=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,a,s,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case r:case n:o=!0}}if(o)return l=l(o=e),e=""===s?"."+E(o,0):s,j(l)?(a="",null!=e&&(a=e.replace(S,"$&/")+"/"),P(l,t,a,"",function(e){return e})):null!=l&&(C(l)&&(l=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,a+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(S,"$&/")+"/")+e)),t.push(l)),1;if(o=0,s=""===s?".":s+":",j(e))for(var c=0;c<e.length;c++){var d=s+E(i=e[c],c);o+=P(i,t,a,d,l)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)o+=P(i=i.value,t,a,d=s+E(i,c++),l);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function R(e,t,r){if(null==e)return e;var n=[],a=0;return P(e,n,"","",function(e){return t.call(r,e,a++)}),n}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},z={transition:null},A={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:z,ReactCurrentOwner:w};function F(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,r){R(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=l,t.PureComponent=b,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.act=F,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=x({},e.props),s=e.key,l=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,i=w.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)N.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];a.children=o}return{$$typeof:r,type:e.type,key:s,ref:l,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=z.transition;z.transition={};try{e()}finally{z.transition=t}},t.unstable_act=F,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,r){return T.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,r){return T.current.useReducer(e,t,r)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return T.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<s(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,l=a>>>1;n<l;){var i=2*(n+1)-1,o=e[i],c=i+1,d=e[c];if(0>s(o,r))c<a&&0>s(d,o)?(e[n]=d,e[c]=r,n=c):(e[n]=o,e[i]=r,n=i);else{if(!(c<a&&0>s(d,r)))break e;e[n]=d,e[c]=r,n=c}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,m=null,p=3,h=!1,x=!1,f=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=n(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,r(c,t)}t=n(d)}}function j(e){if(f=!1,v(e),!x)if(null!==n(c))x=!0,z(N);else{var t=n(d);null!==t&&A(j,t.startTime-e)}}function N(e,r){x=!1,f&&(f=!1,y(C),C=-1),h=!0;var s=p;try{for(v(r),m=n(c);null!==m&&(!(m.expirationTime>r)||e&&!P());){var l=m.callback;if("function"===typeof l){m.callback=null,p=m.priorityLevel;var i=l(m.expirationTime<=r);r=t.unstable_now(),"function"===typeof i?m.callback=i:m===n(c)&&a(c),v(r)}else a(c);m=n(c)}if(null!==m)var o=!0;else{var u=n(d);null!==u&&A(j,u.startTime-r),o=!1}return o}finally{m=null,p=s,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,k=!1,_=null,C=-1,S=5,E=-1;function P(){return!(t.unstable_now()-E<S)}function R(){if(null!==_){var e=t.unstable_now();E=e;var r=!0;try{r=_(!0,e)}finally{r?w():(k=!1,_=null)}}else k=!1}if("function"===typeof b)w=function(){b(R)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,T=O.port2;O.port1.onmessage=R,w=function(){T.postMessage(null)}}else w=function(){g(R,0)};function z(e){_=e,k||(k=!0,w())}function A(e,r){C=g(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){x||h||(x=!0,z(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var r=p;p=t;try{return e()}finally{p=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=p;p=e;try{return t()}finally{p=r}},t.unstable_scheduleCallback=function(e,a,s){var l=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?l+s:l:s=l,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>l?(e.sortIndex=s,r(d,e),null===n(c)&&e===n(d)&&(f?(y(C),C=-1):f=!0,A(j,s-l))):(e.sortIndex=i,r(c,e),x||h||(x=!0,z(N))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=p;return function(){var r=p;p=t;try{return e.apply(this,arguments)}finally{p=r}}}},391:(e,t,r)=>{var n=r(950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},579:(e,t,r)=>{e.exports=r(153)},730:(e,t,r)=>{var n=r(43),a=r(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,i={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)l.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function x(e,t,r,n,a,s,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){f[e]=new x(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];f[t]=new x(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){f[e]=new x(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){f[e]=new x(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){f[e]=new x(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){f[e]=new x(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){f[e]=new x(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){f[e]=new x(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){f[e]=new x(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,r,n){var a=f.hasOwnProperty(t)?f[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!u.call(h,e)||!u.call(p,e)&&(m.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,y);f[t]=new x(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,y);f[t]=new x(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,y);f[t]=new x(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){f[e]=new x(e,1,!1,e.toLowerCase(),null,!1,!1)}),f.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){f[e]=new x(e,1,!1,e.toLowerCase(),null,!0,!0)});var v=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),N=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),S=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var z=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var L,M=Object.assign;function D(e){if(void 0===L)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var I=!1;function U(e,t){if(!e||I)return"";I=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=n.stack.split("\n"),l=a.length-1,i=s.length-1;1<=l&&0<=i&&a[l]!==s[i];)i--;for(;1<=l&&0<=i;l--,i--)if(a[l]!==s[i]){if(1!==l||1!==i)do{if(l--,0>--i||a[l]!==s[i]){var o="\n"+a[l].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=l&&0<=i);break}}}finally{I=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?D(e):""}function q(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case N:return"Portal";case _:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return B(e(t))}catch(r){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=W(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var r=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function K(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=H(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Y(e,t){X(e,t);var r=H(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&Q(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+H(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(s(92));if(te(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:H(r)}}function se(e,t){var r=H(t.value),n=H(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function me(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function xe(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function fe(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=xe(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(pe).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,we=null,ke=null;function _e(e){if(e=va(e)){if("function"!==typeof Ne)throw Error(s(280));var t=e.stateNode;t&&(t=Na(t),Ne(e.stateNode,e.type,t))}}function Ce(e){we?ke?ke.push(e):ke=[e]:we=e}function Se(){if(we){var e=we,t=ke;if(ke=we=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ee(e,t){return e(t)}function Pe(){}var Re=!1;function Oe(e,t,r){if(Re)return e(t,r);Re=!0;try{return Ee(e,t,r)}finally{Re=!1,(null!==we||null!==ke)&&(Pe(),Se())}}function Te(e,t){var r=e.stateNode;if(null===r)return null;var n=Na(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(s(231,t,typeof r));return r}var ze=!1;if(d)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(de){ze=!1}function Fe(e,t,r,n,a,s,l,i,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Le=!1,Me=null,De=!1,Ie=null,Ue={onError:function(e){Le=!0,Me=e}};function qe(e,t,r,n,a,s,l,i,o){Le=!1,Me=null,Fe.apply(Ue,arguments)}function Be(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var l=a.alternate;if(null===l){if(null!==(n=a.return)){r=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return He(a),e;if(l===n)return He(a),t;l=l.sibling}throw Error(s(188))}if(r.return!==n.return)r=a,n=l;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,n=l;break}if(o===n){i=!0,n=a,r=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===r){i=!0,r=l,n=a;break}if(o===n){i=!0,n=l,r=a;break}o=o.sibling}if(!i)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Ge=a.unstable_scheduleCallback,Qe=a.unstable_cancelCallback,Je=a.unstable_shouldYield,Ke=a.unstable_requestPaint,Xe=a.unstable_now,Ye=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,rt=a.unstable_LowPriority,nt=a.unstable_IdlePriority,at=null,st=null;var lt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/ot|0)|0},it=Math.log,ot=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,l=268435455&r;if(0!==l){var i=l&~a;0!==i?n=ut(i):0!==(s&=l)&&(n=ut(s))}else 0!==(l=r&~a)?n=ut(l):0!==s&&(n=ut(s));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-lt(t)),n|=e[r],t&=~a;return n}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function xt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function ft(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=r}function yt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-lt(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var bt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,Nt,wt,kt,_t,Ct=!1,St=[],Et=null,Pt=null,Rt=null,Ot=new Map,Tt=new Map,zt=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Lt(e,t,r,n,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=va(t))&&Nt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Mt(e){var t=ba(e.target);if(null!==t){var r=Be(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Ve(r)))return e.blockedOn=t,void _t(e.priority,function(){wt(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=va(r))&&Nt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);ve=n,r.target.dispatchEvent(n),ve=null,t.shift()}return!0}function It(e,t,r){Dt(e)&&r.delete(t)}function Ut(){Ct=!1,null!==Et&&Dt(Et)&&(Et=null),null!==Pt&&Dt(Pt)&&(Pt=null),null!==Rt&&Dt(Rt)&&(Rt=null),Ot.forEach(It),Tt.forEach(It)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return qt(t,e)}if(0<St.length){qt(St[0],e);for(var r=1;r<St.length;r++){var n=St[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Et&&qt(Et,e),null!==Pt&&qt(Pt,e),null!==Rt&&qt(Rt,e),Ot.forEach(t),Tt.forEach(t),r=0;r<zt.length;r++)(n=zt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<zt.length&&null===(r=zt[0]).blockedOn;)Mt(r),null===r.blockedOn&&zt.shift()}var Vt=v.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,r,n){var a=bt,s=Vt.transition;Vt.transition=null;try{bt=1,Gt(e,t,r,n)}finally{bt=a,Vt.transition=s}}function $t(e,t,r,n){var a=bt,s=Vt.transition;Vt.transition=null;try{bt=4,Gt(e,t,r,n)}finally{bt=a,Vt.transition=s}}function Gt(e,t,r,n){if(Ht){var a=Jt(e,t,r,n);if(null===a)Hn(e,t,n,Qt,r),Ft(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return Et=Lt(Et,e,t,r,n,a),!0;case"dragenter":return Pt=Lt(Pt,e,t,r,n,a),!0;case"mouseover":return Rt=Lt(Rt,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Ot.set(s,Lt(Ot.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Tt.set(s,Lt(Tt.get(s)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if(Ft(e,n),4&t&&-1<At.indexOf(e)){for(;null!==a;){var s=va(a);if(null!==s&&jt(s),null===(s=Jt(e,t,r,n))&&Hn(e,t,n,Qt,r),s===a)break;a=s}null!==a&&n.stopPropagation()}else Hn(e,t,n,null,r)}}var Qt=null;function Jt(e,t,r,n){if(Qt=null,null!==(e=ba(e=je(n))))if(null===(t=Be(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Ze:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Xt=null,Yt=null,Zt=null;function er(){if(Zt)return Zt;var e,t,r=Yt,n=r.length,a="value"in Xt?Xt.value:Xt.textContent,s=a.length;for(e=0;e<n&&r[e]===a[e];e++);var l=n-e;for(t=1;t<=l&&r[n-t]===a[s-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ar(e){function t(t,r,n,a,s){for(var l in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(a):a[l]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var sr,lr,ir,or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=ar(or),dr=M({},or,{view:0,detail:0}),ur=ar(dr),mr=M({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ir&&(ir&&"mousemove"===e.type?(sr=e.screenX-ir.screenX,lr=e.screenY-ir.screenY):lr=sr=0,ir=e),sr)},movementY:function(e){return"movementY"in e?e.movementY:lr}}),pr=ar(mr),hr=ar(M({},mr,{dataTransfer:0})),xr=ar(M({},dr,{relatedTarget:0})),fr=ar(M({},or,{animationName:0,elapsedTime:0,pseudoElement:0})),gr=M({},or,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yr=ar(gr),br=ar(M({},or,{data:0})),vr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nr[e])&&!!t[e]}function kr(){return wr}var _r=M({},dr,{key:function(e){if(e.key){var t=vr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cr=ar(_r),Sr=ar(M({},mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Er=ar(M({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr})),Pr=ar(M({},or,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rr=M({},mr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Or=ar(Rr),Tr=[9,13,27,32],zr=d&&"CompositionEvent"in window,Ar=null;d&&"documentMode"in document&&(Ar=document.documentMode);var Fr=d&&"TextEvent"in window&&!Ar,Lr=d&&(!zr||Ar&&8<Ar&&11>=Ar),Mr=String.fromCharCode(32),Dr=!1;function Ir(e,t){switch(e){case"keyup":return-1!==Tr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ur(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qr=!1;var Br={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Br[e.type]:"textarea"===t}function Hr(e,t,r,n){Ce(n),0<(t=$n(t,"onChange")).length&&(r=new cr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Wr=null,$r=null;function Gr(e){Dn(e,0)}function Qr(e){if(G(ja(e)))return e}function Jr(e,t){if("change"===e)return t}var Kr=!1;if(d){var Xr;if(d){var Yr="oninput"in document;if(!Yr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Yr="function"===typeof Zr.oninput}Xr=Yr}else Xr=!1;Kr=Xr&&(!document.documentMode||9<document.documentMode)}function en(){Wr&&(Wr.detachEvent("onpropertychange",tn),$r=Wr=null)}function tn(e){if("value"===e.propertyName&&Qr($r)){var t=[];Hr(t,$r,e,je(e)),Oe(Gr,t)}}function rn(e,t,r){"focusin"===e?(en(),$r=r,(Wr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qr($r)}function an(e,t){if("click"===e)return Qr(t)}function sn(e,t){if("input"===e||"change"===e)return Qr(t)}var ln="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function on(e,t){if(ln(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!u.call(t,a)||!ln(e[a],t[a]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var r,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mn(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=Q((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hn(e){var t=mn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&un(r.ownerDocument.documentElement,r)){if(null!==n&&pn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=void 0===n.end?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=dn(r,s);var l=dn(r,n);a&&l&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xn=d&&"documentMode"in document&&11>=document.documentMode,fn=null,gn=null,yn=null,bn=!1;function vn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;bn||null==fn||fn!==Q(n)||("selectionStart"in(n=fn)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&on(yn,n)||(yn=n,0<(n=$n(gn,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=fn)))}function jn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Nn={animationend:jn("Animation","AnimationEnd"),animationiteration:jn("Animation","AnimationIteration"),animationstart:jn("Animation","AnimationStart"),transitionend:jn("Transition","TransitionEnd")},wn={},kn={};function _n(e){if(wn[e])return wn[e];if(!Nn[e])return e;var t,r=Nn[e];for(t in r)if(r.hasOwnProperty(t)&&t in kn)return wn[e]=r[t];return e}d&&(kn=document.createElement("div").style,"AnimationEvent"in window||(delete Nn.animationend.animation,delete Nn.animationiteration.animation,delete Nn.animationstart.animation),"TransitionEvent"in window||delete Nn.transitionend.transition);var Cn=_n("animationend"),Sn=_n("animationiteration"),En=_n("animationstart"),Pn=_n("transitionend"),Rn=new Map,On="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(e,t){Rn.set(e,t),o(t,[e])}for(var zn=0;zn<On.length;zn++){var An=On[zn];Tn(An.toLowerCase(),"on"+(An[0].toUpperCase()+An.slice(1)))}Tn(Cn,"onAnimationEnd"),Tn(Sn,"onAnimationIteration"),Tn(En,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(Pn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ln=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fn));function Mn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,l,i,o,c){if(qe.apply(this,arguments),Le){if(!Le)throw Error(s(198));var d=Me;Le=!1,Me=null,De||(De=!0,Ie=d)}}(n,t,void 0,e),e.currentTarget=null}function Dn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var l=n.length-1;0<=l;l--){var i=n[l],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==s&&a.isPropagationStopped())break e;Mn(a,i,c),s=o}else for(l=0;l<n.length;l++){if(o=(i=n[l]).instance,c=i.currentTarget,i=i.listener,o!==s&&a.isPropagationStopped())break e;Mn(a,i,c),s=o}}}if(De)throw e=Ie,De=!1,Ie=null,e}function In(e,t){var r=t[fa];void 0===r&&(r=t[fa]=new Set);var n=e+"__bubble";r.has(n)||(Vn(t,e,2,!1),r.add(n))}function Un(e,t,r){var n=0;t&&(n|=4),Vn(r,e,n,t)}var qn="_reactListening"+Math.random().toString(36).slice(2);function Bn(e){if(!e[qn]){e[qn]=!0,l.forEach(function(t){"selectionchange"!==t&&(Ln.has(t)||Un(t,!1,e),Un(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qn]||(t[qn]=!0,Un("selectionchange",!1,t))}}function Vn(e,t,r,n){switch(Kt(t)){case 1:var a=Wt;break;case 4:a=$t;break;default:a=Gt}r=a.bind(null,t,r,e),a=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Hn(e,t,r,n,a){var s=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var l=n.tag;if(3===l||4===l){var i=n.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===l)for(l=n.return;null!==l;){var o=l.tag;if((3===o||4===o)&&((o=l.stateNode.containerInfo)===a||8===o.nodeType&&o.parentNode===a))return;l=l.return}for(;null!==i;){if(null===(l=ba(i)))return;if(5===(o=l.tag)||6===o){n=s=l;continue e}i=i.parentNode}}n=n.return}Oe(function(){var n=s,a=je(r),l=[];e:{var i=Rn.get(e);if(void 0!==i){var o=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":o=Cr;break;case"focusin":c="focus",o=xr;break;case"focusout":c="blur",o=xr;break;case"beforeblur":case"afterblur":o=xr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=pr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=hr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Er;break;case Cn:case Sn:case En:o=fr;break;case Pn:o=Pr;break;case"scroll":o=ur;break;case"wheel":o=Or;break;case"copy":case"cut":case"paste":o=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=Sr}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==i?i+"Capture":null:i;d=[];for(var p,h=n;null!==h;){var x=(p=h).stateNode;if(5===p.tag&&null!==x&&(p=x,null!==m&&(null!=(x=Te(h,m))&&d.push(Wn(h,x,p)))),u)break;h=h.return}0<d.length&&(i=new o(i,c,null,r,a),l.push({event:i,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||r===ve||!(c=r.relatedTarget||r.fromElement)||!ba(c)&&!c[xa])&&(o||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=n,null!==(c=(c=r.relatedTarget||r.toElement)?ba(c):null)&&(c!==(u=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=n),o!==c)){if(d=pr,x="onMouseLeave",m="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=Sr,x="onPointerLeave",m="onPointerEnter",h="pointer"),u=null==o?i:ja(o),p=null==c?i:ja(c),(i=new d(x,h+"leave",o,r,a)).target=u,i.relatedTarget=p,x=null,ba(a)===n&&((d=new d(m,h+"enter",c,r,a)).target=p,d.relatedTarget=u,x=d),u=x,o&&c)e:{for(m=c,h=0,p=d=o;p;p=Gn(p))h++;for(p=0,x=m;x;x=Gn(x))p++;for(;0<h-p;)d=Gn(d),h--;for(;0<p-h;)m=Gn(m),p--;for(;h--;){if(d===m||null!==m&&d===m.alternate)break e;d=Gn(d),m=Gn(m)}d=null}else d=null;null!==o&&Qn(l,i,o,d,!1),null!==c&&null!==u&&Qn(l,u,c,d,!0)}if("select"===(o=(i=n?ja(n):window).nodeName&&i.nodeName.toLowerCase())||"input"===o&&"file"===i.type)var f=Jr;else if(Vr(i))if(Kr)f=sn;else{f=nn;var g=rn}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(f=an);switch(f&&(f=f(e,n))?Hr(l,f,r,a):(g&&g(e,i,n),"focusout"===e&&(g=i._wrapperState)&&g.controlled&&"number"===i.type&&ee(i,"number",i.value)),g=n?ja(n):window,e){case"focusin":(Vr(g)||"true"===g.contentEditable)&&(fn=g,gn=n,yn=null);break;case"focusout":yn=gn=fn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,vn(l,r,a);break;case"selectionchange":if(xn)break;case"keydown":case"keyup":vn(l,r,a)}var y;if(zr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qr?Ir(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Lr&&"ko"!==r.locale&&(qr||"onCompositionStart"!==b?"onCompositionEnd"===b&&qr&&(y=er()):(Yt="value"in(Xt=a)?Xt.value:Xt.textContent,qr=!0)),0<(g=$n(n,b)).length&&(b=new br(b,e,null,r,a),l.push({event:b,listeners:g}),y?b.data=y:null!==(y=Ur(r))&&(b.data=y))),(y=Fr?function(e,t){switch(e){case"compositionend":return Ur(t);case"keypress":return 32!==t.which?null:(Dr=!0,Mr);case"textInput":return(e=t.data)===Mr&&Dr?null:e;default:return null}}(e,r):function(e,t){if(qr)return"compositionend"===e||!zr&&Ir(e,t)?(e=er(),Zt=Yt=Xt=null,qr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=$n(n,"onBeforeInput")).length&&(a=new br("onBeforeInput","beforeinput",null,r,a),l.push({event:a,listeners:n}),a.data=y))}Dn(l,t)})}function Wn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function $n(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Te(e,r))&&n.unshift(Wn(e,s,a)),null!=(s=Te(e,t))&&n.push(Wn(e,s,a))),e=e.return}return n}function Gn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qn(e,t,r,n,a){for(var s=t._reactName,l=[];null!==r&&r!==n;){var i=r,o=i.alternate,c=i.stateNode;if(null!==o&&o===n)break;5===i.tag&&null!==c&&(i=c,a?null!=(o=Te(r,s))&&l.unshift(Wn(r,o,i)):a||null!=(o=Te(r,s))&&l.push(Wn(r,o,i))),r=r.return}0!==l.length&&e.push({event:t,listeners:l})}var Jn=/\r\n?/g,Kn=/\u0000|\uFFFD/g;function Xn(e){return("string"===typeof e?e:""+e).replace(Jn,"\n").replace(Kn,"")}function Yn(e,t,r){if(t=Xn(t),Xn(e)!==t&&r)throw Error(s(425))}function Zn(){}var ea=null,ta=null;function ra(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var na="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,la="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(oa)}:na;function oa(e){setTimeout(function(){throw e})}function ca(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===n)return e.removeChild(a),void Bt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=a}while(r);Bt(t)}function da(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var ma=Math.random().toString(36).slice(2),pa="__reactFiber$"+ma,ha="__reactProps$"+ma,xa="__reactContainer$"+ma,fa="__reactEvents$"+ma,ga="__reactListeners$"+ma,ya="__reactHandles$"+ma;function ba(e){var t=e[pa];if(t)return t;for(var r=e.parentNode;r;){if(t=r[xa]||r[pa]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=ua(e);null!==e;){if(r=e[pa])return r;e=ua(e)}return t}r=(e=r).parentNode}return null}function va(e){return!(e=e[pa]||e[xa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ja(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Na(e){return e[ha]||null}var wa=[],ka=-1;function _a(e){return{current:e}}function Ca(e){0>ka||(e.current=wa[ka],wa[ka]=null,ka--)}function Sa(e,t){ka++,wa[ka]=e.current,e.current=t}var Ea={},Pa=_a(Ea),Ra=_a(!1),Oa=Ea;function Ta(e,t){var r=e.type.contextTypes;if(!r)return Ea;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in r)s[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function za(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Aa(){Ca(Ra),Ca(Pa)}function Fa(e,t,r){if(Pa.current!==Ea)throw Error(s(168));Sa(Pa,t),Sa(Ra,r)}function La(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(s(108,V(e)||"Unknown",a));return M({},r,n)}function Ma(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ea,Oa=Pa.current,Sa(Pa,e),Sa(Ra,Ra.current),!0}function Da(e,t,r){var n=e.stateNode;if(!n)throw Error(s(169));r?(e=La(e,t,Oa),n.__reactInternalMemoizedMergedChildContext=e,Ca(Ra),Ca(Pa),Sa(Pa,e)):Ca(Ra),Sa(Ra,r)}var Ia=null,Ua=!1,qa=!1;function Ba(e){null===Ia?Ia=[e]:Ia.push(e)}function Va(){if(!qa&&null!==Ia){qa=!0;var e=0,t=bt;try{var r=Ia;for(bt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Ia=null,Ua=!1}catch(a){throw null!==Ia&&(Ia=Ia.slice(e+1)),Ge(Ze,Va),a}finally{bt=t,qa=!1}}return null}var Ha=[],Wa=0,$a=null,Ga=0,Qa=[],Ja=0,Ka=null,Xa=1,Ya="";function Za(e,t){Ha[Wa++]=Ga,Ha[Wa++]=$a,$a=e,Ga=t}function es(e,t,r){Qa[Ja++]=Xa,Qa[Ja++]=Ya,Qa[Ja++]=Ka,Ka=e;var n=Xa;e=Ya;var a=32-lt(n)-1;n&=~(1<<a),r+=1;var s=32-lt(t)+a;if(30<s){var l=a-a%5;s=(n&(1<<l)-1).toString(32),n>>=l,a-=l,Xa=1<<32-lt(t)+a|r<<a|n,Ya=s+e}else Xa=1<<s|r<<a|n,Ya=e}function ts(e){null!==e.return&&(Za(e,1),es(e,1,0))}function rs(e){for(;e===$a;)$a=Ha[--Wa],Ha[Wa]=null,Ga=Ha[--Wa],Ha[Wa]=null;for(;e===Ka;)Ka=Qa[--Ja],Qa[Ja]=null,Ya=Qa[--Ja],Qa[Ja]=null,Xa=Qa[--Ja],Qa[Ja]=null}var ns=null,as=null,ss=!1,ls=null;function is(e,t){var r=Tc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function os(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,as=da(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,as=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Ka?{id:Xa,overflow:Ya}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Tc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ns=e,as=null,!0);default:return!1}}function cs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ds(e){if(ss){var t=as;if(t){var r=t;if(!os(e,t)){if(cs(e))throw Error(s(418));t=da(r.nextSibling);var n=ns;t&&os(e,t)?is(n,r):(e.flags=-4097&e.flags|2,ss=!1,ns=e)}}else{if(cs(e))throw Error(s(418));e.flags=-4097&e.flags|2,ss=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ms(e){if(e!==ns)return!1;if(!ss)return us(e),ss=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ra(e.type,e.memoizedProps)),t&&(t=as)){if(cs(e))throw ps(),Error(s(418));for(;t;)is(e,t),t=da(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){as=da(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}as=null}}else as=ns?da(e.stateNode.nextSibling):null;return!0}function ps(){for(var e=as;e;)e=da(e.nextSibling)}function hs(){as=ns=null,ss=!1}function xs(e){null===ls?ls=[e]:ls.push(e)}var fs=v.ReactCurrentBatchConfig;function gs(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var n=r.stateNode}if(!n)throw Error(s(147,e));var a=n,l=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=a.refs;null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!==typeof e)throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bs(e){return(0,e._init)(e._payload)}function vs(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ac(e,t)).index=0,e.sibling=null,e}function l(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,r,n){return null===t||6!==t.tag?((t=Dc(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var s=r.type;return s===w?u(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===T&&bs(s)===t.type)?((n=a(t,r.props)).ref=gs(e,t,r),n.return=e,n):((n=Fc(r.type,r.key,r.props,null,e.mode,n)).ref=gs(e,t,r),n.return=e,n)}function d(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Ic(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function u(e,t,r,n,s){return null===t||7!==t.tag?((t=Lc(r,e.mode,n,s)).return=e,t):((t=a(t,r)).return=e,t)}function m(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(r=Fc(t.type,t.key,t.props,null,e.mode,r)).ref=gs(e,null,t),r.return=e,r;case N:return(t=Ic(t,e.mode,r)).return=e,t;case T:return m(e,(0,t._init)(t._payload),r)}if(te(t)||F(t))return(t=Lc(t,e.mode,r,null)).return=e,t;ys(e,t)}return null}function p(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==a?null:o(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return r.key===a?c(e,t,r,n):null;case N:return r.key===a?d(e,t,r,n):null;case T:return p(e,t,(a=r._init)(r._payload),n)}if(te(r)||F(r))return null!==a?null:u(e,t,r,n,null);ys(e,r)}return null}function h(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return o(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case N:return d(t,e=e.get(null===n.key?r:n.key)||null,n,a);case T:return h(e,t,r,(0,n._init)(n._payload),a)}if(te(n)||F(n))return u(t,e=e.get(r)||null,n,a,null);ys(t,n)}return null}function x(a,s,i,o){for(var c=null,d=null,u=s,x=s=0,f=null;null!==u&&x<i.length;x++){u.index>x?(f=u,u=null):f=u.sibling;var g=p(a,u,i[x],o);if(null===g){null===u&&(u=f);break}e&&u&&null===g.alternate&&t(a,u),s=l(g,s,x),null===d?c=g:d.sibling=g,d=g,u=f}if(x===i.length)return r(a,u),ss&&Za(a,x),c;if(null===u){for(;x<i.length;x++)null!==(u=m(a,i[x],o))&&(s=l(u,s,x),null===d?c=u:d.sibling=u,d=u);return ss&&Za(a,x),c}for(u=n(a,u);x<i.length;x++)null!==(f=h(u,a,x,i[x],o))&&(e&&null!==f.alternate&&u.delete(null===f.key?x:f.key),s=l(f,s,x),null===d?c=f:d.sibling=f,d=f);return e&&u.forEach(function(e){return t(a,e)}),ss&&Za(a,x),c}function f(a,i,o,c){var d=F(o);if("function"!==typeof d)throw Error(s(150));if(null==(o=d.call(o)))throw Error(s(151));for(var u=d=null,x=i,f=i=0,g=null,y=o.next();null!==x&&!y.done;f++,y=o.next()){x.index>f?(g=x,x=null):g=x.sibling;var b=p(a,x,y.value,c);if(null===b){null===x&&(x=g);break}e&&x&&null===b.alternate&&t(a,x),i=l(b,i,f),null===u?d=b:u.sibling=b,u=b,x=g}if(y.done)return r(a,x),ss&&Za(a,f),d;if(null===x){for(;!y.done;f++,y=o.next())null!==(y=m(a,y.value,c))&&(i=l(y,i,f),null===u?d=y:u.sibling=y,u=y);return ss&&Za(a,f),d}for(x=n(a,x);!y.done;f++,y=o.next())null!==(y=h(x,a,f,y.value,c))&&(e&&null!==y.alternate&&x.delete(null===y.key?f:y.key),i=l(y,i,f),null===u?d=y:u.sibling=y,u=y);return e&&x.forEach(function(e){return t(a,e)}),ss&&Za(a,f),d}return function e(n,s,l,o){if("object"===typeof l&&null!==l&&l.type===w&&null===l.key&&(l=l.props.children),"object"===typeof l&&null!==l){switch(l.$$typeof){case j:e:{for(var c=l.key,d=s;null!==d;){if(d.key===c){if((c=l.type)===w){if(7===d.tag){r(n,d.sibling),(s=a(d,l.props.children)).return=n,n=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===T&&bs(c)===d.type){r(n,d.sibling),(s=a(d,l.props)).ref=gs(n,d,l),s.return=n,n=s;break e}r(n,d);break}t(n,d),d=d.sibling}l.type===w?((s=Lc(l.props.children,n.mode,o,l.key)).return=n,n=s):((o=Fc(l.type,l.key,l.props,null,n.mode,o)).ref=gs(n,s,l),o.return=n,n=o)}return i(n);case N:e:{for(d=l.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===l.containerInfo&&s.stateNode.implementation===l.implementation){r(n,s.sibling),(s=a(s,l.children||[])).return=n,n=s;break e}r(n,s);break}t(n,s),s=s.sibling}(s=Ic(l,n.mode,o)).return=n,n=s}return i(n);case T:return e(n,s,(d=l._init)(l._payload),o)}if(te(l))return x(n,s,l,o);if(F(l))return f(n,s,l,o);ys(n,l)}return"string"===typeof l&&""!==l||"number"===typeof l?(l=""+l,null!==s&&6===s.tag?(r(n,s.sibling),(s=a(s,l)).return=n,n=s):(r(n,s),(s=Dc(l,n.mode,o)).return=n,n=s),i(n)):r(n,s)}}var js=vs(!0),Ns=vs(!1),ws=_a(null),ks=null,_s=null,Cs=null;function Ss(){Cs=_s=ks=null}function Es(e){var t=ws.current;Ca(ws),e._currentValue=t}function Ps(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Rs(e,t){ks=e,Cs=_s=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bi=!0),e.firstContext=null)}function Os(e){var t=e._currentValue;if(Cs!==e)if(e={context:e,memoizedValue:t,next:null},null===_s){if(null===ks)throw Error(s(308));_s=e,ks.dependencies={lanes:0,firstContext:e}}else _s=_s.next=e;return t}var Ts=null;function zs(e){null===Ts?Ts=[e]:Ts.push(e)}function As(e,t,r,n){var a=t.interleaved;return null===a?(r.next=r,zs(t)):(r.next=a.next,a.next=r),t.interleaved=r,Fs(e,n)}function Fs(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Ls=!1;function Ms(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ds(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Is(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Po)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Fs(e,r)}return null===(a=n.interleaved)?(t.next=t,zs(n)):(t.next=a.next,a.next=t),n.interleaved=t,Fs(e,r)}function qs(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}function Bs(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===s?a=s=l:s=s.next=l,r=r.next}while(null!==r);null===s?a=s=t:s=s.next=t}else a=s=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Vs(e,t,r,n){var a=e.updateQueue;Ls=!1;var s=a.firstBaseUpdate,l=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var o=i,c=o.next;o.next=null,null===l?s=c:l.next=c,l=o;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=o))}if(null!==s){var u=a.baseState;for(l=0,d=c=o=null,i=s;;){var m=i.lane,p=i.eventTime;if((n&m)===m){null!==d&&(d=d.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var h=e,x=i;switch(m=t,p=r,x.tag){case 1:if("function"===typeof(h=x.payload)){u=h.call(p,u,m);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(m="function"===typeof(h=x.payload)?h.call(p,u,m):h)||void 0===m)break e;u=M({},u,m);break e;case 2:Ls=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(m=a.effects)?a.effects=[i]:m.push(i))}else p={eventTime:p,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=p,o=u):d=d.next=p,l|=m;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(m=i).next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}if(null===d&&(o=u),a.baseState=o,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{l|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Mo|=l,e.lanes=l,e.memoizedState=u}}function Hs(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!==typeof a)throw Error(s(191,a));a.call(n)}}}var Ws={},$s=_a(Ws),Gs=_a(Ws),Qs=_a(Ws);function Js(e){if(e===Ws)throw Error(s(174));return e}function Ks(e,t){switch(Sa(Qs,t),Sa(Gs,e),Sa($s,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ca($s),Sa($s,t)}function Xs(){Ca($s),Ca(Gs),Ca(Qs)}function Ys(e){Js(Qs.current);var t=Js($s.current),r=oe(t,e.type);t!==r&&(Sa(Gs,e),Sa($s,r))}function Zs(e){Gs.current===e&&(Ca($s),Ca(Gs))}var el=_a(0);function tl(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rl=[];function nl(){for(var e=0;e<rl.length;e++)rl[e]._workInProgressVersionPrimary=null;rl.length=0}var al=v.ReactCurrentDispatcher,sl=v.ReactCurrentBatchConfig,ll=0,il=null,ol=null,cl=null,dl=!1,ul=!1,ml=0,pl=0;function hl(){throw Error(s(321))}function xl(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ln(e[r],t[r]))return!1;return!0}function fl(e,t,r,n,a,l){if(ll=l,il=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,al.current=null===e||null===e.memoizedState?Zl:ei,e=r(n,a),ul){l=0;do{if(ul=!1,ml=0,25<=l)throw Error(s(301));l+=1,cl=ol=null,t.updateQueue=null,al.current=ti,e=r(n,a)}while(ul)}if(al.current=Yl,t=null!==ol&&null!==ol.next,ll=0,cl=ol=il=null,dl=!1,t)throw Error(s(300));return e}function gl(){var e=0!==ml;return ml=0,e}function yl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cl?il.memoizedState=cl=e:cl=cl.next=e,cl}function bl(){if(null===ol){var e=il.alternate;e=null!==e?e.memoizedState:null}else e=ol.next;var t=null===cl?il.memoizedState:cl.next;if(null!==t)cl=t,ol=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ol=e).memoizedState,baseState:ol.baseState,baseQueue:ol.baseQueue,queue:ol.queue,next:null},null===cl?il.memoizedState=cl=e:cl=cl.next=e}return cl}function vl(e,t){return"function"===typeof t?t(e):t}function jl(e){var t=bl(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=ol,a=n.baseQueue,l=r.pending;if(null!==l){if(null!==a){var i=a.next;a.next=l.next,l.next=i}n.baseQueue=a=l,r.pending=null}if(null!==a){l=a.next,n=n.baseState;var o=i=null,c=null,d=l;do{var u=d.lane;if((ll&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=m,i=n):c=c.next=m,il.lanes|=u,Mo|=u}d=d.next}while(null!==d&&d!==l);null===c?i=n:c.next=o,ln(n,t.memoizedState)||(bi=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do{l=a.lane,il.lanes|=l,Mo|=l,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Nl(e){var t=bl(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,l=t.memoizedState;if(null!==a){r.pending=null;var i=a=a.next;do{l=e(l,i.action),i=i.next}while(i!==a);ln(l,t.memoizedState)||(bi=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),r.lastRenderedState=l}return[l,n]}function wl(){}function kl(e,t){var r=il,n=bl(),a=t(),l=!ln(n.memoizedState,a);if(l&&(n.memoizedState=a,bi=!0),n=n.queue,Ll(Sl.bind(null,r,n,e),[e]),n.getSnapshot!==t||l||null!==cl&&1&cl.memoizedState.tag){if(r.flags|=2048,Ol(9,Cl.bind(null,r,n,a,t),void 0,null),null===Ro)throw Error(s(349));0!==(30&ll)||_l(r,t,a)}return a}function _l(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=il.updateQueue)?(t={lastEffect:null,stores:null},il.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Cl(e,t,r,n){t.value=r,t.getSnapshot=n,El(t)&&Pl(e)}function Sl(e,t,r){return r(function(){El(t)&&Pl(e)})}function El(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ln(e,r)}catch(n){return!0}}function Pl(e){var t=Fs(e,1);null!==t&&nc(t,e,1,-1)}function Rl(e){var t=yl();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:e},t.queue=e,e=e.dispatch=Ql.bind(null,il,e),[t.memoizedState,e]}function Ol(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=il.updateQueue)?(t={lastEffect:null,stores:null},il.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Tl(){return bl().memoizedState}function zl(e,t,r,n){var a=yl();il.flags|=e,a.memoizedState=Ol(1|t,r,void 0,void 0===n?null:n)}function Al(e,t,r,n){var a=bl();n=void 0===n?null:n;var s=void 0;if(null!==ol){var l=ol.memoizedState;if(s=l.destroy,null!==n&&xl(n,l.deps))return void(a.memoizedState=Ol(t,r,s,n))}il.flags|=e,a.memoizedState=Ol(1|t,r,s,n)}function Fl(e,t){return zl(8390656,8,e,t)}function Ll(e,t){return Al(2048,8,e,t)}function Ml(e,t){return Al(4,2,e,t)}function Dl(e,t){return Al(4,4,e,t)}function Il(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ul(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Al(4,4,Il.bind(null,t,e),r)}function ql(){}function Bl(e,t){var r=bl();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&xl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Vl(e,t){var r=bl();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&xl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Hl(e,t,r){return 0===(21&ll)?(e.baseState&&(e.baseState=!1,bi=!0),e.memoizedState=r):(ln(r,t)||(r=xt(),il.lanes|=r,Mo|=r,e.baseState=!0),t)}function Wl(e,t){var r=bt;bt=0!==r&&4>r?r:4,e(!0);var n=sl.transition;sl.transition={};try{e(!1),t()}finally{bt=r,sl.transition=n}}function $l(){return bl().memoizedState}function Gl(e,t,r){var n=rc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Jl(e))Kl(t,r);else if(null!==(r=As(e,t,r,n))){nc(r,e,n,tc()),Xl(r,t,n)}}function Ql(e,t,r){var n=rc(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Jl(e))Kl(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=s(l,r);if(a.hasEagerState=!0,a.eagerState=i,ln(i,l)){var o=t.interleaved;return null===o?(a.next=a,zs(t)):(a.next=o.next,o.next=a),void(t.interleaved=a)}}catch(c){}null!==(r=As(e,t,a,n))&&(nc(r,e,n,a=tc()),Xl(r,t,n))}}function Jl(e){var t=e.alternate;return e===il||null!==t&&t===il}function Kl(e,t){ul=dl=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Xl(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}var Yl={readContext:Os,useCallback:hl,useContext:hl,useEffect:hl,useImperativeHandle:hl,useInsertionEffect:hl,useLayoutEffect:hl,useMemo:hl,useReducer:hl,useRef:hl,useState:hl,useDebugValue:hl,useDeferredValue:hl,useTransition:hl,useMutableSource:hl,useSyncExternalStore:hl,useId:hl,unstable_isNewReconciler:!1},Zl={readContext:Os,useCallback:function(e,t){return yl().memoizedState=[e,void 0===t?null:t],e},useContext:Os,useEffect:Fl,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,zl(4194308,4,Il.bind(null,t,e),r)},useLayoutEffect:function(e,t){return zl(4194308,4,e,t)},useInsertionEffect:function(e,t){return zl(4,2,e,t)},useMemo:function(e,t){var r=yl();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=yl();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Gl.bind(null,il,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},yl().memoizedState=e},useState:Rl,useDebugValue:ql,useDeferredValue:function(e){return yl().memoizedState=e},useTransition:function(){var e=Rl(!1),t=e[0];return e=Wl.bind(null,e[1]),yl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=il,a=yl();if(ss){if(void 0===r)throw Error(s(407));r=r()}else{if(r=t(),null===Ro)throw Error(s(349));0!==(30&ll)||_l(n,t,r)}a.memoizedState=r;var l={value:r,getSnapshot:t};return a.queue=l,Fl(Sl.bind(null,n,l,e),[e]),n.flags|=2048,Ol(9,Cl.bind(null,n,l,r,t),void 0,null),r},useId:function(){var e=yl(),t=Ro.identifierPrefix;if(ss){var r=Ya;t=":"+t+"R"+(r=(Xa&~(1<<32-lt(Xa)-1)).toString(32)+r),0<(r=ml++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=pl++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ei={readContext:Os,useCallback:Bl,useContext:Os,useEffect:Ll,useImperativeHandle:Ul,useInsertionEffect:Ml,useLayoutEffect:Dl,useMemo:Vl,useReducer:jl,useRef:Tl,useState:function(){return jl(vl)},useDebugValue:ql,useDeferredValue:function(e){return Hl(bl(),ol.memoizedState,e)},useTransition:function(){return[jl(vl)[0],bl().memoizedState]},useMutableSource:wl,useSyncExternalStore:kl,useId:$l,unstable_isNewReconciler:!1},ti={readContext:Os,useCallback:Bl,useContext:Os,useEffect:Ll,useImperativeHandle:Ul,useInsertionEffect:Ml,useLayoutEffect:Dl,useMemo:Vl,useReducer:Nl,useRef:Tl,useState:function(){return Nl(vl)},useDebugValue:ql,useDeferredValue:function(e){var t=bl();return null===ol?t.memoizedState=e:Hl(t,ol.memoizedState,e)},useTransition:function(){return[Nl(vl)[0],bl().memoizedState]},useMutableSource:wl,useSyncExternalStore:kl,useId:$l,unstable_isNewReconciler:!1};function ri(e,t){if(e&&e.defaultProps){for(var r in t=M({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function ni(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:M({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ai={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=tc(),a=rc(e),s=Is(n,a);s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Us(e,s,a))&&(nc(t,e,a,n),qs(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=tc(),a=rc(e),s=Is(n,a);s.tag=1,s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Us(e,s,a))&&(nc(t,e,a,n),qs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=tc(),n=rc(e),a=Is(r,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Us(e,a,n))&&(nc(t,e,n,r),qs(t,e,n))}};function si(e,t,r,n,a,s,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,l):!t.prototype||!t.prototype.isPureReactComponent||(!on(r,n)||!on(a,s))}function li(e,t,r){var n=!1,a=Ea,s=t.contextType;return"object"===typeof s&&null!==s?s=Os(s):(a=za(t)?Oa:Pa.current,s=(n=null!==(n=t.contextTypes)&&void 0!==n)?Ta(e,a):Ea),t=new t(r,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function ii(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function oi(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ms(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Os(s):(s=za(t)?Oa:Pa.current,a.context=Ta(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ni(e,t,s,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ai.enqueueReplaceState(a,a.state,null),Vs(e,r,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function ci(e,t){try{var r="",n=t;do{r+=q(n),n=n.return}while(n);var a=r}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function di(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function ui(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var mi="function"===typeof WeakMap?WeakMap:Map;function pi(e,t,r){(r=Is(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Wo||(Wo=!0,$o=n),ui(0,t)},r}function hi(e,t,r){(r=Is(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ui(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(r.callback=function(){ui(0,t),"function"!==typeof n&&(null===Go?Go=new Set([this]):Go.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function xi(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new mi;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Cc.bind(null,e,t,r),t.then(e,e))}function fi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gi(e,t,r,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Is(-1,1)).tag=2,Us(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var yi=v.ReactCurrentOwner,bi=!1;function vi(e,t,r,n){t.child=null===e?Ns(t,null,r,n):js(t,e.child,r,n)}function ji(e,t,r,n,a){r=r.render;var s=t.ref;return Rs(t,a),n=fl(e,t,r,n,s,a),r=gl(),null===e||bi?(ss&&r&&ts(t),t.flags|=1,vi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hi(e,t,a))}function Ni(e,t,r,n,a){if(null===e){var s=r.type;return"function"!==typeof s||zc(s)||void 0!==s.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Fc(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,wi(e,t,s,n,a))}if(s=e.child,0===(e.lanes&a)){var l=s.memoizedProps;if((r=null!==(r=r.compare)?r:on)(l,n)&&e.ref===t.ref)return Hi(e,t,a)}return t.flags|=1,(e=Ac(s,n)).ref=t.ref,e.return=t,t.child=e}function wi(e,t,r,n,a){if(null!==e){var s=e.memoizedProps;if(on(s,n)&&e.ref===t.ref){if(bi=!1,t.pendingProps=n=s,0===(e.lanes&a))return t.lanes=e.lanes,Hi(e,t,a);0!==(131072&e.flags)&&(bi=!0)}}return Ci(e,t,r,n,a)}function ki(e,t,r){var n=t.pendingProps,a=n.children,s=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sa(Ao,zo),zo|=r;else{if(0===(1073741824&r))return e=null!==s?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sa(Ao,zo),zo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==s?s.baseLanes:r,Sa(Ao,zo),zo|=n}else null!==s?(n=s.baseLanes|r,t.memoizedState=null):n=r,Sa(Ao,zo),zo|=n;return vi(e,t,a,r),t.child}function _i(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ci(e,t,r,n,a){var s=za(r)?Oa:Pa.current;return s=Ta(t,s),Rs(t,a),r=fl(e,t,r,n,s,a),n=gl(),null===e||bi?(ss&&n&&ts(t),t.flags|=1,vi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hi(e,t,a))}function Si(e,t,r,n,a){if(za(r)){var s=!0;Ma(t)}else s=!1;if(Rs(t,a),null===t.stateNode)Vi(e,t),li(t,r,n),oi(t,r,n,a),n=!0;else if(null===e){var l=t.stateNode,i=t.memoizedProps;l.props=i;var o=l.context,c=r.contextType;"object"===typeof c&&null!==c?c=Os(c):c=Ta(t,c=za(r)?Oa:Pa.current);var d=r.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof l.getSnapshotBeforeUpdate;u||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==n||o!==c)&&ii(t,l,n,c),Ls=!1;var m=t.memoizedState;l.state=m,Vs(t,n,l,a),o=t.memoizedState,i!==n||m!==o||Ra.current||Ls?("function"===typeof d&&(ni(t,r,d,n),o=t.memoizedState),(i=Ls||si(t,r,i,n,m,o,c))?(u||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=o),l.props=n,l.state=o,l.context=c,n=i):("function"===typeof l.componentDidMount&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Ds(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ri(t.type,i),l.props=c,u=t.pendingProps,m=l.context,"object"===typeof(o=r.contextType)&&null!==o?o=Os(o):o=Ta(t,o=za(r)?Oa:Pa.current);var p=r.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==u||m!==o)&&ii(t,l,n,o),Ls=!1,m=t.memoizedState,l.state=m,Vs(t,n,l,a);var h=t.memoizedState;i!==u||m!==h||Ra.current||Ls?("function"===typeof p&&(ni(t,r,p,n),h=t.memoizedState),(c=Ls||si(t,r,c,n,m,h,o)||!1)?(d||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(n,h,o),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(n,h,o)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),l.props=n,l.state=h,l.context=o,n=c):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Ei(e,t,r,n,s,a)}function Ei(e,t,r,n,a,s){_i(e,t);var l=0!==(128&t.flags);if(!n&&!l)return a&&Da(t,r,!1),Hi(e,t,s);n=t.stateNode,yi.current=t;var i=l&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&l?(t.child=js(t,e.child,null,s),t.child=js(t,null,i,s)):vi(e,t,i,s),t.memoizedState=n.state,a&&Da(t,r,!0),t.child}function Pi(e){var t=e.stateNode;t.pendingContext?Fa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fa(0,t.context,!1),Ks(e,t.containerInfo)}function Ri(e,t,r,n,a){return hs(),xs(a),t.flags|=256,vi(e,t,r,n),t.child}var Oi,Ti,zi,Ai,Fi={dehydrated:null,treeContext:null,retryLane:0};function Li(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mi(e,t,r){var n,a=t.pendingProps,l=el.current,i=!1,o=0!==(128&t.flags);if((n=o)||(n=(null===e||null!==e.memoizedState)&&0!==(2&l)),n?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),Sa(el,1&l),null===e)return ds(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=a.children,e=a.fallback,i?(a=t.mode,i=t.child,o={mode:"hidden",children:o},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=o):i=Mc(o,a,0,null),e=Lc(e,a,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Li(r),t.memoizedState=Fi,e):Di(t,o));if(null!==(l=e.memoizedState)&&null!==(n=l.dehydrated))return function(e,t,r,n,a,l,i){if(r)return 256&t.flags?(t.flags&=-257,Ii(e,t,i,n=di(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=n.fallback,a=t.mode,n=Mc({mode:"visible",children:n.children},a,0,null),(l=Lc(l,a,i,null)).flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,0!==(1&t.mode)&&js(t,e.child,null,i),t.child.memoizedState=Li(i),t.memoizedState=Fi,l);if(0===(1&t.mode))return Ii(e,t,i,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var o=n.dgst;return n=o,Ii(e,t,i,n=di(l=Error(s(419)),n,void 0))}if(o=0!==(i&e.childLanes),bi||o){if(null!==(n=Ro)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|i))?0:a)&&a!==l.retryLane&&(l.retryLane=a,Fs(e,a),nc(n,e,a,-1))}return fc(),Ii(e,t,i,n=di(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,as=da(a.nextSibling),ns=t,ss=!0,ls=null,null!==e&&(Qa[Ja++]=Xa,Qa[Ja++]=Ya,Qa[Ja++]=Ka,Xa=e.id,Ya=e.overflow,Ka=t),t=Di(t,n.children),t.flags|=4096,t)}(e,t,o,a,n,l,r);if(i){i=a.fallback,o=t.mode,n=(l=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&o)&&t.child!==l?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Ac(l,c)).subtreeFlags=14680064&l.subtreeFlags,null!==n?i=Ac(n,i):(i=Lc(i,o,r,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,o=null===(o=e.child.memoizedState)?Li(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Fi,a}return e=(i=e.child).sibling,a=Ac(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Di(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ii(e,t,r,n){return null!==n&&xs(n),js(t,e.child,null,r),(e=Di(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ui(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ps(e.return,t,r)}function qi(e,t,r,n,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function Bi(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(vi(e,t,n.children,r),0!==(2&(n=el.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ui(e,r,t);else if(19===e.tag)Ui(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Sa(el,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===tl(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),qi(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===tl(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}qi(t,!0,r,null,s);break;case"together":qi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hi(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Mo|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=Ac(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Ac(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Wi(e,t){if(!ss)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $i(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Gi(e,t,r){var n=t.pendingProps;switch(rs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $i(t),null;case 1:case 17:return za(t.type)&&Aa(),$i(t),null;case 3:return n=t.stateNode,Xs(),Ca(Ra),Ca(Pa),nl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ms(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ls&&(ic(ls),ls=null))),Ti(e,t),$i(t),null;case 5:Zs(t);var a=Js(Qs.current);if(r=t.type,null!==e&&null!=t.stateNode)zi(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(s(166));return $i(t),null}if(e=Js($s.current),ms(t)){n=t.stateNode,r=t.type;var l=t.memoizedProps;switch(n[pa]=t,n[ha]=l,e=0!==(1&t.mode),r){case"dialog":In("cancel",n),In("close",n);break;case"iframe":case"object":case"embed":In("load",n);break;case"video":case"audio":for(a=0;a<Fn.length;a++)In(Fn[a],n);break;case"source":In("error",n);break;case"img":case"image":case"link":In("error",n),In("load",n);break;case"details":In("toggle",n);break;case"input":K(n,l),In("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},In("invalid",n);break;case"textarea":ae(n,l),In("invalid",n)}for(var o in ye(r,l),a=null,l)if(l.hasOwnProperty(o)){var c=l[o];"children"===o?"string"===typeof c?n.textContent!==c&&(!0!==l.suppressHydrationWarning&&Yn(n.textContent,c,e),a=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==l.suppressHydrationWarning&&Yn(n.textContent,c,e),a=["children",""+c]):i.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&In("scroll",n)}switch(r){case"input":$(n),Z(n,l,!0);break;case"textarea":$(n),le(n);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(n.onclick=Zn)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{o=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),"select"===r&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[pa]=t,e[ha]=n,Oi(e,t,!1,!1),t.stateNode=e;e:{switch(o=be(r,n),r){case"dialog":In("cancel",e),In("close",e),a=n;break;case"iframe":case"object":case"embed":In("load",e),a=n;break;case"video":case"audio":for(a=0;a<Fn.length;a++)In(Fn[a],e);a=n;break;case"source":In("error",e),a=n;break;case"img":case"image":case"link":In("error",e),In("load",e),a=n;break;case"details":In("toggle",e),a=n;break;case"input":K(e,n),a=J(e,n),In("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=M({},n,{value:void 0}),In("invalid",e);break;case"textarea":ae(e,n),a=ne(e,n),In("invalid",e)}for(l in ye(r,a),c=a)if(c.hasOwnProperty(l)){var d=c[l];"style"===l?fe(e,d):"dangerouslySetInnerHTML"===l?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===l?"string"===typeof d?("textarea"!==r||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(i.hasOwnProperty(l)?null!=d&&"onScroll"===l&&In("scroll",e):null!=d&&b(e,l,d,o))}switch(r){case"input":$(e),Z(e,n,!1);break;case"textarea":$(e),le(e);break;case"option":null!=n.value&&e.setAttribute("value",""+H(n.value));break;case"select":e.multiple=!!n.multiple,null!=(l=n.value)?re(e,!!n.multiple,l,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $i(t),null;case 6:if(e&&null!=t.stateNode)Ai(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(r=Js(Qs.current),Js($s.current),ms(t)){if(n=t.stateNode,r=t.memoizedProps,n[pa]=t,(l=n.nodeValue!==r)&&null!==(e=ns))switch(e.tag){case 3:Yn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yn(n.nodeValue,r,0!==(1&e.mode))}l&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[pa]=t,t.stateNode=n}return $i(t),null;case 13:if(Ca(el),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ss&&null!==as&&0!==(1&t.mode)&&0===(128&t.flags))ps(),hs(),t.flags|=98560,l=!1;else if(l=ms(t),null!==n&&null!==n.dehydrated){if(null===e){if(!l)throw Error(s(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(s(317));l[pa]=t}else hs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$i(t),l=!1}else null!==ls&&(ic(ls),ls=null),l=!0;if(!l)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&el.current)?0===Fo&&(Fo=3):fc())),null!==t.updateQueue&&(t.flags|=4),$i(t),null);case 4:return Xs(),Ti(e,t),null===e&&Bn(t.stateNode.containerInfo),$i(t),null;case 10:return Es(t.type._context),$i(t),null;case 19:if(Ca(el),null===(l=t.memoizedState))return $i(t),null;if(n=0!==(128&t.flags),null===(o=l.rendering))if(n)Wi(l,!1);else{if(0!==Fo||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=tl(e))){for(t.flags|=128,Wi(l,!1),null!==(n=o.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(l=r).flags&=14680066,null===(o=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Sa(el,1&el.current|2),t.child}e=e.sibling}null!==l.tail&&Xe()>Vo&&(t.flags|=128,n=!0,Wi(l,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=tl(o))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Wi(l,!0),null===l.tail&&"hidden"===l.tailMode&&!o.alternate&&!ss)return $i(t),null}else 2*Xe()-l.renderingStartTime>Vo&&1073741824!==r&&(t.flags|=128,n=!0,Wi(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(null!==(r=l.last)?r.sibling=o:t.child=o,l.last=o)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Xe(),t.sibling=null,r=el.current,Sa(el,n?1&r|2:1&r),t):($i(t),null);case 22:case 23:return mc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&zo)&&($i(t),6&t.subtreeFlags&&(t.flags|=8192)):$i(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Qi(e,t){switch(rs(t),t.tag){case 1:return za(t.type)&&Aa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),Ca(Ra),Ca(Pa),nl(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zs(t),null;case 13:if(Ca(el),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));hs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ca(el),null;case 4:return Xs(),null;case 10:return Es(t.type._context),null;case 22:case 23:return mc(),null;default:return null}}Oi=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ti=function(){},zi=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Js($s.current);var s,l=null;switch(r){case"input":a=J(e,a),n=J(e,n),l=[];break;case"select":a=M({},a,{value:void 0}),n=M({},n,{value:void 0}),l=[];break;case"textarea":a=ne(e,a),n=ne(e,n),l=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=Zn)}for(d in ye(r,n),r=null,a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var o=a[d];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in n){var c=n[d];if(o=null!=a?a[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(l||(l=[]),l.push(d,r)),r=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(l=l||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(l=l||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&In("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}r&&(l=l||[]).push("style",r);var d=l;(t.updateQueue=d)&&(t.flags|=4)}},Ai=function(e,t,r,n){r!==n&&(t.flags|=4)};var Ji=!1,Ki=!1,Xi="function"===typeof WeakSet?WeakSet:Set,Yi=null;function Zi(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){_c(e,t,n)}else r.current=null}function eo(e,t,r){try{r()}catch(n){_c(e,t,n)}}var to=!1;function ro(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&eo(t,r,s)}a=a.next}while(a!==n)}}function no(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ao(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function so(e){var t=e.alternate;null!==t&&(e.alternate=null,so(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pa],delete t[ha],delete t[fa],delete t[ga],delete t[ya])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lo(e){return 5===e.tag||3===e.tag||4===e.tag}function io(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||lo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function oo(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Zn));else if(4!==n&&null!==(e=e.child))for(oo(e,t,r),e=e.sibling;null!==e;)oo(e,t,r),e=e.sibling}function co(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(co(e,t,r),e=e.sibling;null!==e;)co(e,t,r),e=e.sibling}var uo=null,mo=!1;function po(e,t,r){for(r=r.child;null!==r;)ho(e,t,r),r=r.sibling}function ho(e,t,r){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,r)}catch(i){}switch(r.tag){case 5:Ki||Zi(r,t);case 6:var n=uo,a=mo;uo=null,po(e,t,r),mo=a,null!==(uo=n)&&(mo?(e=uo,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):uo.removeChild(r.stateNode));break;case 18:null!==uo&&(mo?(e=uo,r=r.stateNode,8===e.nodeType?ca(e.parentNode,r):1===e.nodeType&&ca(e,r),Bt(e)):ca(uo,r.stateNode));break;case 4:n=uo,a=mo,uo=r.stateNode.containerInfo,mo=!0,po(e,t,r),uo=n,mo=a;break;case 0:case 11:case 14:case 15:if(!Ki&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var s=a,l=s.destroy;s=s.tag,void 0!==l&&(0!==(2&s)||0!==(4&s))&&eo(r,t,l),a=a.next}while(a!==n)}po(e,t,r);break;case 1:if(!Ki&&(Zi(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(i){_c(r,t,i)}po(e,t,r);break;case 21:po(e,t,r);break;case 22:1&r.mode?(Ki=(n=Ki)||null!==r.memoizedState,po(e,t,r),Ki=n):po(e,t,r);break;default:po(e,t,r)}}function xo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Xi),t.forEach(function(t){var n=Pc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}}function fo(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var l=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 5:uo=o.stateNode,mo=!1;break e;case 3:case 4:uo=o.stateNode.containerInfo,mo=!0;break e}o=o.return}if(null===uo)throw Error(s(160));ho(l,i,a),uo=null,mo=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(d){_c(a,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)go(t,e),t=t.sibling}function go(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fo(t,e),yo(e),4&n){try{ro(3,e,e.return),no(3,e)}catch(f){_c(e,e.return,f)}try{ro(5,e,e.return)}catch(f){_c(e,e.return,f)}}break;case 1:fo(t,e),yo(e),512&n&&null!==r&&Zi(r,r.return);break;case 5:if(fo(t,e),yo(e),512&n&&null!==r&&Zi(r,r.return),32&e.flags){var a=e.stateNode;try{me(a,"")}catch(f){_c(e,e.return,f)}}if(4&n&&null!=(a=e.stateNode)){var l=e.memoizedProps,i=null!==r?r.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===l.type&&null!=l.name&&X(a,l),be(o,i);var d=be(o,l);for(i=0;i<c.length;i+=2){var u=c[i],m=c[i+1];"style"===u?fe(a,m):"dangerouslySetInnerHTML"===u?ue(a,m):"children"===u?me(a,m):b(a,u,m,d)}switch(o){case"input":Y(a,l);break;case"textarea":se(a,l);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var h=l.value;null!=h?re(a,!!l.multiple,h,!1):p!==!!l.multiple&&(null!=l.defaultValue?re(a,!!l.multiple,l.defaultValue,!0):re(a,!!l.multiple,l.multiple?[]:"",!1))}a[ha]=l}catch(f){_c(e,e.return,f)}}break;case 6:if(fo(t,e),yo(e),4&n){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(f){_c(e,e.return,f)}}break;case 3:if(fo(t,e),yo(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(f){_c(e,e.return,f)}break;case 4:default:fo(t,e),yo(e);break;case 13:fo(t,e),yo(e),8192&(a=e.child).flags&&(l=null!==a.memoizedState,a.stateNode.isHidden=l,!l||null!==a.alternate&&null!==a.alternate.memoizedState||(Bo=Xe())),4&n&&xo(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?(Ki=(d=Ki)||u,fo(t,e),Ki=d):fo(t,e),yo(e),8192&n){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Yi=e,u=e.child;null!==u;){for(m=Yi=u;null!==Yi;){switch(h=(p=Yi).child,p.tag){case 0:case 11:case 14:case 15:ro(4,p,p.return);break;case 1:Zi(p,p.return);var x=p.stateNode;if("function"===typeof x.componentWillUnmount){n=p,r=p.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(f){_c(n,r,f)}}break;case 5:Zi(p,p.return);break;case 22:if(null!==p.memoizedState){No(m);continue}}null!==h?(h.return=p,Yi=h):No(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{a=m.stateNode,d?"function"===typeof(l=a.style).setProperty?l.setProperty("display","none","important"):l.display="none":(o=m.stateNode,i=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=xe("display",i))}catch(f){_c(e,e.return,f)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(f){_c(e,e.return,f)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:fo(t,e),yo(e),4&n&&xo(e);case 21:}}function yo(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(lo(r)){var n=r;break e}r=r.return}throw Error(s(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(me(a,""),n.flags&=-33),co(e,io(e),a);break;case 3:case 4:var l=n.stateNode.containerInfo;oo(e,io(e),l);break;default:throw Error(s(161))}}catch(i){_c(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bo(e,t,r){Yi=e,vo(e,t,r)}function vo(e,t,r){for(var n=0!==(1&e.mode);null!==Yi;){var a=Yi,s=a.child;if(22===a.tag&&n){var l=null!==a.memoizedState||Ji;if(!l){var i=a.alternate,o=null!==i&&null!==i.memoizedState||Ki;i=Ji;var c=Ki;if(Ji=l,(Ki=o)&&!c)for(Yi=a;null!==Yi;)o=(l=Yi).child,22===l.tag&&null!==l.memoizedState?wo(a):null!==o?(o.return=l,Yi=o):wo(a);for(;null!==s;)Yi=s,vo(s,t,r),s=s.sibling;Yi=a,Ji=i,Ki=c}jo(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Yi=s):jo(e)}}function jo(e){for(;null!==Yi;){var t=Yi;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ki||no(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Ki)if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ri(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&Hs(t,l,n);break;case 3:var i=t.updateQueue;if(null!==i){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Hs(t,i,r)}break;case 5:var o=t.stateNode;if(null===r&&4&t.flags){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&Bt(m)}}}break;default:throw Error(s(163))}Ki||512&t.flags&&ao(t)}catch(ia){_c(t,t.return,ia)}}if(t===e){Yi=null;break}if(null!==(r=t.sibling)){r.return=t.return,Yi=r;break}Yi=t.return}}function No(e){for(;null!==Yi;){var t=Yi;if(t===e){Yi=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Yi=r;break}Yi=t.return}}function wo(e){for(;null!==Yi;){var t=Yi;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{no(4,t)}catch(o){_c(t,r,o)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(o){_c(t,a,o)}}var s=t.return;try{ao(t)}catch(o){_c(t,s,o)}break;case 5:var l=t.return;try{ao(t)}catch(o){_c(t,l,o)}}}catch(o){_c(t,t.return,o)}if(t===e){Yi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Yi=i;break}Yi=t.return}}var ko,_o=Math.ceil,Co=v.ReactCurrentDispatcher,So=v.ReactCurrentOwner,Eo=v.ReactCurrentBatchConfig,Po=0,Ro=null,Oo=null,To=0,zo=0,Ao=_a(0),Fo=0,Lo=null,Mo=0,Do=0,Io=0,Uo=null,qo=null,Bo=0,Vo=1/0,Ho=null,Wo=!1,$o=null,Go=null,Qo=!1,Jo=null,Ko=0,Xo=0,Yo=null,Zo=-1,ec=0;function tc(){return 0!==(6&Po)?Xe():-1!==Zo?Zo:Zo=Xe()}function rc(e){return 0===(1&e.mode)?1:0!==(2&Po)&&0!==To?To&-To:null!==fs.transition?(0===ec&&(ec=xt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function nc(e,t,r,n){if(50<Xo)throw Xo=0,Yo=null,Error(s(185));gt(e,r,n),0!==(2&Po)&&e===Ro||(e===Ro&&(0===(2&Po)&&(Do|=r),4===Fo&&oc(e,To)),ac(e,n),1===r&&0===Po&&0===(1&t.mode)&&(Vo=Xe()+500,Ua&&Va()))}function ac(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-lt(s),i=1<<l,o=a[l];-1===o?0!==(i&r)&&0===(i&n)||(a[l]=pt(i,t)):o<=t&&(e.expiredLanes|=i),s&=~i}}(e,t);var n=mt(e,e===Ro?To:0);if(0===n)null!==r&&Qe(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Qe(r),1===t)0===e.tag?function(e){Ua=!0,Ba(e)}(cc.bind(null,e)):Ba(cc.bind(null,e)),la(function(){0===(6&Po)&&Va()}),r=null;else{switch(vt(n)){case 1:r=Ze;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Rc(r,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function sc(e,t){if(Zo=-1,ec=0,0!==(6&Po))throw Error(s(327));var r=e.callbackNode;if(wc()&&e.callbackNode!==r)return null;var n=mt(e,e===Ro?To:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=gc(e,n);else{t=n;var a=Po;Po|=2;var l=xc();for(Ro===e&&To===t||(Ho=null,Vo=Xe()+500,pc(e,t));;)try{bc();break}catch(o){hc(e,o)}Ss(),Co.current=l,Po=a,null!==Oo?t=0:(Ro=null,To=0,t=Fo)}if(0!==t){if(2===t&&(0!==(a=ht(e))&&(n=a,t=lc(e,a))),1===t)throw r=Lo,pc(e,0),oc(e,n),ac(e,Xe()),r;if(6===t)oc(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!ln(s(),a))return!1}catch(i){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,n))&&(0!==(l=ht(e))&&(n=l,t=lc(e,l))),1===t))throw r=Lo,pc(e,0),oc(e,n),ac(e,Xe()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(s(345));case 2:case 5:Nc(e,qo,Ho);break;case 3:if(oc(e,n),(130023424&n)===n&&10<(t=Bo+500-Xe())){if(0!==mt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){tc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=na(Nc.bind(null,e,qo,Ho),t);break}Nc(e,qo,Ho);break;case 4:if(oc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-lt(n);l=1<<i,(i=t[i])>a&&(a=i),n&=~l}if(n=a,10<(n=(120>(n=Xe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_o(n/1960))-n)){e.timeoutHandle=na(Nc.bind(null,e,qo,Ho),n);break}Nc(e,qo,Ho);break;default:throw Error(s(329))}}}return ac(e,Xe()),e.callbackNode===r?sc.bind(null,e):null}function lc(e,t){var r=Uo;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=qo,qo=r,null!==t&&ic(t)),e}function ic(e){null===qo?qo=e:qo.push.apply(qo,e)}function oc(e,t){for(t&=~Io,t&=~Do,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-lt(t),n=1<<r;e[r]=-1,t&=~n}}function cc(e){if(0!==(6&Po))throw Error(s(327));wc();var t=mt(e,0);if(0===(1&t))return ac(e,Xe()),null;var r=gc(e,t);if(0!==e.tag&&2===r){var n=ht(e);0!==n&&(t=n,r=lc(e,n))}if(1===r)throw r=Lo,pc(e,0),oc(e,t),ac(e,Xe()),r;if(6===r)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nc(e,qo,Ho),ac(e,Xe()),null}function dc(e,t){var r=Po;Po|=1;try{return e(t)}finally{0===(Po=r)&&(Vo=Xe()+500,Ua&&Va())}}function uc(e){null!==Jo&&0===Jo.tag&&0===(6&Po)&&wc();var t=Po;Po|=1;var r=Eo.transition,n=bt;try{if(Eo.transition=null,bt=1,e)return e()}finally{bt=n,Eo.transition=r,0===(6&(Po=t))&&Va()}}function mc(){zo=Ao.current,Ca(Ao)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,aa(r)),null!==Oo)for(r=Oo.return;null!==r;){var n=r;switch(rs(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Aa();break;case 3:Xs(),Ca(Ra),Ca(Pa),nl();break;case 5:Zs(n);break;case 4:Xs();break;case 13:case 19:Ca(el);break;case 10:Es(n.type._context);break;case 22:case 23:mc()}r=r.return}if(Ro=e,Oo=e=Ac(e.current,null),To=zo=t,Fo=0,Lo=null,Io=Do=Mo=0,qo=Uo=null,null!==Ts){for(t=0;t<Ts.length;t++)if(null!==(n=(r=Ts[t]).interleaved)){r.interleaved=null;var a=n.next,s=r.pending;if(null!==s){var l=s.next;s.next=a,n.next=l}r.pending=n}Ts=null}return e}function hc(e,t){for(;;){var r=Oo;try{if(Ss(),al.current=Yl,dl){for(var n=il.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}dl=!1}if(ll=0,cl=ol=il=null,ul=!1,ml=0,So.current=null,null===r||null===r.return){Fo=1,Lo=t,Oo=null;break}e:{var l=e,i=r.return,o=r,c=t;if(t=To,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=fi(i);if(null!==h){h.flags&=-257,gi(h,i,o,0,t),1&h.mode&&xi(l,d,t),c=d;var x=(t=h).updateQueue;if(null===x){var f=new Set;f.add(c),t.updateQueue=f}else x.add(c);break e}if(0===(1&t)){xi(l,d,t),fc();break e}c=Error(s(426))}else if(ss&&1&o.mode){var g=fi(i);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),gi(g,i,o,0,t),xs(ci(c,o));break e}}l=c=ci(c,o),4!==Fo&&(Fo=2),null===Uo?Uo=[l]:Uo.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,Bs(l,pi(0,c,t));break e;case 1:o=c;var y=l.type,b=l.stateNode;if(0===(128&l.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Go||!Go.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,Bs(l,hi(l,o,t));break e}}l=l.return}while(null!==l)}jc(r)}catch(v){t=v,Oo===r&&null!==r&&(Oo=r=r.return);continue}break}}function xc(){var e=Co.current;return Co.current=Yl,null===e?Yl:e}function fc(){0!==Fo&&3!==Fo&&2!==Fo||(Fo=4),null===Ro||0===(268435455&Mo)&&0===(268435455&Do)||oc(Ro,To)}function gc(e,t){var r=Po;Po|=2;var n=xc();for(Ro===e&&To===t||(Ho=null,pc(e,t));;)try{yc();break}catch(a){hc(e,a)}if(Ss(),Po=r,Co.current=n,null!==Oo)throw Error(s(261));return Ro=null,To=0,Fo}function yc(){for(;null!==Oo;)vc(Oo)}function bc(){for(;null!==Oo&&!Je();)vc(Oo)}function vc(e){var t=ko(e.alternate,e,zo);e.memoizedProps=e.pendingProps,null===t?jc(e):Oo=t,So.current=null}function jc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Gi(r,t,zo)))return void(Oo=r)}else{if(null!==(r=Qi(r,t)))return r.flags&=32767,void(Oo=r);if(null===e)return Fo=6,void(Oo=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Oo=t);Oo=t=e}while(null!==t);0===Fo&&(Fo=5)}function Nc(e,t,r){var n=bt,a=Eo.transition;try{Eo.transition=null,bt=1,function(e,t,r,n){do{wc()}while(null!==Jo);if(0!==(6&Po))throw Error(s(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-lt(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}(e,l),e===Ro&&(Oo=Ro=null,To=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Qo||(Qo=!0,Rc(tt,function(){return wc(),null})),l=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||l){l=Eo.transition,Eo.transition=null;var i=bt;bt=1;var o=Po;Po|=4,So.current=null,function(e,t){if(ea=Ht,pn(e=mn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch(j){r=null;break e}var i=0,o=-1,c=-1,d=0,u=0,m=e,p=null;t:for(;;){for(var h;m!==r||0!==a&&3!==m.nodeType||(o=i+a),m!==l||0!==n&&3!==m.nodeType||(c=i+n),3===m.nodeType&&(i+=m.nodeValue.length),null!==(h=m.firstChild);)p=m,m=h;for(;;){if(m===e)break t;if(p===r&&++d===a&&(o=i),p===l&&++u===n&&(c=i),null!==(h=m.nextSibling))break;p=(m=p).parentNode}m=h}r=-1===o||-1===c?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ta={focusedElem:e,selectionRange:r},Ht=!1,Yi=t;null!==Yi;)if(e=(t=Yi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Yi=e;else for(;null!==Yi;){t=Yi;try{var x=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==x){var f=x.memoizedProps,g=x.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?f:ri(t.type,f),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(s(163))}}catch(j){_c(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Yi=e;break}Yi=t.return}x=to,to=!1}(e,r),go(r,e),hn(ta),Ht=!!ea,ta=ea=null,e.current=r,bo(r,e,a),Ke(),Po=o,bt=i,Eo.transition=l}else e.current=r;if(Qo&&(Qo=!1,Jo=e,Ko=a),l=e.pendingLanes,0===l&&(Go=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),ac(e,Xe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Wo)throw Wo=!1,e=$o,$o=null,e;0!==(1&Ko)&&0!==e.tag&&wc(),l=e.pendingLanes,0!==(1&l)?e===Yo?Xo++:(Xo=0,Yo=e):Xo=0,Va()}(e,t,r,n)}finally{Eo.transition=a,bt=n}return null}function wc(){if(null!==Jo){var e=vt(Ko),t=Eo.transition,r=bt;try{if(Eo.transition=null,bt=16>e?16:e,null===Jo)var n=!1;else{if(e=Jo,Jo=null,Ko=0,0!==(6&Po))throw Error(s(331));var a=Po;for(Po|=4,Yi=e.current;null!==Yi;){var l=Yi,i=l.child;if(0!==(16&Yi.flags)){var o=l.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(Yi=d;null!==Yi;){var u=Yi;switch(u.tag){case 0:case 11:case 15:ro(8,u,l)}var m=u.child;if(null!==m)m.return=u,Yi=m;else for(;null!==Yi;){var p=(u=Yi).sibling,h=u.return;if(so(u),u===d){Yi=null;break}if(null!==p){p.return=h,Yi=p;break}Yi=h}}}var x=l.alternate;if(null!==x){var f=x.child;if(null!==f){x.child=null;do{var g=f.sibling;f.sibling=null,f=g}while(null!==f)}}Yi=l}}if(0!==(2064&l.subtreeFlags)&&null!==i)i.return=l,Yi=i;else e:for(;null!==Yi;){if(0!==(2048&(l=Yi).flags))switch(l.tag){case 0:case 11:case 15:ro(9,l,l.return)}var y=l.sibling;if(null!==y){y.return=l.return,Yi=y;break e}Yi=l.return}}var b=e.current;for(Yi=b;null!==Yi;){var v=(i=Yi).child;if(0!==(2064&i.subtreeFlags)&&null!==v)v.return=i,Yi=v;else e:for(i=b;null!==Yi;){if(0!==(2048&(o=Yi).flags))try{switch(o.tag){case 0:case 11:case 15:no(9,o)}}catch(N){_c(o,o.return,N)}if(o===i){Yi=null;break e}var j=o.sibling;if(null!==j){j.return=o.return,Yi=j;break e}Yi=o.return}}if(Po=a,Va(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(N){}n=!0}return n}finally{bt=r,Eo.transition=t}}return!1}function kc(e,t,r){e=Us(e,t=pi(0,t=ci(r,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ac(e,t))}function _c(e,t,r){if(3===e.tag)kc(e,e,r);else for(;null!==t;){if(3===t.tag){kc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Go||!Go.has(n))){t=Us(t,e=hi(t,e=ci(r,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ac(t,e));break}}t=t.return}}function Cc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&r,Ro===e&&(To&r)===r&&(4===Fo||3===Fo&&(130023424&To)===To&&500>Xe()-Bo?pc(e,0):Io|=r),ac(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var r=tc();null!==(e=Fs(e,t))&&(gt(e,t,r),ac(e,r))}function Ec(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Sc(e,r)}function Pc(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(t),Sc(e,r)}function Rc(e,t){return Ge(e,t)}function Oc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,r,n){return new Oc(e,t,r,n)}function zc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,t){var r=e.alternate;return null===r?((r=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Fc(e,t,r,n,a,l){var i=2;if(n=e,"function"===typeof e)zc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case w:return Lc(r.children,a,l,t);case k:i=8,a|=8;break;case _:return(e=Tc(12,r,t,2|a)).elementType=_,e.lanes=l,e;case P:return(e=Tc(13,r,t,a)).elementType=P,e.lanes=l,e;case R:return(e=Tc(19,r,t,a)).elementType=R,e.lanes=l,e;case z:return Mc(r,a,l,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:i=10;break e;case S:i=9;break e;case E:i=11;break e;case O:i=14;break e;case T:i=16,n=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Tc(i,r,t,a)).elementType=e,t.type=n,t.lanes=l,t}function Lc(e,t,r,n){return(e=Tc(7,e,n,t)).lanes=r,e}function Mc(e,t,r,n){return(e=Tc(22,e,n,t)).elementType=z,e.lanes=r,e.stateNode={isHidden:!1},e}function Dc(e,t,r){return(e=Tc(6,e,null,t)).lanes=r,e}function Ic(e,t,r){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ft(0),this.expirationTimes=ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function qc(e,t,r,n,a,s,l,i,o){return e=new Uc(e,t,r,i,o),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Tc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ms(s),e}function Bc(e){if(!e)return Ea;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(za(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var r=e.type;if(za(r))return La(e,r,t)}return t}function Vc(e,t,r,n,a,s,l,i,o){return(e=qc(r,n,!0,e,0,s,0,i,o)).context=Bc(null),r=e.current,(s=Is(n=tc(),a=rc(r))).callback=void 0!==t&&null!==t?t:null,Us(r,s,a),e.current.lanes=a,gt(e,a,n),ac(e,n),e}function Hc(e,t,r,n){var a=t.current,s=tc(),l=rc(a);return r=Bc(r),null===t.context?t.context=r:t.pendingContext=r,(t=Is(s,l)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Us(a,t,l))&&(nc(e,a,l,s),qs(e,a,l)),l}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $c(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Gc(e,t){$c(e,t),(e=e.alternate)&&$c(e,t)}ko=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ra.current)bi=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return bi=!1,function(e,t,r){switch(t.tag){case 3:Pi(t),hs();break;case 5:Ys(t);break;case 1:za(t.type)&&Ma(t);break;case 4:Ks(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Sa(ws,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Sa(el,1&el.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Mi(e,t,r):(Sa(el,1&el.current),null!==(e=Hi(e,t,r))?e.sibling:null);Sa(el,1&el.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Bi(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Sa(el,el.current),n)break;return null;case 22:case 23:return t.lanes=0,ki(e,t,r)}return Hi(e,t,r)}(e,t,r);bi=0!==(131072&e.flags)}else bi=!1,ss&&0!==(1048576&t.flags)&&es(t,Ga,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Vi(e,t),e=t.pendingProps;var a=Ta(t,Pa.current);Rs(t,r),a=fl(null,t,n,e,a,r);var l=gl();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,za(n)?(l=!0,Ma(t)):l=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ms(t),a.updater=ai,t.stateNode=a,a._reactInternals=t,oi(t,n,e,r),t=Ei(null,t,n,!0,l,r)):(t.tag=0,ss&&l&&ts(t),vi(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Vi(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return zc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===O)return 14}return 2}(n),e=ri(n,e),a){case 0:t=Ci(null,t,n,e,r);break e;case 1:t=Si(null,t,n,e,r);break e;case 11:t=ji(null,t,n,e,r);break e;case 14:t=Ni(null,t,n,ri(n.type,e),r);break e}throw Error(s(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,Ci(e,t,n,a=t.elementType===n?a:ri(n,a),r);case 1:return n=t.type,a=t.pendingProps,Si(e,t,n,a=t.elementType===n?a:ri(n,a),r);case 3:e:{if(Pi(t),null===e)throw Error(s(387));n=t.pendingProps,a=(l=t.memoizedState).element,Ds(e,t),Vs(t,n,null,r);var i=t.memoizedState;if(n=i.element,l.isDehydrated){if(l={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Ri(e,t,n,r,a=ci(Error(s(423)),t));break e}if(n!==a){t=Ri(e,t,n,r,a=ci(Error(s(424)),t));break e}for(as=da(t.stateNode.containerInfo.firstChild),ns=t,ss=!0,ls=null,r=Ns(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(hs(),n===a){t=Hi(e,t,r);break e}vi(e,t,n,r)}t=t.child}return t;case 5:return Ys(t),null===e&&ds(t),n=t.type,a=t.pendingProps,l=null!==e?e.memoizedProps:null,i=a.children,ra(n,a)?i=null:null!==l&&ra(n,l)&&(t.flags|=32),_i(e,t),vi(e,t,i,r),t.child;case 6:return null===e&&ds(t),null;case 13:return Mi(e,t,r);case 4:return Ks(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=js(t,null,n,r):vi(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,ji(e,t,n,a=t.elementType===n?a:ri(n,a),r);case 7:return vi(e,t,t.pendingProps,r),t.child;case 8:case 12:return vi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,Sa(ws,n._currentValue),n._currentValue=i,null!==l)if(ln(l.value,i)){if(l.children===a.children&&!Ra.current){t=Hi(e,t,r);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var o=l.dependencies;if(null!==o){i=l.child;for(var c=o.firstContext;null!==c;){if(c.context===n){if(1===l.tag){(c=Is(-1,r&-r)).tag=2;var d=l.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=r,null!==(c=l.alternate)&&(c.lanes|=r),Ps(l.return,r,t),o.lanes|=r;break}c=c.next}}else if(10===l.tag)i=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(i=l.return))throw Error(s(341));i.lanes|=r,null!==(o=i.alternate)&&(o.lanes|=r),Ps(i,r,t),i=l.sibling}else i=l.child;if(null!==i)i.return=l;else for(i=l;null!==i;){if(i===t){i=null;break}if(null!==(l=i.sibling)){l.return=i.return,i=l;break}i=i.return}l=i}vi(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Rs(t,r),n=n(a=Os(a)),t.flags|=1,vi(e,t,n,r),t.child;case 14:return a=ri(n=t.type,t.pendingProps),Ni(e,t,n,a=ri(n.type,a),r);case 15:return wi(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ri(n,a),Vi(e,t),t.tag=1,za(n)?(e=!0,Ma(t)):e=!1,Rs(t,r),li(t,n,a),oi(t,n,a,r),Ei(null,t,n,!0,e,r);case 19:return Bi(e,t,r);case 22:return ki(e,t,r)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function ed(e,t,r,n,a){var s=r._reactRootContainer;if(s){var l=s;if("function"===typeof a){var i=a;a=function(){var e=Wc(l);i.call(e)}}Hc(t,l,e,a)}else l=function(e,t,r,n,a){if(a){if("function"===typeof n){var s=n;n=function(){var e=Wc(l);s.call(e)}}var l=Vc(t,n,e,0,null,!1,0,"",Zc);return e._reactRootContainer=l,e[xa]=l.current,Bn(8===e.nodeType?e.parentNode:e),uc(),l}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof n){var i=n;n=function(){var e=Wc(o);i.call(e)}}var o=qc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=o,e[xa]=o.current,Bn(8===e.nodeType?e.parentNode:e),uc(function(){Hc(t,o,r,n)}),o}(r,t,e,a,n);return Wc(l)}Kc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},Kc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Hc(null,e,null,null)}),t[xa]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<zt.length&&0!==t&&t<zt[r].priority;r++);zt.splice(r,0,e),0===r&&Mt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ut(t.pendingLanes);0!==r&&(yt(t,1|r),ac(t,Xe()),0===(6&Po)&&(Vo=Xe()+500,Va()))}break;case 13:uc(function(){var t=Fs(e,1);if(null!==t){var r=tc();nc(t,e,1,r)}}),Gc(e,1)}},Nt=function(e){if(13===e.tag){var t=Fs(e,134217728);if(null!==t)nc(t,e,134217728,tc());Gc(e,134217728)}},wt=function(e){if(13===e.tag){var t=rc(e),r=Fs(e,t);if(null!==r)nc(r,e,t,tc());Gc(e,t)}},kt=function(){return bt},_t=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}},Ne=function(e,t,r){switch(t){case"input":if(Y(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Na(n);if(!a)throw Error(s(90));G(n),Y(n,a)}}}break;case"textarea":se(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ee=dc,Pe=uc;var td={usingClientEntryPoint:!1,Events:[va,ja,Na,Ce,Se,dc]},rd={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:rd.bundleType,version:rd.version,rendererPackageName:rd.rendererPackageName,rendererConfig:rd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:rd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{at=ad.inject(nd),st=ad}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=td,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var r=!1,n="",a=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=qc(e,1,!1,null,0,r,0,n,a),e[xa]=t.current,Bn(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,r){if(!Yc(t))throw Error(s(200));return ed(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Xc(e))throw Error(s(405));var n=null!=r&&r.hydratedSources||null,a=!1,l="",i=Qc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(l=r.identifierPrefix),void 0!==r.onRecoverableError&&(i=r.onRecoverableError)),t=Vc(t,null,e,1,null!=r?r:null,a,0,l,i),e[xa]=t.current,Bn(e),n)for(e=0;e<n.length;e++)a=(a=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Kc(t)},t.render=function(e,t,r){if(!Yc(t))throw Error(s(200));return ed(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc(function(){ed(null,null,e,!1,function(){e._reactRootContainer=null,e[xa]=null})}),!0)},t.unstable_batchedUpdates=dc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Yc(r))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return ed(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,r)=>{e.exports=r(234)},950:(e,t,r)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(730)}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var s=Object.create(null);r.r(s);var l={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&n;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>l[e]=()=>n[e]);return l.default=()=>n,r.d(s,l),s}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};r.r(n),r.d(n,{hasBrowserEnv:()=>Jt,hasStandardBrowserEnv:()=>Xt,hasStandardBrowserWebWorkerEnv:()=>Yt,navigator:()=>Kt,origin:()=>Zt});var a,s=r(43),l=r.t(s,2),i=r(391),o=r(950),c=r.t(o,2);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const u="popstate";function m(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function p(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function x(e,t,r,n){return void 0===r&&(r=null),d({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function g(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function y(e,t,r,n){void 0===n&&(n={});let{window:s=document.defaultView,v5Compat:l=!1}=n,i=s.history,o=a.Pop,c=null,p=g();function g(){return(i.state||{idx:null}).idx}function y(){o=a.Pop;let e=g(),t=null==e?null:e-p;p=e,c&&c({action:o,location:v.location,delta:t})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,r="string"===typeof e?e:f(e);return r=r.replace(/ $/,"%20"),m(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==p&&(p=0,i.replaceState(d({},i.state,{idx:p}),""));let v={get action(){return o},get location(){return e(s,i)},listen(e){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(u,y),c=e,()=>{s.removeEventListener(u,y),c=null}},createHref:e=>t(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o=a.Push;let n=x(v.location,e,t);r&&r(n,e),p=g()+1;let d=h(n,p),u=v.createHref(n);try{i.pushState(d,"",u)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;s.location.assign(u)}l&&c&&c({action:o,location:v.location,delta:1})},replace:function(e,t){o=a.Replace;let n=x(v.location,e,t);r&&r(n,e),p=g();let s=h(n,p),d=v.createHref(n);i.replaceState(s,"",d),l&&c&&c({action:o,location:v.location,delta:0})},go:e=>i.go(e)};return v}var b;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(b||(b={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,r){return void 0===r&&(r="/"),j(e,t,r,!1)}function j(e,t,r,n){let a=F(("string"===typeof t?g(t):t).pathname||"/",r);if(null==a)return null;let s=N(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let l=null;for(let i=0;null==l&&i<s.length;++i){let e=A(a);l=T(s[i],e,n)}return l}function N(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let a=(e,a,s)=>{let l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};l.relativePath.startsWith("/")&&(m(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),l.relativePath=l.relativePath.slice(n.length));let i=U([n,l.relativePath]),o=r.concat(l);e.children&&e.children.length>0&&(m(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),N(e.children,t,o,i)),(null!=e.path||e.index)&&t.push({path:i,score:O(i,e.index),routesMeta:o})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let n of w(e.path))a(e,t,n);else a(e,t)}),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===n.length)return a?[s,""]:[s];let l=w(n.join("/")),i=[];return i.push(...l.map(e=>""===e?s:[s,e].join("/"))),a&&i.push(...l),i.map(t=>e.startsWith("/")&&""===t?"/":t)}const k=/^:[\w-]+$/,_=3,C=2,S=1,E=10,P=-2,R=e=>"*"===e;function O(e,t){let r=e.split("/"),n=r.length;return r.some(R)&&(n+=P),t&&(n+=C),r.filter(e=>!R(e)).reduce((e,t)=>e+(k.test(t)?_:""===t?S:E),n)}function T(e,t,r){void 0===r&&(r=!1);let{routesMeta:n}=e,a={},s="/",l=[];for(let i=0;i<n.length;++i){let e=n[i],o=i===n.length-1,c="/"===s?t:t.slice(s.length)||"/",d=z({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&r&&!n[n.length-1].route.index&&(d=z({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),l.push({params:a,pathname:U([s,d.pathname]),pathnameBase:q(U([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=U([s,d.pathnameBase]))}return l}function z(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);p("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,n]}(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],l=s.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:n.reduce((e,t,r)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=i[r]||"";l=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const o=i[r];return e[n]=a&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:l,pattern:e}}function A(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return p(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function F(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function L(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function D(e,t){let r=M(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function I(e,t,r,n){let a;void 0===n&&(n=!1),"string"===typeof e?a=g(e):(a=d({},e),m(!a.pathname||!a.pathname.includes("?"),L("?","pathname","search",a)),m(!a.pathname||!a.pathname.includes("#"),L("#","pathname","hash",a)),m(!a.search||!a.search.includes("#"),L("#","search","hash",a)));let s,l=""===e||""===a.pathname,i=l?"/":a.pathname;if(null==i)s=r;else{let e=t.length-1;if(!n&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let o=function(e,t){void 0===t&&(t="/");let{pathname:r,search:n="",hash:a=""}="string"===typeof e?g(e):e,s=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:s,search:B(n),hash:V(a)}}(a,s),c=i&&"/"!==i&&i.endsWith("/"),u=(l||"."===i)&&r.endsWith("/");return o.pathname.endsWith("/")||!c&&!u||(o.pathname+="/"),o}const U=e=>e.join("/").replace(/\/\/+/g,"/"),q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const W=["post","put","patch","delete"],$=(new Set(W),["get",...W]);new Set($),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G.apply(this,arguments)}const Q=s.createContext(null);const J=s.createContext(null);const K=s.createContext(null);const X=s.createContext(null);const Y=s.createContext({outlet:null,matches:[],isDataRoute:!1});const Z=s.createContext(null);function ee(){return null!=s.useContext(X)}function te(){return ee()||m(!1),s.useContext(X).location}function re(e){s.useContext(K).static||s.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=s.useContext(Y);return e?function(){let{router:e}=he(me.UseNavigateStable),t=fe(pe.UseNavigateStable),r=s.useRef(!1);return re(()=>{r.current=!0}),s.useCallback(function(n,a){void 0===a&&(a={}),r.current&&("number"===typeof n?e.navigate(n):e.navigate(n,G({fromRouteId:t},a)))},[e,t])}():function(){ee()||m(!1);let e=s.useContext(Q),{basename:t,future:r,navigator:n}=s.useContext(K),{matches:a}=s.useContext(Y),{pathname:l}=te(),i=JSON.stringify(D(a,r.v7_relativeSplatPath)),o=s.useRef(!1);return re(()=>{o.current=!0}),s.useCallback(function(r,a){if(void 0===a&&(a={}),!o.current)return;if("number"===typeof r)return void n.go(r);let s=I(r,JSON.parse(i),l,"path"===a.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:U([t,s.pathname])),(a.replace?n.replace:n.push)(s,a.state,a)},[t,n,i,l,e])}()}const ae=s.createContext(null);function se(e,t){let{relative:r}=void 0===t?{}:t,{future:n}=s.useContext(K),{matches:a}=s.useContext(Y),{pathname:l}=te(),i=JSON.stringify(D(a,n.v7_relativeSplatPath));return s.useMemo(()=>I(e,JSON.parse(i),l,"path"===r),[e,i,l,r])}function le(e,t,r,n){ee()||m(!1);let{navigator:l}=s.useContext(K),{matches:i}=s.useContext(Y),o=i[i.length-1],c=o?o.params:{},d=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let u,p=te();if(t){var h;let e="string"===typeof t?g(t):t;"/"===d||(null==(h=e.pathname)?void 0:h.startsWith(d))||m(!1),u=e}else u=p;let x=u.pathname||"/",f=x;if("/"!==d){let e=d.replace(/^\//,"").split("/");f="/"+x.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=v(e,{pathname:f});let b=ue(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:U([d,l.encodeLocation?l.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:U([d,l.encodeLocation?l.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,r,n);return t&&b?s.createElement(X.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:a.Pop}},b):b}function ie(){let e=function(){var e;let t=s.useContext(Z),r=xe(pe.UseRouteError),n=fe(pe.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[n]}(),t=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),r?s.createElement("pre",{style:a},r):null,null)}const oe=s.createElement(ie,null);class ce extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(Y.Provider,{value:this.props.routeContext},s.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function de(e){let{routeContext:t,match:r,children:n}=e,a=s.useContext(Q);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),s.createElement(Y.Provider,{value:t},n)}function ue(e,t,r,n){var a;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===n&&(n=null),null==e){var l;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(l=n)&&l.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let i=e,o=null==(a=r)?void 0:a.errors;if(null!=o){let e=i.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||m(!1),i=i.slice(0,Math.min(i.length,e+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let s=0;s<i.length;s++){let e=i[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=s),e.route.id){let{loaderData:t,errors:n}=r,a=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||a){c=!0,i=d>=0?i.slice(0,d+1):[i[0]];break}}}return i.reduceRight((e,n,a)=>{let l,u=!1,m=null,p=null;var h;r&&(l=o&&n.route.id?o[n.route.id]:void 0,m=n.route.errorElement||oe,c&&(d<0&&0===a?(h="route-fallback",!1||ge[h]||(ge[h]=!0),u=!0,p=null):d===a&&(u=!0,p=n.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,a+1)),f=()=>{let t;return t=l?m:u?p:n.route.Component?s.createElement(n.route.Component,null):n.route.element?n.route.element:e,s.createElement(de,{match:n,routeContext:{outlet:e,matches:x,isDataRoute:null!=r},children:t})};return r&&(n.route.ErrorBoundary||n.route.errorElement||0===a)?s.createElement(ce,{location:r.location,revalidation:r.revalidation,component:m,error:l,children:f(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):f()},null)}var me=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(me||{}),pe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(pe||{});function he(e){let t=s.useContext(Q);return t||m(!1),t}function xe(e){let t=s.useContext(J);return t||m(!1),t}function fe(e){let t=function(){let e=s.useContext(Y);return e||m(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||m(!1),r.route.id}const ge={};function ye(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}l.startTransition;function be(e){let{to:t,replace:r,state:n,relative:a}=e;ee()||m(!1);let{future:l,static:i}=s.useContext(K),{matches:o}=s.useContext(Y),{pathname:c}=te(),d=ne(),u=I(t,D(o,l.v7_relativeSplatPath),c,"path"===a),p=JSON.stringify(u);return s.useEffect(()=>d(JSON.parse(p),{replace:r,state:n,relative:a}),[d,p,a,r,n]),null}function ve(e){return function(e){let t=s.useContext(Y).outlet;return t?s.createElement(ae.Provider,{value:e},t):t}(e.context)}function je(e){m(!1)}function Ne(e){let{basename:t="/",children:r=null,location:n,navigationType:l=a.Pop,navigator:i,static:o=!1,future:c}=e;ee()&&m(!1);let d=t.replace(/^\/*/,"/"),u=s.useMemo(()=>({basename:d,navigator:i,static:o,future:G({v7_relativeSplatPath:!1},c)}),[d,c,i,o]);"string"===typeof n&&(n=g(n));let{pathname:p="/",search:h="",hash:x="",state:f=null,key:y="default"}=n,b=s.useMemo(()=>{let e=F(p,d);return null==e?null:{location:{pathname:e,search:h,hash:x,state:f,key:y},navigationType:l}},[d,p,h,x,f,y,l]);return null==b?null:s.createElement(K.Provider,{value:u},s.createElement(X.Provider,{children:r,value:b}))}function we(e){let{children:t,location:r}=e;return le(ke(t),r)}new Promise(()=>{});s.Component;function ke(e,t){void 0===t&&(t=[]);let r=[];return s.Children.forEach(e,(e,n)=>{if(!s.isValidElement(e))return;let a=[...t,n];if(e.type===s.Fragment)return void r.push.apply(r,ke(e.props.children,a));e.type!==je&&m(!1),e.props.index&&e.props.children&&m(!1);let l={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(l.children=ke(e.props.children,a)),r.push(l)}),r}function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_e.apply(this,arguments)}function Ce(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ee=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(Vi){}const Pe=s.createContext({isTransitioning:!1});new Map;const Re=l.startTransition;c.flushSync,l.useId;function Oe(e){let{basename:t,children:r,future:n,window:a}=e,l=s.useRef();var i;null==l.current&&(l.current=(void 0===(i={window:a,v5Compat:!0})&&(i={}),y(function(e,t){let{pathname:r,search:n,hash:a}=e.location;return x("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:f(t)},null,i)));let o=l.current,[c,d]=s.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},m=s.useCallback(e=>{u&&Re?Re(()=>d(e)):d(e)},[d,u]);return s.useLayoutEffect(()=>o.listen(m),[o,m]),s.useEffect(()=>ye(n),[n]),s.createElement(Ne,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:o,future:n})}const Te="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,ze=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=s.forwardRef(function(e,t){let r,{onClick:n,relative:a,reloadDocument:l,replace:i,state:o,target:c,to:d,preventScrollReset:u,viewTransition:p}=e,h=Ce(e,Se),{basename:x}=s.useContext(K),g=!1;if("string"===typeof d&&ze.test(d)&&(r=d,Te))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),r=F(t.pathname,x);t.origin===e.origin&&null!=r?d=r+t.search+t.hash:g=!0}catch(Vi){}let y=function(e,t){let{relative:r}=void 0===t?{}:t;ee()||m(!1);let{basename:n,navigator:a}=s.useContext(K),{hash:l,pathname:i,search:o}=se(e,{relative:r}),c=i;return"/"!==n&&(c="/"===i?n:U([n,i])),a.createHref({pathname:c,search:o,hash:l})}(d,{relative:a}),b=function(e,t){let{target:r,replace:n,state:a,preventScrollReset:l,relative:i,viewTransition:o}=void 0===t?{}:t,c=ne(),d=te(),u=se(e,{relative:i});return s.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==n?n:f(d)===f(u);c(e,{replace:r,state:a,preventScrollReset:l,relative:i,viewTransition:o})}},[d,c,u,n,a,r,e,l,i,o])}(d,{replace:i,state:o,target:c,preventScrollReset:u,relative:a,viewTransition:p});return s.createElement("a",_e({},h,{href:r||y,onClick:g||l?n:function(e){n&&n(e),e.defaultPrevented||b(e)},ref:t,target:c}))});const Fe=s.forwardRef(function(e,t){let{"aria-current":r="page",caseSensitive:n=!1,className:a="",end:l=!1,style:i,to:o,viewTransition:c,children:d}=e,u=Ce(e,Ee),p=se(o,{relative:u.relative}),h=te(),x=s.useContext(J),{navigator:f,basename:g}=s.useContext(K),y=null!=x&&function(e,t){void 0===t&&(t={});let r=s.useContext(Pe);null==r&&m(!1);let{basename:n}=De(Le.useViewTransitionState),a=se(e,{relative:t.relative});if(!r.isTransitioning)return!1;let l=F(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=F(r.nextLocation.pathname,n)||r.nextLocation.pathname;return null!=z(a.pathname,i)||null!=z(a.pathname,l)}(p)&&!0===c,b=f.encodeLocation?f.encodeLocation(p).pathname:p.pathname,v=h.pathname,j=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(v=v.toLowerCase(),j=j?j.toLowerCase():null,b=b.toLowerCase()),j&&g&&(j=F(j,g)||j);const N="/"!==b&&b.endsWith("/")?b.length-1:b.length;let w,k=v===b||!l&&v.startsWith(b)&&"/"===v.charAt(N),_=null!=j&&(j===b||!l&&j.startsWith(b)&&"/"===j.charAt(b.length)),C={isActive:k,isPending:_,isTransitioning:y},S=k?r:void 0;w="function"===typeof a?a(C):[a,k?"active":null,_?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let E="function"===typeof i?i(C):i;return s.createElement(Ae,_e({},u,{"aria-current":S,className:w,ref:t,style:E,to:o,viewTransition:c}),"function"===typeof d?d(C):d)});var Le,Me;function De(e){let t=s.useContext(Q);return t||m(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Le||(Le={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Me||(Me={}));function Ie(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ue}=Object.prototype,{getPrototypeOf:qe}=Object,{iterator:Be,toStringTag:Ve}=Symbol,He=(We=Object.create(null),e=>{const t=Ue.call(e);return We[t]||(We[t]=t.slice(8,-1).toLowerCase())});var We;const $e=e=>(e=e.toLowerCase(),t=>He(t)===e),Ge=e=>t=>typeof t===e,{isArray:Qe}=Array,Je=Ge("undefined");function Ke(e){return null!==e&&!Je(e)&&null!==e.constructor&&!Je(e.constructor)&&Ze(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Xe=$e("ArrayBuffer");const Ye=Ge("string"),Ze=Ge("function"),et=Ge("number"),tt=e=>null!==e&&"object"===typeof e,rt=e=>{if("object"!==He(e))return!1;const t=qe(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Ve in e)&&!(Be in e)},nt=$e("Date"),at=$e("File"),st=$e("Blob"),lt=$e("FileList"),it=$e("URLSearchParams"),[ot,ct,dt,ut]=["ReadableStream","Request","Response","Headers"].map($e);function mt(e,t){let r,n,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Qe(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{if(Ke(e))return;const n=a?Object.getOwnPropertyNames(e):Object.keys(e),s=n.length;let l;for(r=0;r<s;r++)l=n[r],t.call(null,e[l],l,e)}}function pt(e,t){if(Ke(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n,a=r.length;for(;a-- >0;)if(n=r[a],t===n.toLowerCase())return n;return null}const ht="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,xt=e=>!Je(e)&&e!==ht;const ft=(gt="undefined"!==typeof Uint8Array&&qe(Uint8Array),e=>gt&&e instanceof gt);var gt;const yt=$e("HTMLFormElement"),bt=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),vt=$e("RegExp"),jt=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};mt(r,(r,a)=>{let s;!1!==(s=t(r,a,e))&&(n[a]=s||r)}),Object.defineProperties(e,n)};const Nt=$e("AsyncFunction"),wt=((e,t)=>{return e?setImmediate:t?(r="axios@".concat(Math.random()),n=[],ht.addEventListener("message",e=>{let{source:t,data:a}=e;t===ht&&a===r&&n.length&&n.shift()()},!1),e=>{n.push(e),ht.postMessage(r,"*")}):e=>setTimeout(e);var r,n})("function"===typeof setImmediate,Ze(ht.postMessage)),kt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(ht):"undefined"!==typeof process&&process.nextTick||wt,_t={isArray:Qe,isArrayBuffer:Xe,isBuffer:Ke,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Ze(e.append)&&("formdata"===(t=He(e))||"object"===t&&Ze(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Xe(e.buffer),t},isString:Ye,isNumber:et,isBoolean:e=>!0===e||!1===e,isObject:tt,isPlainObject:rt,isEmptyObject:e=>{if(!tt(e)||Ke(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Vi){return!1}},isReadableStream:ot,isRequest:ct,isResponse:dt,isHeaders:ut,isUndefined:Je,isDate:nt,isFile:at,isBlob:st,isRegExp:vt,isFunction:Ze,isStream:e=>tt(e)&&Ze(e.pipe),isURLSearchParams:it,isTypedArray:ft,isFileList:lt,forEach:mt,merge:function e(){const{caseless:t,skipUndefined:r}=xt(this)&&this||{},n={},a=(a,s)=>{const l=t&&pt(n,s)||s;rt(n[l])&&rt(a)?n[l]=e(n[l],a):rt(a)?n[l]=e({},a):Qe(a)?n[l]=a.slice():r&&Je(a)||(n[l]=a)};for(let s=0,l=arguments.length;s<l;s++)arguments[s]&&mt(arguments[s],a);return n},extend:function(e,t,r){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return mt(t,(t,n)=>{r&&Ze(t)?e[n]=Ie(t,r):e[n]=t},{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let a,s,l;const i={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)l=a[s],n&&!n(l,e,t)||i[l]||(t[l]=e[l],i[l]=!0);e=!1!==r&&qe(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:He,kindOfTest:$e,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(Qe(e))return e;let t=e.length;if(!et(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[Be]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:yt,hasOwnProperty:bt,hasOwnProp:bt,reduceDescriptors:jt,freezeMethods:e=>{jt(e,(t,r)=>{if(Ze(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];Ze(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))})},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach(e=>{r[e]=!0})};return Qe(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:pt,global:ht,isContextDefined:xt,isSpecCompliantForm:function(e){return!!(e&&Ze(e.append)&&"FormData"===e[Ve]&&e[Be])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(tt(e)){if(t.indexOf(e)>=0)return;if(Ke(e))return e;if(!("toJSON"in e)){t[n]=e;const a=Qe(e)?[]:{};return mt(e,(e,t)=>{const s=r(e,n+1);!Je(s)&&(a[t]=s)}),t[n]=void 0,a}}return e};return r(e,0)},isAsyncFn:Nt,isThenable:e=>e&&(tt(e)||Ze(e))&&Ze(e.then)&&Ze(e.catch),setImmediate:wt,asap:kt,isIterable:e=>null!=e&&Ze(e[Be])};function Ct(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}_t.inherits(Ct,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_t.toJSONObject(this.config),code:this.code,status:this.status}}});const St=Ct.prototype,Et={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Et[e]={value:e}}),Object.defineProperties(Ct,Et),Object.defineProperty(St,"isAxiosError",{value:!0}),Ct.from=(e,t,r,n,a,s)=>{const l=Object.create(St);_t.toFlatObject(e,l,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const i=e&&e.message?e.message:"Error",o=null==t&&e?e.code:t;return Ct.call(l,i,o,r,n,a),e&&null==l.cause&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",s&&Object.assign(l,s),l};const Pt=Ct;function Rt(e){return _t.isPlainObject(e)||_t.isArray(e)}function Ot(e){return _t.endsWith(e,"[]")?e.slice(0,-2):e}function Tt(e,t,r){return e?e.concat(t).map(function(e,t){return e=Ot(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}const zt=_t.toFlatObject(_t,{},null,function(e){return/^is[A-Z]/.test(e)});const At=function(e,t,r){if(!_t.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=_t.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!_t.isUndefined(t[e])})).metaTokens,a=r.visitor||c,s=r.dots,l=r.indexes,i=(r.Blob||"undefined"!==typeof Blob&&Blob)&&_t.isSpecCompliantForm(t);if(!_t.isFunction(a))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(_t.isDate(e))return e.toISOString();if(_t.isBoolean(e))return e.toString();if(!i&&_t.isBlob(e))throw new Pt("Blob is not supported. Use a Buffer instead.");return _t.isArrayBuffer(e)||_t.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,a){let i=e;if(e&&!a&&"object"===typeof e)if(_t.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(_t.isArray(e)&&function(e){return _t.isArray(e)&&!e.some(Rt)}(e)||(_t.isFileList(e)||_t.endsWith(r,"[]"))&&(i=_t.toArray(e)))return r=Ot(r),i.forEach(function(e,n){!_t.isUndefined(e)&&null!==e&&t.append(!0===l?Tt([r],n,s):null===l?r:r+"[]",o(e))}),!1;return!!Rt(e)||(t.append(Tt(a,r,s),o(e)),!1)}const d=[],u=Object.assign(zt,{defaultVisitor:c,convertValue:o,isVisitable:Rt});if(!_t.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!_t.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+n.join("."));d.push(r),_t.forEach(r,function(r,s){!0===(!(_t.isUndefined(r)||null===r)&&a.call(t,r,_t.isString(s)?s.trim():s,n,u))&&e(r,n?n.concat(s):[s])}),d.pop()}}(e),t};function Ft(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Lt(e,t){this._pairs=[],e&&At(e,this,t)}const Mt=Lt.prototype;Mt.append=function(e,t){this._pairs.push([e,t])},Mt.toString=function(e){const t=e?function(t){return e.call(this,t,Ft)}:Ft;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Dt=Lt;function It(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ut(e,t,r){if(!t)return e;const n=r&&r.encode||It;_t.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(s=a?a(t,r):_t.isURLSearchParams(t)?t.toString():new Dt(t,r).toString(n),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const qt=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){_t.forEach(this.handlers,function(t){null!==t&&e(t)})}},Bt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function Vt(e){return Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vt(e)}function Ht(e){var t=function(e,t){if("object"!=Vt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Vt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vt(t)?t:t+""}function Wt(e,t,r){return(t=Ht(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(r),!0).forEach(function(t){Wt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$t(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Qt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Dt,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Jt="undefined"!==typeof window&&"undefined"!==typeof document,Kt="object"===typeof navigator&&navigator||void 0,Xt=Jt&&(!Kt||["ReactNative","NativeScript","NS"].indexOf(Kt.product)<0),Yt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Zt=Jt&&window.location.href||"http://localhost",er=Gt(Gt({},n),Qt);const tr=function(e){function t(e,r,n,a){let s=e[a++];if("__proto__"===s)return!0;const l=Number.isFinite(+s),i=a>=e.length;if(s=!s&&_t.isArray(n)?n.length:s,i)return _t.hasOwnProp(n,s)?n[s]=[n[s],r]:n[s]=r,!l;n[s]&&_t.isObject(n[s])||(n[s]=[]);return t(e,r,n[s],a)&&_t.isArray(n[s])&&(n[s]=function(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}(n[s])),!l}if(_t.isFormData(e)&&_t.isFunction(e.entries)){const r={};return _t.forEachEntry(e,(e,n)=>{t(function(e){return _t.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),n,r,0)}),r}return null};const rr={transitional:Bt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,a=_t.isObject(e);a&&_t.isHTMLForm(e)&&(e=new FormData(e));if(_t.isFormData(e))return n?JSON.stringify(tr(e)):e;if(_t.isArrayBuffer(e)||_t.isBuffer(e)||_t.isStream(e)||_t.isFile(e)||_t.isBlob(e)||_t.isReadableStream(e))return e;if(_t.isArrayBufferView(e))return e.buffer;if(_t.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return At(e,new er.classes.URLSearchParams,Gt({visitor:function(e,t,r,n){return er.isNode&&_t.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=_t.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return At(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||n?(t.setContentType("application/json",!1),function(e,t,r){if(_t.isString(e))try{return(t||JSON.parse)(e),_t.trim(e)}catch(Vi){if("SyntaxError"!==Vi.name)throw Vi}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||rr.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(_t.isResponse(e)||_t.isReadableStream(e))return e;if(e&&_t.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e,this.parseReviver)}catch(Vi){if(r){if("SyntaxError"===Vi.name)throw Pt.from(Vi,Pt.ERR_BAD_RESPONSE,this,null,this.response);throw Vi}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:er.classes.FormData,Blob:er.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_t.forEach(["delete","get","head","post","put","patch"],e=>{rr.headers[e]={}});const nr=rr,ar=_t.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sr=Symbol("internals");function lr(e){return e&&String(e).trim().toLowerCase()}function ir(e){return!1===e||null==e?e:_t.isArray(e)?e.map(ir):String(e)}function or(e,t,r,n,a){return _t.isFunction(n)?n.call(this,t,r):(a&&(t=r),_t.isString(t)?_t.isString(n)?-1!==t.indexOf(n):_t.isRegExp(n)?n.test(t):void 0:void 0)}class cr{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function a(e,t,r){const a=lr(t);if(!a)throw new Error("header name must be a non-empty string");const s=_t.findKey(n,a);(!s||void 0===n[s]||!0===r||void 0===r&&!1!==n[s])&&(n[s||t]=ir(e))}const s=(e,t)=>_t.forEach(e,(e,r)=>a(e,r,t));if(_t.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(_t.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let r,n,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),r=e.substring(0,a).trim().toLowerCase(),n=e.substring(a+1).trim(),!r||t[r]&&ar[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t})(e),t);else if(_t.isObject(e)&&_t.isIterable(e)){let r,n,a={};for(const t of e){if(!_t.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[n=t[0]]=(r=a[n])?_t.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}s(a,t)}else null!=e&&a(t,e,r);return this}get(e,t){if(e=lr(e)){const r=_t.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(_t.isFunction(t))return t.call(this,e,r);if(_t.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=lr(e)){const r=_t.findKey(this,e);return!(!r||void 0===this[r]||t&&!or(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function a(e){if(e=lr(e)){const a=_t.findKey(r,e);!a||t&&!or(0,r[a],a,t)||(delete r[a],n=!0)}}return _t.isArray(e)?e.forEach(a):a(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const a=t[r];e&&!or(0,this[a],a,e,!0)||(delete this[a],n=!0)}return n}normalize(e){const t=this,r={};return _t.forEach(this,(n,a)=>{const s=_t.findKey(r,a);if(s)return t[s]=ir(n),void delete t[a];const l=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}(a):String(a).trim();l!==a&&delete t[a],t[l]=ir(n),r[l]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return _t.forEach(this,(r,n)=>{null!=r&&!1!==r&&(t[n]=e&&_t.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,r]=e;return t+": "+r}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[sr]=this[sr]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=lr(e);t[n]||(!function(e,t){const r=_t.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(e,r,a){return this[n].call(this,t,e,r,a)},configurable:!0})})}(r,e),t[n]=!0)}return _t.isArray(e)?e.forEach(n):n(e),this}}cr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),_t.reduceDescriptors(cr.prototype,(e,t)=>{let{value:r}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[n]=e}}}),_t.freezeMethods(cr);const dr=cr;function ur(e,t){const r=this||nr,n=t||r,a=dr.from(n.headers);let s=n.data;return _t.forEach(e,function(e){s=e.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function mr(e){return!(!e||!e.__CANCEL__)}function pr(e,t,r){Pt.call(this,null==e?"canceled":e,Pt.ERR_CANCELED,t,r),this.name="CanceledError"}_t.inherits(pr,Pt,{__CANCEL__:!0});const hr=pr;function xr(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new Pt("Request failed with status code "+r.status,[Pt.ERR_BAD_REQUEST,Pt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const fr=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a,s=0,l=0;return t=void 0!==t?t:1e3,function(i){const o=Date.now(),c=n[l];a||(a=o),r[s]=i,n[s]=o;let d=l,u=0;for(;d!==s;)u+=r[d++],d%=e;if(s=(s+1)%e,s===l&&(l=(l+1)%e),o-a<t)return;const m=c&&o-c;return m?Math.round(1e3*u/m):void 0}};const gr=function(e,t){let r,n,a=0,s=1e3/t;const l=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=s,r=null,n&&(clearTimeout(n),n=null),e(...t)};return[function(){const e=Date.now(),t=e-a;for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];t>=s?l(o,e):(r=o,n||(n=setTimeout(()=>{n=null,l(r)},s-t)))},()=>r&&l(r)]},yr=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const a=fr(50,250);return gr(r=>{const s=r.loaded,l=r.lengthComputable?r.total:void 0,i=s-n,o=a(i);n=s;e({loaded:s,total:l,progress:l?s/l:void 0,bytes:i,rate:o||void 0,estimated:o&&l&&s<=l?(l-s)/o:void 0,event:r,lengthComputable:null!=l,[t?"download":"upload"]:!0})},r)},br=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},vr=e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return _t.asap(()=>e(...r))},jr=er.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,er.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(er.origin),er.navigator&&/(msie|trident)/i.test(er.navigator.userAgent)):()=>!0,Nr=er.hasStandardBrowserEnv?{write(e,t,r,n,a,s,l){if("undefined"===typeof document)return;const i=["".concat(e,"=").concat(encodeURIComponent(t))];_t.isNumber(r)&&i.push("expires=".concat(new Date(r).toUTCString())),_t.isString(n)&&i.push("path=".concat(n)),_t.isString(a)&&i.push("domain=".concat(a)),!0===s&&i.push("secure"),_t.isString(l)&&i.push("SameSite=".concat(l)),document.cookie=i.join("; ")},read(e){if("undefined"===typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function wr(e,t,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const kr=e=>e instanceof dr?Gt({},e):e;function _r(e,t){t=t||{};const r={};function n(e,t,r,n){return _t.isPlainObject(e)&&_t.isPlainObject(t)?_t.merge.call({caseless:n},e,t):_t.isPlainObject(t)?_t.merge({},t):_t.isArray(t)?t.slice():t}function a(e,t,r,a){return _t.isUndefined(t)?_t.isUndefined(e)?void 0:n(void 0,e,0,a):n(e,t,0,a)}function s(e,t){if(!_t.isUndefined(t))return n(void 0,t)}function l(e,t){return _t.isUndefined(t)?_t.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function i(r,a,s){return s in t?n(r,a):s in e?n(void 0,r):void 0}const o={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:i,headers:(e,t,r)=>a(kr(e),kr(t),0,!0)};return _t.forEach(Object.keys(Gt(Gt({},e),t)),function(n){const s=o[n]||a,l=s(e[n],t[n],n);_t.isUndefined(l)&&s!==i||(r[n]=l)}),r}const Cr=e=>{const t=_r({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:l,auth:i}=t;if(t.headers=l=dr.from(l),t.url=Ut(wr(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&l.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),_t.isFormData(r))if(er.hasStandardBrowserEnv||er.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(_t.isFunction(r.getHeaders)){const e=r.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[r,n]=e;t.includes(r.toLowerCase())&&l.set(r,n)})}if(er.hasStandardBrowserEnv&&(n&&_t.isFunction(n)&&(n=n(t)),n||!1!==n&&jr(t.url))){const e=a&&s&&Nr.read(s);e&&l.set(a,e)}return t},Sr="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){const n=Cr(e);let a=n.data;const s=dr.from(n.headers).normalize();let l,i,o,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:p}=n;function h(){c&&c(),d&&d(),n.cancelToken&&n.cancelToken.unsubscribe(l),n.signal&&n.signal.removeEventListener("abort",l)}let x=new XMLHttpRequest;function f(){if(!x)return;const n=dr.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders());xr(function(e){t(e),h()},function(e){r(e),h()},{data:u&&"text"!==u&&"json"!==u?x.response:x.responseText,status:x.status,statusText:x.statusText,headers:n,config:e,request:x}),x=null}x.open(n.method.toUpperCase(),n.url,!0),x.timeout=n.timeout,"onloadend"in x?x.onloadend=f:x.onreadystatechange=function(){x&&4===x.readyState&&(0!==x.status||x.responseURL&&0===x.responseURL.indexOf("file:"))&&setTimeout(f)},x.onabort=function(){x&&(r(new Pt("Request aborted",Pt.ECONNABORTED,e,x)),x=null)},x.onerror=function(t){const n=t&&t.message?t.message:"Network Error",a=new Pt(n,Pt.ERR_NETWORK,e,x);a.event=t||null,r(a),x=null},x.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const a=n.transitional||Bt;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new Pt(t,a.clarifyTimeoutError?Pt.ETIMEDOUT:Pt.ECONNABORTED,e,x)),x=null},void 0===a&&s.setContentType(null),"setRequestHeader"in x&&_t.forEach(s.toJSON(),function(e,t){x.setRequestHeader(t,e)}),_t.isUndefined(n.withCredentials)||(x.withCredentials=!!n.withCredentials),u&&"json"!==u&&(x.responseType=n.responseType),p&&([o,d]=yr(p,!0),x.addEventListener("progress",o)),m&&x.upload&&([i,c]=yr(m),x.upload.addEventListener("progress",i),x.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(l=t=>{x&&(r(!t||t.type?new hr(null,e,x):t),x.abort(),x=null)},n.cancelToken&&n.cancelToken.subscribe(l),n.signal&&(n.signal.aborted?l():n.signal.addEventListener("abort",l)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);g&&-1===er.protocols.indexOf(g)?r(new Pt("Unsupported protocol "+g+":",Pt.ERR_BAD_REQUEST,e)):x.send(a||null)})},Er=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController;const a=function(e){if(!r){r=!0,l();const t=e instanceof Error?e:this.reason;n.abort(t instanceof Pt?t:new hr(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,a(new Pt("timeout ".concat(t," of ms exceeded"),Pt.ETIMEDOUT))},t);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:i}=n;return i.unsubscribe=()=>_t.asap(l),i}};function Pr(e,t){this.v=e,this.k=t}function Rr(e){return function(){return new Or(e.apply(this,arguments))}}function Or(e){var t,r;function n(t,r){try{var s=e[t](r),l=s.value,i=l instanceof Pr;Promise.resolve(i?l.v:l).then(function(r){if(i){var o="return"===t?"return":"next";if(!l.k||r.done)return n(o,r);r=e[o](r).value}a(s.done?"return":"normal",r)},function(e){n("throw",e)})}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,a){return new Promise(function(s,l){var i={key:e,arg:a,resolve:s,reject:l,next:null};r?r=r.next=i:(t=r=i,n(e,a))})},"function"!=typeof e.return&&(this.return=void 0)}function Tr(e){return new Pr(e,0)}function zr(e){var t={},r=!1;function n(t,n){return r=!0,n=new Promise(function(r){r(e[t](n))}),{done:!1,value:new Pr(n,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return r?(r=!1,e):n("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(r)throw r=!1,e;return n("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return r?(r=!1,e):n("return",e)}),t}function Ar(e){var t,r,n,a=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);a--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new Fr(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function Fr(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Fr=function(e){this.s=e,this.n=e.next},Fr.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new Fr(e)}Or.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Or.prototype.next=function(e){return this._invoke("next",e)},Or.prototype.throw=function(e){return this._invoke("throw",e)},Or.prototype.return=function(e){return this._invoke("return",e)};const Lr=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,a=0;for(;a<r;)n=a+t,yield e.slice(a,n),a=n},Mr=function(){var e=Rr(function*(e,t){var r,n=!1,a=!1;try{for(var s,l=Ar(Dr(e));n=!(s=yield Tr(l.next())).done;n=!1){const e=s.value;yield*zr(Ar(Lr(e,t)))}}catch(i){a=!0,r=i}finally{try{n&&null!=l.return&&(yield Tr(l.return()))}finally{if(a)throw r}}});return function(t,r){return e.apply(this,arguments)}}(),Dr=function(){var e=Rr(function*(e){if(e[Symbol.asyncIterator])return void(yield*zr(Ar(e)));const t=e.getReader();try{for(;;){const{done:e,value:r}=yield Tr(t.read());if(e)break;yield r}}finally{yield Tr(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),Ir=(e,t,r,n)=>{const a=Mr(e,t);let s,l=0,i=e=>{s||(s=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await a.next();if(t)return i(),void e.close();let s=n.byteLength;if(r){let e=l+=s;r(e)}e.enqueue(new Uint8Array(n))}catch(t){throw i(t),t}},cancel:e=>(i(e),a.return())},{highWaterMark:2})},{isFunction:Ur}=_t,qr=(e=>{let{Request:t,Response:r}=e;return{Request:t,Response:r}})(_t.global),{ReadableStream:Br,TextEncoder:Vr}=_t.global,Hr=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return!!e(...r)}catch(Vi){return!1}},Wr=e=>{e=_t.merge.call({skipUndefined:!0},qr,e);const{fetch:t,Request:r,Response:n}=e,a=t?Ur(t):"function"===typeof fetch,s=Ur(r),l=Ur(n);if(!a)return!1;const i=a&&Ur(Br),o=a&&("function"===typeof Vr?(c=new Vr,e=>c.encode(e)):async e=>new Uint8Array(await new r(e).arrayBuffer()));var c;const d=s&&i&&Hr(()=>{let e=!1;const t=new r(er.origin,{body:new Br,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=l&&i&&Hr(()=>_t.isReadableStream(new n("").body)),m={stream:u&&(e=>e.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!m[e]&&(m[e]=(t,r)=>{let n=t&&t[e];if(n)return n.call(t);throw new Pt("Response type '".concat(e,"' is not supported"),Pt.ERR_NOT_SUPPORT,r)})});const p=async(e,t)=>{const n=_t.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(_t.isBlob(e))return e.size;if(_t.isSpecCompliantForm(e)){const t=new r(er.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return _t.isArrayBufferView(e)||_t.isArrayBuffer(e)?e.byteLength:(_t.isURLSearchParams(e)&&(e+=""),_t.isString(e)?(await o(e)).byteLength:void 0)})(t):n};return async e=>{let{url:a,method:l,data:i,signal:o,cancelToken:c,timeout:h,onDownloadProgress:x,onUploadProgress:f,responseType:g,headers:y,withCredentials:b="same-origin",fetchOptions:v}=Cr(e),j=t||fetch;g=g?(g+"").toLowerCase():"text";let N=Er([o,c&&c.toAbortSignal()],h),w=null;const k=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let _;try{if(f&&d&&"get"!==l&&"head"!==l&&0!==(_=await p(y,i))){let e,t=new r(a,{method:"POST",body:i,duplex:"half"});if(_t.isFormData(i)&&(e=t.headers.get("content-type"))&&y.setContentType(e),t.body){const[e,r]=br(_,yr(vr(f)));i=Ir(t.body,65536,e,r)}}_t.isString(b)||(b=b?"include":"omit");const t=s&&"credentials"in r.prototype,o=Gt(Gt({},v),{},{signal:N,method:l.toUpperCase(),headers:y.normalize().toJSON(),body:i,duplex:"half",credentials:t?b:void 0});w=s&&new r(a,o);let c=await(s?j(w,v):j(a,o));const h=u&&("stream"===g||"response"===g);if(u&&(x||h&&k)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=_t.toFiniteNumber(c.headers.get("content-length")),[r,a]=x&&br(t,yr(vr(x),!0))||[];c=new n(Ir(c.body,65536,r,()=>{a&&a(),k&&k()}),e)}g=g||"text";let C=await m[_t.findKey(m,g)||"text"](c,e);return!h&&k&&k(),await new Promise((t,r)=>{xr(t,r,{data:C,headers:dr.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:w})})}catch(C){if(k&&k(),C&&"TypeError"===C.name&&/Load failed|fetch/i.test(C.message))throw Object.assign(new Pt("Network Error",Pt.ERR_NETWORK,e,w),{cause:C.cause||C});throw Pt.from(C,C&&C.code,e,w)}}},$r=new Map,Gr=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,s=[n,a,r];let l,i,o=s.length,c=$r;for(;o--;)l=s[o],i=c.get(l),void 0===i&&c.set(l,i=o?new Map:Wr(t)),c=i;return i},Qr=(Gr(),{http:null,xhr:Sr,fetch:{get:Gr}});_t.forEach(Qr,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Vi){}Object.defineProperty(e,"adapterName",{value:t})}});const Jr=e=>"- ".concat(e),Kr=e=>_t.isFunction(e)||null===e||!1===e;const Xr={getAdapter:function(e,t){e=_t.isArray(e)?e:[e];const{length:r}=e;let n,a;const s={};for(let l=0;l<r;l++){let r;if(n=e[l],a=n,!Kr(n)&&(a=Qr[(r=String(n)).toLowerCase()],void 0===a))throw new Pt("Unknown adapter '".concat(r,"'"));if(a&&(_t.isFunction(a)||(a=a.get(t))))break;s[r||"#"+l]=a}if(!a){const e=Object.entries(s).map(e=>{let[t,r]=e;return"adapter ".concat(t," ")+(!1===r?"is not supported by the environment":"is not available in the build")});let t=r?e.length>1?"since :\n"+e.map(Jr).join("\n"):" "+Jr(e[0]):"as no adapter specified";throw new Pt("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return a},adapters:Qr};function Yr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new hr(null,e)}function Zr(e){Yr(e),e.headers=dr.from(e.headers),e.data=ur.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Xr.getAdapter(e.adapter||nr.adapter,e)(e).then(function(t){return Yr(e),t.data=ur.call(e,e.transformResponse,t),t.headers=dr.from(t.headers),t},function(t){return mr(t)||(Yr(e),t&&t.response&&(t.response.data=ur.call(e,e.transformResponse,t.response),t.response.headers=dr.from(t.response.headers))),Promise.reject(t)})}const en="1.13.2",tn={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{tn[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const rn={};tn.transitional=function(e,t,r){function n(e,t){return"[Axios v"+en+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,a,s)=>{if(!1===e)throw new Pt(n(a," has been removed"+(t?" in "+t:"")),Pt.ERR_DEPRECATED);return t&&!rn[a]&&(rn[a]=!0,console.warn(n(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,a,s)}},tn.spelling=function(e){return(t,r)=>(console.warn("".concat(r," is likely a misspelling of ").concat(e)),!0)};const nn={assertOptions:function(e,t,r){if("object"!==typeof e)throw new Pt("options must be an object",Pt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],l=t[s];if(l){const t=e[s],r=void 0===t||l(t,s,e);if(!0!==r)throw new Pt("option "+s+" must be "+r,Pt.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new Pt("Unknown option "+s,Pt.ERR_BAD_OPTION)}},validators:tn},an=nn.validators;class sn{constructor(e){this.defaults=e||{},this.interceptors={request:new qt,response:new qt}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(Vi){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=_r(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:a}=t;void 0!==r&&nn.assertOptions(r,{silentJSONParsing:an.transitional(an.boolean),forcedJSONParsing:an.transitional(an.boolean),clarifyTimeoutError:an.transitional(an.boolean)},!1),null!=n&&(_t.isFunction(n)?t.paramsSerializer={serialize:n}:nn.assertOptions(n,{encode:an.function,serialize:an.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),nn.assertOptions(t,{baseUrl:an.spelling("baseURL"),withXsrfToken:an.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&_t.merge(a.common,a[t.method]);a&&_t.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=dr.concat(s,a);const l=[];let i=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});const o=[];let c;this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)});let d,u=0;if(!i){const e=[Zr.bind(this),void 0];for(e.unshift(...l),e.push(...o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=l.length;let m=t;for(;u<d;){const e=l[u++],t=l[u++];try{m=e(m)}catch(p){t.call(this,p);break}}try{c=Zr.call(this,m)}catch(p){return Promise.reject(p)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return Ut(wr((e=_r(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}_t.forEach(["delete","get","head","options"],function(e){sn.prototype[e]=function(t,r){return this.request(_r(r||{},{method:e,url:t,data:(r||{}).data}))}}),_t.forEach(["post","put","patch"],function(e){function t(t){return function(r,n,a){return this.request(_r(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}sn.prototype[e]=t(),sn.prototype[e+"Form"]=t(!0)});const ln=sn;class on{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;const n=new Promise(e=>{r.subscribe(e),t=e}).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e(function(e,n,a){r.reason||(r.reason=new hr(e,n,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new on(function(t){e=t}),cancel:e}}}const cn=on;const dn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(dn).forEach(e=>{let[t,r]=e;dn[r]=t});const un=dn;const mn=function e(t){const r=new ln(t),n=Ie(ln.prototype.request,r);return _t.extend(n,ln.prototype,r,{allOwnKeys:!0}),_t.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(_r(t,r))},n}(nr);mn.Axios=ln,mn.CanceledError=hr,mn.CancelToken=cn,mn.isCancel=mr,mn.VERSION=en,mn.toFormData=At,mn.AxiosError=Pt,mn.Cancel=mn.CanceledError,mn.all=function(e){return Promise.all(e)},mn.spread=function(e){return function(t){return e.apply(null,t)}},mn.isAxiosError=function(e){return _t.isObject(e)&&!0===e.isAxiosError},mn.mergeConfig=_r,mn.AxiosHeaders=dr,mn.formToJSON=e=>tr(_t.isHTMLForm(e)?new FormData(e):e),mn.getAdapter=Xr.getAdapter,mn.HttpStatusCode=un,mn.default=mn;const pn=mn,hn=pn.create({baseURL:"".concat("https://react-reborn.preview.emergentagent.com","/api/v1/admin"),headers:{"Content-Type":"application/json"}}),xn=(e,t)=>hn.post("/auth/login",{email:e,password:t}),fn=()=>hn.get("/dashboard/stats"),gn=e=>hn.get("/products",{params:{category:e}}),yn=e=>hn.post("/products",e),bn=(e,t)=>hn.put("/products/".concat(e),t),vn=e=>hn.delete("/products/".concat(e)),jn=()=>hn.get("/categories"),Nn=e=>hn.post("/categories",e),wn=(e,t)=>hn.put("/categories/".concat(e),t),kn=e=>hn.delete("/categories/".concat(e)),_n=e=>hn.post("/ai/generate-marketing",e),Cn=()=>hn.get("/ai/analyze-sales"),Sn=e=>hn.post("/ai/chat",{question:e}),En=()=>hn.get("/ai/suggest-promo"),Pn=e=>hn.get("/customers",{params:e}),Rn=()=>hn.get("/notifications"),On=e=>hn.post("/notifications/".concat(e,"/send")),Tn=e=>hn.delete("/notifications/".concat(e)),zn=e=>hn.get("/reservations",{params:e}),An=(e,t)=>hn.patch("/reservations/".concat(e,"/status"),t);var Fn=r(579);const Ln=(0,s.createContext)(),Mn=()=>{const e=(0,s.useContext)(Ln);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},Dn=e=>{let{children:t}=e;const[r,n]=(0,s.useState)(null),[a,l]=(0,s.useState)(!0);(0,s.useEffect)(()=>{const e=localStorage.getItem("admin_token"),t=localStorage.getItem("admin_user");e&&t&&n(JSON.parse(t)),l(!1)},[]);const i={user:r,loading:a,login:async(e,t)=>{try{const r=await xn(e,t),{access_token:a,user:s}=r.data;return localStorage.setItem("admin_token",a),localStorage.setItem("admin_user",JSON.stringify(s)),n(s),{success:!0}}catch(s){var r,a;return{success:!1,error:(null===(r=s.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.detail)||"Login failed"}}},logout:()=>{localStorage.removeItem("admin_token"),localStorage.removeItem("admin_user"),n(null)},isAuthenticated:!!r};return(0,Fn.jsx)(Ln.Provider,{value:i,children:t})};function In(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const Un=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},qn=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var Bn={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Vn=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Hn=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:i="",children:o,iconNode:c}=e,d=In(e,Vn);return(0,s.createElement)("svg",Gt(Gt(Gt({ref:t},Bn),{},{width:n,height:n,stroke:r,strokeWidth:l?24*Number(a)/Number(n):a,className:qn("lucide",i)},!o&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"}),d),[...c.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(o)?o:[o]])}),Wn=["className"],$n=(e,t)=>{const r=(0,s.forwardRef)((r,n)=>{let{className:a}=r,l=In(r,Wn);return(0,s.createElement)(Hn,Gt({ref:n,iconNode:t,className:qn("lucide-".concat((i=Un(e),i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),a)},l));var i});return r.displayName=Un(e),r},Gn=$n("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Qn=$n("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Jn=$n("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),Kn=$n("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),Xn=$n("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),Yn=$n("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Zn=$n("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),ea=$n("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),ta=$n("sliders-vertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]),ra=$n("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),na=$n("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),aa=$n("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),sa=$n("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),la=$n("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);function ia(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=ia(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function oa(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=ia(e))&&(n&&(n+=" "),n+=t);return n}const ca=(e,t)=>{var r;if(0===e.length)return t.classGroupId;const n=e[0],a=t.nextPart.get(n),s=a?ca(e.slice(1),a):void 0;if(s)return s;if(0===t.validators.length)return;const l=e.join("-");return null===(r=t.validators.find(e=>{let{validator:t}=e;return t(l)}))||void 0===r?void 0:r.classGroupId},da=/^\[(.+)\]$/,ua=e=>{if(da.test(e)){const t=da.exec(e)[1],r=null===t||void 0===t?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},ma=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return fa(Object.entries(e.classGroups),r).forEach(e=>{let[r,a]=e;pa(a,n,r,t)}),n},pa=(e,t,r,n)=>{e.forEach(e=>{if("string"===typeof e){return void((""===e?t:ha(t,e)).classGroupId=r)}if("function"===typeof e)return xa(e)?void pa(e(n),t,r,n):void t.validators.push({validator:e,classGroupId:r});Object.entries(e).forEach(e=>{let[a,s]=e;pa(s,ha(t,a),r,n)})})},ha=(e,t)=>{let r=e;return t.split("-").forEach(e=>{r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)}),r},xa=e=>e.isThemeGetter,fa=(e,t)=>t?e.map(e=>{let[r,n]=e;return[r,n.map(e=>"string"===typeof e?t+e:"object"===typeof e?Object.fromEntries(Object.entries(e).map(e=>{let[r,n]=e;return[t+r,n]})):e)]}):e,ga=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(a,s)=>{r.set(a,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(e){let t=r.get(e);return void 0!==t?t:void 0!==(t=n.get(e))?(a(e,t),t):void 0},set(e,t){r.has(e)?r.set(e,t):a(e,t)}}},ya=e=>{const{separator:t,experimentalParseClassName:r}=e,n=1===t.length,a=t[0],s=t.length,l=e=>{const r=[];let l,i=0,o=0;for(let u=0;u<e.length;u++){let c=e[u];if(0===i){if(c===a&&(n||e.slice(u,u+s)===t)){r.push(e.slice(o,u)),o=u+s;continue}if("/"===c){l=u;continue}}"["===c?i++:"]"===c&&i--}const c=0===r.length?e:e.substring(o),d=c.startsWith("!");return{modifiers:r,hasImportantModifier:d,baseClassName:d?c.substring(1):c,maybePostfixModifierPosition:l&&l>o?l-o:void 0}};return r?e=>r({className:e,parseClassName:l}):l},ba=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(e=>{"["===e[0]?(t.push(...r.sort(),e),r=[]):r.push(e)}),t.push(...r.sort()),t},va=e=>Gt({cache:ga(e.cacheSize),parseClassName:ya(e)},(e=>{const t=ma(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{const r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),ca(r,t)||ua(e)},getConflictingClassGroupIds:(e,t)=>{const a=r[e]||[];return t&&n[e]?[...a,...n[e]]:a}}})(e)),ja=/\s+/;function Na(){let e,t,r=0,n="";for(;r<arguments.length;)(e=arguments[r++])&&(t=wa(e))&&(n&&(n+=" "),n+=t);return n}const wa=e=>{if("string"===typeof e)return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=wa(e[n]))&&(r&&(r+=" "),r+=t);return r};function ka(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];let a,s,l,i=function(t){const n=r.reduce((e,t)=>t(e),e());return a=va(n),s=a.cache.get,l=a.cache.set,i=o,o(t)};function o(e){const t=s(e);if(t)return t;const r=((e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,s=[],l=e.trim().split(ja);let i="";for(let o=l.length-1;o>=0;o-=1){const e=l[o],{modifiers:t,hasImportantModifier:c,baseClassName:d,maybePostfixModifierPosition:u}=r(e);let m=Boolean(u),p=n(m?d.substring(0,u):d);if(!p){if(!m){i=e+(i.length>0?" "+i:i);continue}if(p=n(d),!p){i=e+(i.length>0?" "+i:i);continue}m=!1}const h=ba(t).join(":"),x=c?h+"!":h,f=x+p;if(s.includes(f))continue;s.push(f);const g=a(p,m);for(let r=0;r<g.length;++r){const e=g[r];s.push(x+e)}i=e+(i.length>0?" "+i:i)}return i})(e,a);return l(e,r),r}return function(){return i(Na.apply(null,arguments))}}const _a=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},Ca=/^\[(?:([a-z-]+):)?(.+)\]$/i,Sa=/^\d+\/\d+$/,Ea=new Set(["px","full","screen"]),Pa=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ra=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Oa=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ta=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,za=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Aa=e=>La(e)||Ea.has(e)||Sa.test(e),Fa=e=>Ja(e,"length",Ka),La=e=>Boolean(e)&&!Number.isNaN(Number(e)),Ma=e=>Ja(e,"number",La),Da=e=>Boolean(e)&&Number.isInteger(Number(e)),Ia=e=>e.endsWith("%")&&La(e.slice(0,-1)),Ua=e=>Ca.test(e),qa=e=>Pa.test(e),Ba=new Set(["length","size","percentage"]),Va=e=>Ja(e,Ba,Xa),Ha=e=>Ja(e,"position",Xa),Wa=new Set(["image","url"]),$a=e=>Ja(e,Wa,Za),Ga=e=>Ja(e,"",Ya),Qa=()=>!0,Ja=(e,t,r)=>{const n=Ca.exec(e);return!!n&&(n[1]?"string"===typeof t?n[1]===t:t.has(n[1]):r(n[2]))},Ka=e=>Ra.test(e)&&!Oa.test(e),Xa=()=>!1,Ya=e=>Ta.test(e),Za=e=>za.test(e),es=(Symbol.toStringTag,()=>{const e=_a("colors"),t=_a("spacing"),r=_a("blur"),n=_a("brightness"),a=_a("borderColor"),s=_a("borderRadius"),l=_a("borderSpacing"),i=_a("borderWidth"),o=_a("contrast"),c=_a("grayscale"),d=_a("hueRotate"),u=_a("invert"),m=_a("gap"),p=_a("gradientColorStops"),h=_a("gradientColorStopPositions"),x=_a("inset"),f=_a("margin"),g=_a("opacity"),y=_a("padding"),b=_a("saturate"),v=_a("scale"),j=_a("sepia"),N=_a("skew"),w=_a("space"),k=_a("translate"),_=()=>["auto",Ua,t],C=()=>[Ua,t],S=()=>["",Aa,Fa],E=()=>["auto",La,Ua],P=()=>["","0",Ua],R=()=>[La,Ua];return{cacheSize:500,separator:":",theme:{colors:[Qa],spacing:[Aa,Fa],blur:["none","",qa,Ua],brightness:R(),borderColor:[e],borderRadius:["none","","full",qa,Ua],borderSpacing:C(),borderWidth:S(),contrast:R(),grayscale:P(),hueRotate:R(),invert:P(),gap:C(),gradientColorStops:[e],gradientColorStopPositions:[Ia,Fa],inset:_(),margin:_(),opacity:R(),padding:C(),saturate:R(),scale:R(),sepia:P(),skew:R(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",Ua]}],container:["container"],columns:[{columns:[qa]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Ua]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Da,Ua]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ua]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",Da,Ua]}],"grid-cols":[{"grid-cols":[Qa]}],"col-start-end":[{col:["auto",{span:["full",Da,Ua]},Ua]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[Qa]}],"row-start-end":[{row:["auto",{span:[Da,Ua]},Ua]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ua]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ua]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[f]}],mx:[{mx:[f]}],my:[{my:[f]}],ms:[{ms:[f]}],me:[{me:[f]}],mt:[{mt:[f]}],mr:[{mr:[f]}],mb:[{mb:[f]}],ml:[{ml:[f]}],"space-x":[{"space-x":[w]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[w]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ua,t]}],"min-w":[{"min-w":[Ua,t,"min","max","fit"]}],"max-w":[{"max-w":[Ua,t,"none","full","min","max","fit","prose",{screen:[qa]},qa]}],h:[{h:[Ua,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ua,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ua,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ua,t,"auto","min","max","fit"]}],"font-size":[{text:["base",qa,Fa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ma]}],"font-family":[{font:[Qa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ua]}],"line-clamp":[{"line-clamp":["none",La,Ma]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Aa,Ua]}],"list-image":[{"list-image":["none",Ua]}],"list-style-type":[{list:["none","disc","decimal",Ua]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Aa,Fa]}],"underline-offset":[{"underline-offset":["auto",Aa,Ua]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ua]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ua]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Ha]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Va]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$a]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[Aa,Ua]}],"outline-w":[{outline:[Aa,Fa]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:S()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[Aa,Fa]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",qa,Ga]}],"shadow-color":[{shadow:[Qa]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[o]}],"drop-shadow":[{"drop-shadow":["","none",qa,Ua]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[b]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[o]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ua]}],duration:[{duration:R()}],ease:[{ease:["linear","in","out","in-out",Ua]}],delay:[{delay:R()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ua]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[v]}],"scale-x":[{"scale-x":[v]}],"scale-y":[{"scale-y":[v]}],rotate:[{rotate:[Da,Ua]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ua]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ua]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ua]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Aa,Fa,Ma]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}),ts=ka(es);function rs(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return ts(oa(t))}const ns=[{name:"Tableau de bord",path:"/admin",icon:Gn,exact:!0},{name:"Commandes",path:"/admin/orders",icon:Qn},{name:"Gestion du Menu",path:"/admin/menu",icon:Jn,highlight:!0},{name:"\ud83c\udfaf Promotions",path:"/admin/promotions",icon:Kn,highlight:!0},{name:"Notifications",path:"/admin/notifications",icon:Xn},{name:"Chiffre d'Affaires",path:"/admin/revenue",icon:Yn},{name:"\ud83e\udd16 IA Marketing",path:"/admin/ai-marketing",icon:Zn,section:!0},{name:"Campagnes propos\xe9es",path:"/admin/ai-marketing/campaigns",icon:Zn,indent:!0},{name:"Historique & R\xe9sultats",path:"/admin/ai-marketing/history",icon:ea,indent:!0},{name:"Param\xe8tres IA",path:"/admin/ai-marketing/settings",icon:ta,indent:!0},{name:"Clients",path:"/admin/customers",icon:ra},{name:"Assistant IA",path:"/admin/ai",icon:na},{name:"R\xe9servations",path:"/admin/reservations",icon:aa},{name:"Param\xe8tres",path:"/admin/settings",icon:sa}],as=()=>{const{logout:e,user:t}=Mn();return(0,Fn.jsxs)("div",{className:"w-64 bg-white border-r border-gray-200 h-screen fixed left-0 top-0 flex flex-col",children:[(0,Fn.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,Fn.jsx)("h1",{className:"text-2xl font-black text-primary",children:"Family's"}),(0,Fn.jsx)("p",{className:"text-sm text-gray-500",children:"Back Office"})]}),(0,Fn.jsx)("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:ns.map(e=>e.section?(0,Fn.jsx)("div",{className:"pt-4 pb-2",children:(0,Fn.jsxs)("div",{className:"flex items-center space-x-2 px-4 text-sm font-bold text-primary",children:[(0,Fn.jsx)(e.icon,{className:"w-4 h-4"}),(0,Fn.jsx)("span",{children:e.name})]})},e.path):(0,Fn.jsxs)(Fe,{to:e.path,end:e.exact,className:t=>{let{isActive:r}=t;return rs("flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200",e.indent&&"pl-8",e.highlight&&"border-2 border-orange-300",r?e.highlight?"bg-gradient-to-r from-orange-500 to-red-500 text-white font-bold shadow-lg":"bg-primary text-white font-semibold":e.highlight?"bg-gradient-to-r from-orange-50 to-red-50 text-orange-700 font-bold hover:from-orange-100 hover:to-red-100":"text-gray-700 hover:bg-gray-100")},children:[(0,Fn.jsx)(e.icon,{className:"w-5 h-5"}),(0,Fn.jsx)("span",{children:e.name})]},e.path))}),(0,Fn.jsxs)("div",{className:"p-4 border-t border-gray-200",children:[(0,Fn.jsxs)("div",{className:"mb-3",children:[(0,Fn.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:null===t||void 0===t?void 0:t.name}),(0,Fn.jsx)("p",{className:"text-xs text-gray-500",children:null===t||void 0===t?void 0:t.email})]}),(0,Fn.jsxs)("button",{onClick:e,className:"flex items-center space-x-2 w-full px-4 py-2 rounded-lg text-red-600 hover:bg-red-50 transition-all",children:[(0,Fn.jsx)(la,{className:"w-4 h-4"}),(0,Fn.jsx)("span",{className:"text-sm font-semibold",children:"D\xe9connexion"})]})]})]})},ss=()=>(0,Fn.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[(0,Fn.jsx)(as,{}),(0,Fn.jsx)("main",{className:"flex-1 ml-64",children:(0,Fn.jsx)(ve,{})})]}),ls=["className","variant","size"],is=s.forwardRef((e,t)=>{let{className:r,variant:n="primary",size:a="md"}=e,s=In(e,ls);return(0,Fn.jsx)("button",Gt({ref:t,className:rs("rounded-lg font-semibold transition-all duration-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-primary hover:bg-primary/90 text-white",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-900",outline:"border-2 border-gray-300 hover:bg-gray-50",ghost:"hover:bg-gray-100",danger:"bg-red-600 hover:bg-red-700 text-white"}[n],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"}[a],r)},s))});is.displayName="Button";const os=["className","type"],cs=["className"],ds=["className","children"],us=["className"],ms=s.forwardRef((e,t)=>{let{className:r,type:n="text"}=e,a=In(e,os);return(0,Fn.jsx)("input",Gt({type:n,className:rs("w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",r),ref:t},a))});ms.displayName="Input";const ps=e=>{let{className:t}=e,r=In(e,cs);return(0,Fn.jsx)("label",Gt({className:rs("block text-sm font-semibold text-gray-700 mb-2",t)},r))},hs=s.forwardRef((e,t)=>{let{className:r,children:n}=e,a=In(e,ds);return(0,Fn.jsx)("select",Gt(Gt({className:rs("w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all bg-white",r),ref:t},a),{},{children:n}))});hs.displayName="Select";const xs=s.forwardRef((e,t)=>{let{className:r}=e,n=In(e,us);return(0,Fn.jsx)("textarea",Gt({className:rs("w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all resize-vertical",r),ref:t},n))});xs.displayName="Textarea";const fs=["className"],gs=["className"],ys=["className"],bs=["className"],vs=e=>{let{className:t}=e,r=In(e,fs);return(0,Fn.jsx)("div",Gt({className:rs("bg-white rounded-xl shadow-md p-6",t)},r))},js=e=>{let{className:t}=e,r=In(e,gs);return(0,Fn.jsx)("div",Gt({className:rs("mb-4",t)},r))},Ns=e=>{let{className:t}=e,r=In(e,ys);return(0,Fn.jsx)("h3",Gt({className:rs("text-xl font-bold text-gray-900",t)},r))},ws=e=>{let{className:t}=e,r=In(e,bs);return(0,Fn.jsx)("div",Gt({className:rs("",t)},r))},ks=()=>{const[e,t]=(0,s.useState)(""),[r,n]=(0,s.useState)(""),[a,l]=(0,s.useState)(""),[i,o]=(0,s.useState)(!1),{login:c}=Mn(),d=ne();return(0,Fn.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary to-red-800 flex items-center justify-center p-4",children:(0,Fn.jsxs)(vs,{className:"w-full max-w-md",children:[(0,Fn.jsxs)("div",{className:"text-center mb-8",children:[(0,Fn.jsx)("h1",{className:"text-3xl font-black text-primary mb-2",children:"Family's"}),(0,Fn.jsx)("p",{className:"text-gray-600",children:"Back Office - Connexion"})]}),(0,Fn.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),l(""),o(!0);const n=await c(e,r);n.success?d("/admin"):l(n.error),o(!1)},className:"space-y-4",children:[a&&(0,Fn.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:a}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"email",children:"Email"}),(0,Fn.jsx)(ms,{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"admin@familys.app",required:!0})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"password",children:"Mot de passe"}),(0,Fn.jsx)(ms,{id:"password",type:"password",value:r,onChange:e=>n(e.target.value),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0})]}),(0,Fn.jsx)(is,{type:"submit",className:"w-full",disabled:i,children:i?"Connexion...":"Se connecter"})]}),(0,Fn.jsxs)("div",{className:"mt-6 text-center text-sm text-gray-500",children:[(0,Fn.jsx)("p",{children:"Compte par d\xe9faut:"}),(0,Fn.jsx)("p",{className:"font-mono",children:"admin@familys.app / Admin@123456"})]})]})})},_s=e=>{let{title:t}=e;return(0,Fn.jsxs)("header",{className:"bg-white border-b border-gray-200 px-8 py-4 flex items-center justify-between",children:[(0,Fn.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:t}),(0,Fn.jsx)("div",{className:"flex items-center space-x-4",children:(0,Fn.jsxs)("button",{className:"p-2 hover:bg-gray-100 rounded-lg relative",children:[(0,Fn.jsx)(Xn,{className:"w-5 h-5 text-gray-600"}),(0,Fn.jsx)("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]})})]})},Cs=$n("euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]),Ss=$n("trending-up",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Es=$n("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Ps=$n("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Rs=$n("banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),Os=()=>{var e,t,r;const[n,a]=(0,s.useState)(null),[l,i]=(0,s.useState)(!0);(0,s.useEffect)(()=>{o()},[]);const o=async()=>{try{const e=await fn();a(e.data)}catch(e){console.error("Failed to load stats:",e)}finally{i(!1)}};return l?(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(_s,{title:"Tableau de bord"}),(0,Fn.jsx)("div",{className:"p-8",children:(0,Fn.jsx)("p",{children:"Chargement..."})})]}):(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(_s,{title:"Tableau de bord"}),(0,Fn.jsxs)("div",{className:"p-8",children:[(0,Fn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,Fn.jsx)(vs,{children:(0,Fn.jsxs)(ws,{className:"flex items-center justify-between",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"text-sm text-gray-500 font-semibold",children:"CA Aujourd'hui"}),(0,Fn.jsxs)("p",{className:"text-3xl font-black text-primary mt-2",children:[(null===n||void 0===n||null===(e=n.ca_today)||void 0===e?void 0:e.toFixed(2))||"0.00","\u20ac"]})]}),(0,Fn.jsx)("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:(0,Fn.jsx)(Cs,{className:"w-6 h-6 text-primary"})})]})}),(0,Fn.jsx)(vs,{children:(0,Fn.jsxs)(ws,{className:"flex items-center justify-between",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"text-sm text-gray-500 font-semibold",children:"Commandes"}),(0,Fn.jsx)("p",{className:"text-3xl font-black text-blue-600 mt-2",children:(null===n||void 0===n?void 0:n.orders_today)||0})]}),(0,Fn.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,Fn.jsx)(Qn,{className:"w-6 h-6 text-blue-600"})})]})}),(0,Fn.jsx)(vs,{children:(0,Fn.jsxs)(ws,{className:"flex items-center justify-between",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"text-sm text-gray-500 font-semibold",children:"Panier moyen"}),(0,Fn.jsxs)("p",{className:"text-3xl font-black text-green-600 mt-2",children:[(null===n||void 0===n?void 0:n.orders_today)>0?(n.ca_today/n.orders_today).toFixed(2):"0.00","\u20ac"]})]}),(0,Fn.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,Fn.jsx)(Ss,{className:"w-6 h-6 text-green-600"})})]})}),(0,Fn.jsx)(vs,{children:(0,Fn.jsxs)(ws,{className:"flex items-center justify-between",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"text-sm text-gray-500 font-semibold",children:"Alertes"}),(0,Fn.jsx)("p",{className:"text-3xl font-black text-orange-600 mt-2",children:(null===n||void 0===n||null===(t=n.alerts)||void 0===t?void 0:t.out_of_stock_count)||0})]}),(0,Fn.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,Fn.jsx)(Es,{className:"w-6 h-6 text-orange-600"})})]})})]}),(0,Fn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,Fn.jsxs)(vs,{children:[(0,Fn.jsx)(js,{children:(0,Fn.jsx)(Ns,{children:"R\xe9partition paiements"})}),(0,Fn.jsx)(ws,{children:(0,Fn.jsxs)("div",{className:"space-y-3",children:[Object.entries((null===n||void 0===n?void 0:n.payment_breakdown)||{}).map(e=>{let[t,r]=e;return(0,Fn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Fn.jsxs)("div",{className:"flex items-center space-x-3",children:["card"===t&&(0,Fn.jsx)(Ps,{className:"w-5 h-5 text-gray-600"}),"cash"===t&&(0,Fn.jsx)(Rs,{className:"w-5 h-5 text-gray-600"}),(0,Fn.jsx)("span",{className:"font-semibold text-gray-700 capitalize",children:t})]}),(0,Fn.jsxs)("span",{className:"font-bold text-gray-900",children:[r.toFixed(2),"\u20ac"]})]},t)}),0===Object.keys((null===n||void 0===n?void 0:n.payment_breakdown)||{}).length&&(0,Fn.jsx)("p",{className:"text-gray-500 text-center py-4",children:"Aucune vente aujourd'hui"})]})})]}),(0,Fn.jsxs)(vs,{children:[(0,Fn.jsx)(js,{children:(0,Fn.jsx)(Ns,{children:"Top 5 produits (7 jours)"})}),(0,Fn.jsx)(ws,{children:(0,Fn.jsxs)("div",{className:"space-y-3",children:[null===n||void 0===n||null===(r=n.top_products)||void 0===r?void 0:r.map((e,t)=>(0,Fn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"font-semibold text-gray-900",children:e.name}),(0,Fn.jsxs)("p",{className:"text-sm text-gray-500",children:[e.quantity," ventes"]})]}),(0,Fn.jsxs)("span",{className:"font-bold text-primary",children:[e.revenue.toFixed(2),"\u20ac"]})]},t)),(!(null!==n&&void 0!==n&&n.top_products)||0===n.top_products.length)&&(0,Fn.jsx)("p",{className:"text-gray-500 text-center py-4",children:"Aucune vente cette semaine"})]})})]})]})]})]})},Ts=$n("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),zs=e=>{let{isOpen:t,onClose:r,title:n,children:a,size:l="md"}=e;if((0,s.useEffect)(()=>(document.body.style.overflow=t?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[t]),!t)return null;return(0,Fn.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,Fn.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:r}),(0,Fn.jsxs)("div",{className:rs("relative bg-white rounded-xl shadow-2xl w-full",{sm:"max-w-md",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl",small:"max-w-md"}[l]),children:[n&&(0,Fn.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[(0,Fn.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:n}),(0,Fn.jsx)("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:(0,Fn.jsx)(Ts,{className:"w-5 h-5 text-gray-600"})})]}),(0,Fn.jsx)("div",{className:"p-4 max-h-[75vh] overflow-y-auto",children:a})]})]})},As=$n("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),Fs=$n("upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Ls="https://react-reborn.preview.emergentagent.com",Ms=e=>{let{currentImage:t,onImageChange:r,label:n="Image"}=e;const[a,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(t||null);return(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:n}),i?(0,Fn.jsxs)("div",{className:"relative",children:[(0,Fn.jsx)("img",{src:i,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border-2 border-gray-300"}),(0,Fn.jsx)("button",{type:"button",onClick:()=>{o(null),r("")},className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-lg",children:(0,Fn.jsx)(Ts,{className:"w-4 h-4"})})]}):(0,Fn.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-primary transition-colors cursor-pointer",children:[(0,Fn.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const n=e.target.files[0];if(!n)return;if(!n.type.startsWith("image/"))return void alert("Veuillez s\xe9lectionner une image");const a=new FileReader;a.onloadend=()=>{o(a.result)},a.readAsDataURL(n),l(!0);try{const e=new FormData;e.append("file",n);const t=await pn.post("".concat(Ls,"/api/v1/admin/upload/image"),e,{headers:{"Content-Type":"multipart/form-data"}}),a="".concat(Ls).concat(t.data.url);r(a),alert("\u2705 Image upload\xe9e!")}catch(s){console.error("Erreur upload:",s),alert("Erreur lors de l'upload de l'image"),o(t)}finally{l(!1)}},className:"hidden",id:"image-upload",disabled:a}),(0,Fn.jsx)("label",{htmlFor:"image-upload",className:"cursor-pointer",children:a?(0,Fn.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Fn.jsx)(As,{className:"w-12 h-12 text-primary animate-spin mb-2"}),(0,Fn.jsx)("p",{className:"text-sm text-gray-600",children:"Upload en cours..."})]}):(0,Fn.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Fn.jsx)(Fs,{className:"w-12 h-12 text-gray-400 mb-2"}),(0,Fn.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Cliquez pour uploader une image"}),(0,Fn.jsx)("p",{className:"text-xs text-gray-400",children:"PNG, JPG, WEBP jusqu'\xe0 10MB"})]})})]}),(0,Fn.jsx)("div",{className:"mt-3",children:(0,Fn.jsx)("input",{type:"text",value:i||"",onChange:e=>{o(e.target.value),r(e.target.value)},placeholder:"Ou collez une URL d'image...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})})]})},Ds=$n("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Is=$n("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Us=$n("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),qs=e=>{let{isOpen:t,onClose:r,product:n,onSuccess:a}=e;const[l,i]=(0,s.useState)(!1),[o,c]=(0,s.useState)([]),[d,u]=(0,s.useState)([]),[m,p]=(0,s.useState)([]),[h,x]=(0,s.useState)({}),[f,g]=(0,s.useState)({name:"",category:"",description:"",base_price:"",vat_rate:"10",image:"",image_url:"",tags:[],option_ids:[],is_available:!0,is_out_of_stock:!1});(0,s.useEffect)(()=>{y(),b()},[]),(0,s.useEffect)(()=>{t&&(y(),b())},[t]),(0,s.useEffect)(()=>{if(n){var e,t,r,a;const s={name:n.name||"",category:n.category||"",description:n.description||"",base_price:(null===(e=n.base_price)||void 0===e?void 0:e.toString())||"",vat_rate:(null===(t=n.vat_rate)||void 0===t?void 0:t.toString())||"10",image:n.image||"",image_url:n.image_url||n.image||"",tags:n.tags||[],option_ids:n.option_ids||[],is_available:null===(r=n.is_available)||void 0===r||r,is_out_of_stock:null!==(a=n.is_out_of_stock)&&void 0!==a&&a};if(g(s),s.option_ids.length>0){const e=d.filter(e=>s.option_ids.includes(e.id));p(e.map((e,t)=>Gt(Gt({},e),{},{order:t})))}}else g({name:"",category:"",description:"",base_price:"",vat_rate:"10",image:"",image_url:"",tags:[],option_ids:[],is_available:!0,is_out_of_stock:!1}),p([])},[n,d]);const y=async()=>{try{const e=await jn();c(e.data.categories||[])}catch(e){console.error("Failed to load categories:",e)}},b=async()=>{try{const e=await pn.get("".concat("https://react-reborn.preview.emergentagent.com","/api/v1/admin/options"));u(e.data.options||[])}catch(e){console.error("Failed to load options:",e)}},v=(e,t)=>{t?(p([...m,Gt(Gt({},e),{},{order:m.length})]),g(Gt(Gt({},f),{},{option_ids:[...f.option_ids,e.id]}))):(p(m.filter(t=>t.id!==e.id)),g(Gt(Gt({},f),{},{option_ids:f.option_ids.filter(t=>t!==e.id)})))};return(0,Fn.jsx)(zs,{isOpen:t,onClose:r,title:n?"Modifier le produit":"Nouveau produit",size:"lg",children:(0,Fn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(!0);try{const e=Gt(Gt({},f),{},{base_price:parseFloat(f.base_price),vat_rate:parseFloat(f.vat_rate),option_groups:[]});n?await bn(n.id,e):await yn(e),a(),r()}catch(l){var t,s;alert("Erreur : "+((null===(t=l.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.detail)||"Erreur inconnue"))}finally{i(!1)}},className:"space-y-4",children:[(0,Fn.jsx)("div",{children:(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"name",children:"Nom du produit *"}),(0,Fn.jsx)(ms,{id:"name",value:f.name,onChange:e=>g(Gt(Gt({},f),{},{name:e.target.value})),required:!0})]})}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"category",children:"Cat\xe9gorie *"}),(0,Fn.jsxs)(hs,{id:"category",value:f.category,onChange:e=>g(Gt(Gt({},f),{},{category:e.target.value})),required:!0,children:[(0,Fn.jsx)("option",{value:"",children:"S\xe9lectionner..."}),o.map(e=>(0,Fn.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"description",children:"Description *"}),(0,Fn.jsx)("textarea",{id:"description",value:f.description,onChange:e=>g(Gt(Gt({},f),{},{description:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",rows:"3",required:!0})]}),(0,Fn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"base_price",children:"Prix TTC (\u20ac) *"}),(0,Fn.jsx)(ms,{id:"base_price",type:"number",step:"0.01",min:"0",value:f.base_price,onChange:e=>g(Gt(Gt({},f),{},{base_price:e.target.value})),required:!0})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"vat_rate",children:"TVA (%) *"}),(0,Fn.jsxs)(hs,{id:"vat_rate",value:f.vat_rate,onChange:e=>g(Gt(Gt({},f),{},{vat_rate:e.target.value})),required:!0,children:[(0,Fn.jsx)("option",{value:"5.5",children:"5.5%"}),(0,Fn.jsx)("option",{value:"10",children:"10%"}),(0,Fn.jsx)("option",{value:"20",children:"20%"})]})]})]}),(0,Fn.jsx)(Ms,{currentImage:f.image_url||f.image,onImageChange:e=>g(Gt(Gt({},f),{},{image:e,image_url:e})),label:"Image du produit"}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{children:"Options du produit"}),(0,Fn.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"S\xe9lectionnez les options que le client pourra choisir pour ce produit"}),m.length>0&&(0,Fn.jsxs)("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,Fn.jsxs)("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:["Options s\xe9lectionn\xe9es (",m.length,")"]}),(0,Fn.jsx)("div",{className:"space-y-2",children:m.map((e,t)=>{var r;return(0,Fn.jsx)("div",{className:"bg-white p-3 rounded border border-blue-300",children:(0,Fn.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Fn.jsxs)("div",{className:"flex-1",children:[(0,Fn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Fn.jsx)("span",{className:"font-semibold text-sm",children:e.name}),(0,Fn.jsx)("span",{className:"px-2 py-0.5 rounded text-xs ".concat(e.is_required?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"),children:e.is_required?"Obligatoire":"Optionnel"})]}),(0,Fn.jsxs)("button",{type:"button",onClick:()=>x(Gt(Gt({},h),{},{[e.id]:!h[e.id]})),className:"text-xs text-blue-600 hover:text-blue-800 mt-1 flex items-center gap-1",children:[(0,Fn.jsx)(Ds,{className:"w-3 h-3"}),h[e.id]?"Masquer":"Voir"," les choix (",(null===(r=e.choices)||void 0===r?void 0:r.length)||0,")"]}),h[e.id]&&(0,Fn.jsxs)("div",{className:"mt-2 pl-4 border-l-2 border-blue-200",children:[e.choices&&e.choices.map((e,t)=>(0,Fn.jsxs)("div",{className:"text-xs text-gray-600 py-1",children:["\u2022 ",e.name," ",e.price_modifier>0&&"(+".concat(e.price_modifier.toFixed(2),"\u20ac)")]},t)),e.internal_comment&&(0,Fn.jsxs)("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs",children:[(0,Fn.jsx)("span",{className:"font-semibold text-yellow-800",children:"\ud83d\udcdd Note interne :"}),(0,Fn.jsx)("span",{className:"text-yellow-700 ml-1",children:e.internal_comment})]})]})]}),(0,Fn.jsxs)("div",{className:"flex items-center gap-2 ml-3",children:[(0,Fn.jsx)("button",{type:"button",onClick:()=>(e=>{if(0===e)return;const t=[...m];[t[e-1],t[e]]=[t[e],t[e-1]],p(t),g(Gt(Gt({},f),{},{option_ids:t.map(e=>e.id)}))})(t),disabled:0===t,className:"p-1 text-gray-600 hover:text-gray-800 disabled:opacity-30 disabled:cursor-not-allowed",children:(0,Fn.jsx)(Is,{className:"w-4 h-4"})}),(0,Fn.jsx)("button",{type:"button",onClick:()=>(e=>{if(e===m.length-1)return;const t=[...m];[t[e],t[e+1]]=[t[e+1],t[e]],p(t),g(Gt(Gt({},f),{},{option_ids:t.map(e=>e.id)}))})(t),disabled:t===m.length-1,className:"p-1 text-gray-600 hover:text-gray-800 disabled:opacity-30 disabled:cursor-not-allowed",children:(0,Fn.jsx)(Us,{className:"w-4 h-4"})}),(0,Fn.jsx)("button",{type:"button",onClick:()=>v(e,!1),className:"p-1 text-red-600 hover:text-red-800",children:(0,Fn.jsx)(Ts,{className:"w-4 h-4"})})]})]})},e.id)})})]}),(0,Fn.jsx)("div",{className:"grid grid-cols-1 gap-2 max-h-48 overflow-y-auto border border-gray-200 rounded-lg p-3",children:d.map(e=>{var t;const r=f.option_ids.includes(e.id);return(0,Fn.jsxs)("label",{className:"flex items-center space-x-3 p-2 rounded cursor-pointer transition-colors ".concat(r?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"),children:[(0,Fn.jsx)("input",{type:"checkbox",checked:r,onChange:t=>v(e,t.target.checked),className:"w-4 h-4"}),(0,Fn.jsxs)("div",{className:"flex-1",children:[(0,Fn.jsx)("span",{className:"font-semibold text-sm",children:e.name}),(0,Fn.jsx)("span",{className:"ml-2 px-2 py-0.5 rounded text-xs ".concat(e.is_required?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"),children:e.is_required?"Obligatoire":"Optionnel"}),(0,Fn.jsxs)("span",{className:"ml-2 text-xs text-gray-500",children:["(",(null===(t=e.choices)||void 0===t?void 0:t.length)||0," choix)"]})]})]},e.id)})})]}),(0,Fn.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,Fn.jsx)("h4",{className:"text-sm font-semibold mb-3",children:"Disponibilit\xe9 du produit"}),(0,Fn.jsxs)("div",{className:"space-y-3",children:[(0,Fn.jsxs)("label",{className:"flex items-start space-x-3 cursor-pointer",children:[(0,Fn.jsx)("input",{type:"checkbox",checked:f.is_available,onChange:e=>{const t=e.target.checked;g(Gt(Gt({},f),{},{is_available:t,is_out_of_stock:!!t&&f.is_out_of_stock}))},className:"w-4 h-4 mt-1 text-primary rounded"}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"Visible dans l'app"}),(0,Fn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Si coch\xe9, le produit appara\xeet dans l'application mobile"})]})]}),(0,Fn.jsxs)("label",{className:"flex items-start space-x-3 cursor-pointer ".concat(f.is_available?"":"opacity-50"),children:[(0,Fn.jsx)("input",{type:"checkbox",checked:f.is_out_of_stock,onChange:e=>{const t=e.target.checked;g(Gt(Gt({},f),{},{is_out_of_stock:t,is_available:!!t||f.is_available}))},disabled:!f.is_available,className:"w-4 h-4 mt-1 text-primary rounded"}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"Rupture de stock"}),(0,Fn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:'Si coch\xe9, affiche une banni\xe8re "Indisponible pour le moment" dans l\'app'})]})]}),f.is_out_of_stock&&(0,Fn.jsxs)("div",{className:"ml-7 mt-2 flex gap-2",children:[(0,Fn.jsx)("button",{type:"button",onClick:()=>g(Gt(Gt({},f),{},{stock_status:"2h"})),className:"px-3 py-1 text-xs rounded-full font-medium border-2 transition-colors ".concat("2h"===f.stock_status?"bg-orange-100 border-orange-500 text-orange-700":"bg-white border-gray-300 text-gray-600 hover:border-orange-400"),children:"\u23f1 Rupture 2h"}),(0,Fn.jsx)("button",{type:"button",onClick:()=>g(Gt(Gt({},f),{},{stock_status:"today"})),className:"px-3 py-1 text-xs rounded-full font-medium border-2 transition-colors ".concat("today"===f.stock_status?"bg-red-100 border-red-500 text-red-700":"bg-white border-gray-300 text-gray-600 hover:border-red-400"),children:"\ud83d\udcc5 Rupture journ\xe9e"}),(0,Fn.jsx)("button",{type:"button",onClick:()=>g(Gt(Gt({},f),{},{stock_status:"indefinite"})),className:"px-3 py-1 text-xs rounded-full font-medium border-2 transition-colors ".concat("indefinite"===f.stock_status?"bg-gray-100 border-gray-500 text-gray-700":"bg-white border-gray-300 text-gray-600 hover:border-gray-400"),children:"\u26d4 Rupture ind\xe9finie"})]})]}),(0,Fn.jsxs)("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-200 rounded text-xs text-blue-800",children:["\u2139\ufe0f ",(0,Fn.jsx)("strong",{children:"Note :"})," ",f.is_available?f.is_out_of_stock?"Le produit est visible mais marqu\xe9 comme indisponible":"Le produit est visible et disponible \xe0 la commande":"Le produit est masqu\xe9 de l'application"]})]}),(0,Fn.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,Fn.jsx)(is,{type:"button",variant:"secondary",onClick:r,children:"Annuler"}),(0,Fn.jsx)(is,{type:"submit",disabled:l,children:l?"Enregistrement...":n?"Mettre \xe0 jour":"Cr\xe9er"})]})]})})},Bs=$n("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Vs=$n("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),Hs=$n("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),Ws=$n("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),$s=$n("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Gs=()=>{const[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)(!0),[a,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(null);(0,s.useEffect)(()=>{c()},[]);const c=async()=>{try{const e=await gn();t(e.data.products||[])}catch(e){console.error("Failed to load products:",e),t([])}finally{n(!1)}};return r?(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(_s,{title:"Produits"}),(0,Fn.jsx)("div",{className:"p-8",children:(0,Fn.jsx)("p",{children:"Chargement..."})})]}):(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(_s,{title:"\ud83d\udce6 Produits",subtitle:"".concat(e.length," produits disponibles")}),(0,Fn.jsxs)("div",{className:"p-8",children:[(0,Fn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Fn.jsxs)("h3",{className:"text-xl font-bold",children:[e.length," produits"]}),(0,Fn.jsxs)(is,{onClick:()=>l(!0),children:[(0,Fn.jsx)(Bs,{className:"w-4 h-4 mr-2"}),"Ajouter un produit"]})]}),(0,Fn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>{const t=e.price||e.base_price||0;let r=e.image_url||e.image;return r&&r.startsWith("/")&&(r="".concat("https://react-reborn.preview.emergentagent.com").concat(r)),(0,Fn.jsxs)(vs,{children:[r?(0,Fn.jsx)("img",{src:r,alt:e.name,className:"w-full h-48 object-cover rounded-lg mb-4"}):(0,Fn.jsx)("div",{className:"w-full h-48 bg-gray-100 rounded-lg mb-4 flex items-center justify-center",children:(0,Fn.jsx)(Vs,{className:"w-12 h-12 text-gray-400"})}),(0,Fn.jsx)("h4",{className:"font-bold text-lg mb-2",children:e.name}),(0,Fn.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:e.description}),(0,Fn.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,Fn.jsxs)("span",{className:"text-2xl font-black text-primary",children:[t.toFixed(2),"\u20ac"]})}),(0,Fn.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,Fn.jsx)(is,{size:"sm",variant:"outline",onClick:()=>{o(e),l(!0)},title:"Modifier",children:(0,Fn.jsx)(Hs,{className:"w-4 h-4"})}),(0,Fn.jsx)(is,{size:"sm",variant:"outline",onClick:()=>(async e=>{if(window.confirm('Dupliquer "'.concat(e.name,'" ?')))try{const t=Gt(Gt({},e),{},{name:"".concat(e.name," (copie)"),slug:"".concat(e.slug,"-copie-").concat(Date.now())});delete t.id,await yn(t),c(),alert("\u2705 Produit dupliqu\xe9 avec succ\xe8s !")}catch(t){alert("Erreur lors de la duplication")}})(e),title:"Dupliquer",children:(0,Fn.jsx)(Ws,{className:"w-4 h-4"})}),(0,Fn.jsx)(is,{size:"sm",variant:"danger",onClick:()=>(async e=>{if(window.confirm("\xcates-vous s\xfbr de vouloir supprimer ce produit ?"))try{await vn(e),c()}catch(t){alert("Erreur lors de la suppression")}})(e.id),title:"Supprimer",children:(0,Fn.jsx)($s,{className:"w-4 h-4"})})]}),(0,Fn.jsxs)("div",{className:"mt-3 flex items-center space-x-2",children:[(0,Fn.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat(e.is_available?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.is_available?"Disponible":"Indisponible"}),e.is_out_of_stock&&(0,Fn.jsx)("span",{className:"text-xs px-2 py-1 rounded bg-orange-100 text-orange-700",children:"Rupture"})]})]},e.id)})}),0===e.length&&(0,Fn.jsxs)("div",{className:"text-center py-12",children:[(0,Fn.jsx)(Vs,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Fn.jsx)("p",{className:"text-gray-500",children:"Aucun produit pour le moment"})]})]}),(0,Fn.jsx)(qs,{isOpen:a,onClose:()=>{l(!1),o(null)},product:i,onSuccess:c})]})},Qs=e=>{var t,r;let{isOpen:n,onClose:a,order:l,onSuccess:i}=e;const[o,c]=(0,s.useState)([]),[d,u]=(0,s.useState)(""),[m,p]=(0,s.useState)(""),[h,x]=(0,s.useState)(!1),f="paid"===(null===l||void 0===l?void 0:l.payment_status),g=f&&"online"===(null===l||void 0===l?void 0:l.payment_method);(0,s.useEffect)(()=>{l&&n&&(c(f&&!g?[{method:l.payment_method||"",amount:parseFloat(l.total)}]:[]),u(""),p(""))},[l,f,g,n]);const y=o.reduce((e,t)=>e+t.amount,0),b=l?parseFloat(l.total)-y:0;return(0,Fn.jsxs)(zs,{isOpen:n,onClose:a,size:"medium",children:[(0,Fn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Fn.jsx)("h2",{className:"text-xl font-bold",children:f?"\u270f\ufe0f Modifier le paiement":"\ud83d\udcb3 Enregistrer le paiement"}),(0,Fn.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:(0,Fn.jsx)(Ts,{className:"w-5 h-5"})})]}),g&&(0,Fn.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,Fn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Fn.jsx)("span",{className:"text-xl",children:"\ud83d\udd12"}),(0,Fn.jsx)("p",{className:"text-sm text-red-700 font-medium",children:"Paiement en ligne non modifiable"})]})}),(0,Fn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),0!==o.length)if(b>.01)alert("\u26a0\ufe0f Il reste ".concat(b.toFixed(2),"\u20ac \xe0 payer"));else{x(!0);try{const e="https://react-reborn.preview.emergentagent.com",t=1===o.length?{payment_method:o[0].method,payment_status:"paid",amount_received:o[0].amount,change_given:y-parseFloat(l.total)}:{payment_method:"multi",payment_status:"paid",payments:o,amount_received:y,change_given:y-parseFloat(l.total)};if(!(await fetch("".concat(e,"/api/v1/admin/orders/").concat(l.id,"/payment"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw new Error("Failed to record payment");alert("\u2705 Paiement enregistr\xe9"),null===i||void 0===i||i(),a()}catch(t){console.error("Payment error:",t),alert("\u274c Erreur lors de l'enregistrement du paiement")}finally{x(!1)}}else alert("\u26a0\ufe0f Ajoutez au moins un paiement")},className:"space-y-4",children:[(0,Fn.jsx)("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border-2 border-blue-200",children:(0,Fn.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("span",{className:"text-sm text-gray-600",children:"Commande:"}),(0,Fn.jsxs)("span",{className:"ml-2 font-bold",children:["#",null===l||void 0===l||null===(t=l.id)||void 0===t?void 0:t.slice(0,8)]})]}),(0,Fn.jsxs)("div",{className:"text-right",children:[(0,Fn.jsx)("span",{className:"text-sm text-gray-600",children:"Total:"}),(0,Fn.jsxs)("span",{className:"ml-2 font-bold text-lg",children:[null===l||void 0===l||null===(r=l.total)||void 0===r?void 0:r.toFixed(2),"\u20ac"]})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("span",{className:"text-sm text-gray-600",children:"D\xe9j\xe0 pay\xe9:"}),(0,Fn.jsxs)("span",{className:"ml-2 font-bold text-green-600",children:[y.toFixed(2),"\u20ac"]})]}),(0,Fn.jsxs)("div",{className:"text-right",children:[(0,Fn.jsx)("span",{className:"text-sm text-gray-600",children:"Restant:"}),(0,Fn.jsxs)("span",{className:"ml-2 font-bold text-xl ".concat(b>0?"text-red-600":"text-green-600"),children:[b.toFixed(2),"\u20ac"]})]})]})}),o.length>0&&(0,Fn.jsxs)("div",{className:"space-y-2",children:[(0,Fn.jsx)("h3",{className:"font-semibold text-sm text-gray-700",children:"Paiements enregistr\xe9s:"}),o.map((e,t)=>{return(0,Fn.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Fn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Fn.jsx)("span",{className:"font-medium",children:(r=e.method,{espece:"\ud83d\udcb5 Esp\xe8ce",cb:"\ud83d\udcb3 CB",cheque:"\ud83d\udcdd Ch\xe8que",ticket_restaurant:"\ud83c\udf9f\ufe0f Ticket restaurant"}[r]||r)}),(0,Fn.jsx)("span",{className:"text-gray-400",children:"\u2192"}),(0,Fn.jsxs)("span",{className:"font-bold text-green-600",children:[e.amount.toFixed(2),"\u20ac"]})]}),!g&&(0,Fn.jsx)("button",{type:"button",onClick:()=>(e=>{c(o.filter((t,r)=>r!==e))})(t),className:"text-red-500 hover:text-red-700",children:(0,Fn.jsx)($s,{className:"w-4 h-4"})})]},t);var r})]}),!g&&b>.01&&(0,Fn.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 space-y-3",children:[(0,Fn.jsx)("h3",{className:"font-semibold text-sm text-gray-700",children:"Ajouter un paiement:"}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Mode de paiement *"}),(0,Fn.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Fn.jsx)("button",{type:"button",onClick:()=>u("espece"),className:"p-3 rounded-lg border-2 transition-all text-sm font-bold ".concat("espece"===d?"border-green-600 bg-green-500 text-white shadow-lg scale-105":"border-green-300 bg-green-50 text-green-700 hover:bg-green-100"),children:"\ud83d\udcb5 Esp\xe8ce"}),(0,Fn.jsx)("button",{type:"button",onClick:()=>u("cb"),className:"p-3 rounded-lg border-2 transition-all text-sm font-bold ".concat("cb"===d?"border-blue-600 bg-blue-500 text-white shadow-lg scale-105":"border-blue-300 bg-blue-50 text-blue-700 hover:bg-blue-100"),children:"\ud83d\udcb3 CB"}),(0,Fn.jsx)("button",{type:"button",onClick:()=>u("cheque"),className:"p-3 rounded-lg border-2 transition-all text-sm font-bold ".concat("cheque"===d?"border-purple-600 bg-purple-500 text-white shadow-lg scale-105":"border-purple-300 bg-purple-50 text-purple-700 hover:bg-purple-100"),children:"\ud83d\udcdd Ch\xe8que"}),(0,Fn.jsx)("button",{type:"button",onClick:()=>u("ticket_restaurant"),className:"p-3 rounded-lg border-2 transition-all text-sm font-bold ".concat("ticket_restaurant"===d?"border-orange-600 bg-orange-500 text-white shadow-lg scale-105":"border-orange-300 bg-orange-50 text-orange-700 hover:bg-orange-100"),children:"\ud83c\udf9f\ufe0f Ticket restaurant"})]})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Montant"}),(0,Fn.jsxs)("div",{className:"flex gap-2",children:[(0,Fn.jsx)("input",{type:"number",step:"0.01",value:m,onChange:e=>p(e.target.value),placeholder:"Max: ".concat(b.toFixed(2),"\u20ac"),className:"flex-1 px-3 py-2 border rounded-lg"}),(0,Fn.jsx)(is,{type:"button",onClick:()=>p(b.toFixed(2)),className:"bg-gradient-to-r from-indigo-500 to-purple-500 text-white hover:from-indigo-600 hover:to-purple-600 font-bold",children:"Tout le restant"})]})]}),(0,Fn.jsxs)(is,{type:"button",onClick:()=>{if(!d)return void alert("\u26a0\ufe0f S\xe9lectionnez un mode de paiement");const e=parseFloat(m)||b;e<=0?alert("\u26a0\ufe0f Le montant doit \xeatre sup\xe9rieur \xe0 0"):e>b?alert("\u26a0\ufe0f Le montant ne peut pas d\xe9passer le restant \xe0 payer"):(c([...o,{method:d,amount:e}]),u(""),p(""))},className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 text-white hover:from-green-600 hover:to-emerald-600 font-bold shadow-lg",children:[(0,Fn.jsx)(Bs,{className:"w-4 h-4 mr-2"}),"Ajouter ce paiement"]})]}),(0,Fn.jsxs)("div",{className:"flex gap-2 pt-4 border-t",children:[(0,Fn.jsx)(is,{type:"button",variant:"outline",onClick:a,className:"flex-1",disabled:h,children:"Annuler"}),(0,Fn.jsx)(is,{type:"submit",className:"flex-1 font-bold text-white shadow-lg ".concat(b>.01?"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700"),disabled:h||g||0===o.length,children:h?"Enregistrement...":b>.01?"\u26a0\ufe0f Il reste ".concat(b.toFixed(2),"\u20ac"):"\u2705 Valider le paiement complet"})]})]})]})},Js=e=>{var t;let{isOpen:r,onClose:n,order:a,onConfirm:l}=e;const[i,o]=(0,s.useState)(""),[c,d]=(0,s.useState)(!1);(0,s.useEffect)(()=>{r&&o("")},[r]);return a?(0,Fn.jsxs)(zs,{isOpen:r,onClose:n,size:"medium",children:[(0,Fn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Fn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Fn.jsx)(Es,{className:"w-8 h-8 text-red-600"}),(0,Fn.jsx)("h2",{className:"text-2xl font-bold text-red-600",children:"\u26a0\ufe0f Annuler la commande"})]}),(0,Fn.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:(0,Fn.jsx)(Ts,{className:"w-6 h-6"})})]}),(0,Fn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),i.trim()){d(!0);try{await l(i),n()}catch(t){console.error("Error cancelling order:",t),alert("\u274c Erreur lors de l'annulation")}finally{d(!1)}}else alert("\u26a0\ufe0f Veuillez saisir une raison d'annulation")},className:"space-y-6",children:[(0,Fn.jsxs)("div",{className:"bg-red-50 border-2 border-red-200 p-4 rounded-lg",children:[(0,Fn.jsx)("div",{className:"text-sm text-red-700 mb-1",children:"Commande \xe0 annuler"}),(0,Fn.jsxs)("div",{className:"text-2xl font-bold text-red-600",children:["#",a.order_number||(null===(t=a.id)||void 0===t?void 0:t.slice(0,8))]}),(0,Fn.jsxs)("div",{className:"text-sm text-gray-600 mt-2",children:["Montant: ",(0,Fn.jsxs)("strong",{children:[a.total.toFixed(2),"\u20ac"]})]})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-3",children:"Raisons communes"}),(0,Fn.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["\u274c Client a annul\xe9","\u23f0 Client non disponible","\ud83c\udf54 Produit manquant","\ud83d\udcb3 Probl\xe8me de paiement","\ud83d\udeab Commande frauduleuse","\ud83d\udd04 Commande dupliqu\xe9e","\ud83d\udcdd Erreur de saisie"].map(e=>(0,Fn.jsx)("button",{type:"button",onClick:()=>o(e),className:"p-3 border-2 rounded-lg text-sm font-medium transition-all text-left ".concat(i===e?"border-red-500 bg-red-50 text-red-700":"border-gray-200 hover:border-gray-300 text-gray-700"),children:e},e))})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Raison de l'annulation *"}),(0,Fn.jsx)("textarea",{value:i,onChange:e=>o(e.target.value),className:"w-full px-4 py-3 border rounded-lg resize-none",rows:"4",placeholder:"D\xe9crivez la raison de l'annulation...",required:!0}),(0,Fn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Cette raison sera enregistr\xe9e dans l'historique de la commande"})]}),(0,Fn.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 p-3 rounded text-sm text-yellow-800",children:["\u26a0\ufe0f ",(0,Fn.jsx)("strong",{children:"Attention :"})," Cette action est irr\xe9versible.","paid"===a.payment_status&&(0,Fn.jsx)("span",{className:"block mt-1",children:"\ud83d\udcb3 Le paiement a \xe9t\xe9 enregistr\xe9. Pensez \xe0 rembourser le client si n\xe9cessaire."})]}),(0,Fn.jsxs)("div",{className:"flex space-x-3 pt-2",children:[(0,Fn.jsx)(is,{type:"button",variant:"outline",onClick:n,className:"flex-1",children:"Annuler"}),(0,Fn.jsx)(is,{type:"submit",disabled:c||!i.trim(),className:"flex-1 bg-red-600 hover:bg-red-700",children:c?"Annulation...":"\u274c Confirmer l'annulation"})]})]})]}):null},Ks=$n("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Xs=e=>{let{isOpen:t,onClose:r,onConfirm:n,title:a,message:s,confirmText:l="Confirmer",cancelText:i="Annuler",type:o="warning"}=e;const c={warning:{icon:Es,iconColor:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200",buttonColor:"bg-yellow-600 hover:bg-yellow-700"},success:{icon:Ks,iconColor:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",buttonColor:"bg-green-600 hover:bg-green-700"},danger:{icon:Es,iconColor:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200",buttonColor:"bg-red-600 hover:bg-red-700"}}[o],d=c.icon;return(0,Fn.jsx)(zs,{isOpen:t,onClose:r,size:"small",children:(0,Fn.jsxs)("div",{className:"text-center",children:[(0,Fn.jsx)("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full ".concat(c.bgColor," mb-4"),children:(0,Fn.jsx)(d,{className:"h-8 w-8 ".concat(c.iconColor)})}),(0,Fn.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:a}),(0,Fn.jsx)("p",{className:"text-gray-600 mb-6",children:s}),(0,Fn.jsxs)("div",{className:"flex space-x-3",children:[(0,Fn.jsx)(is,{type:"button",variant:"outline",onClick:r,className:"flex-1",children:i}),(0,Fn.jsx)(is,{type:"button",onClick:()=>{n(),r()},className:"flex-1 ".concat(c.buttonColor),children:l})]})]})})},Ys=$n("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Zs=e=>{var t,r;let{isOpen:n,onClose:a,order:l,onSuccess:i}=e;const[o,c]=(0,s.useState)([]),[d,u]=(0,s.useState)("Produit manquant"),[m,p]=(0,s.useState)(""),[h,x]=(0,s.useState)(!1);if(!l)return null;const f=e=>{o.includes(e)?c(o.filter(t=>t!==e)):c([...o,e])},g=()=>o.reduce((e,t)=>e+(l.items[t].total_price||0),0);return(0,Fn.jsxs)(zs,{isOpen:n,onClose:a,children:[(0,Fn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Fn.jsx)("h2",{className:"text-2xl font-bold",children:"\ud83d\udcb3 Remboursement partiel"}),(0,Fn.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:(0,Fn.jsx)(Ts,{className:"w-6 h-6"})})]}),(0,Fn.jsx)("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,Fn.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Fn.jsx)(Ys,{className:"w-5 h-5 text-blue-600 mt-0.5"}),(0,Fn.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,Fn.jsx)("p",{className:"font-bold mb-1",children:"Remboursement sur carte de fid\xe9lit\xe9"}),(0,Fn.jsx)("p",{children:"Les articles manquants seront rembours\xe9s en cr\xe9dit de fid\xe9lit\xe9 au client."})]})]})}),(0,Fn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),0!==o.length){if(window.confirm("Rembourser ".concat(g().toFixed(2),"\u20ac sur la carte de fid\xe9lit\xe9 ?"))){x(!0);try{const e="Autre"===d&&m?m:d,t=await pn.post("".concat("https://react-reborn.preview.emergentagent.com","/api/v1/admin/orders/").concat(l.id,"/refund-missing-items"),{missing_item_indices:o,reason:e});alert("\u2705 ".concat(t.data.message)),null===i||void 0===i||i(),a()}catch(n){var t,r;console.error("Error processing refund:",n),alert((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Erreur lors du remboursement")}finally{x(!1)}}}else alert("Veuillez s\xe9lectionner au moins un article \xe0 rembourser")},className:"space-y-4",children:[(0,Fn.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,Fn.jsx)("p",{className:"text-sm text-gray-600",children:(0,Fn.jsxs)("span",{className:"font-bold",children:["Commande #",l.order_number||(null===(t=l.id)||void 0===t?void 0:t.slice(0,8))]})}),(0,Fn.jsxs)("p",{className:"text-sm text-gray-600",children:["Client: ",l.customer_name||l.customer_email]})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Articles \xe0 rembourser"}),(0,Fn.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:null===(r=l.items)||void 0===r?void 0:r.map((e,t)=>(0,Fn.jsx)("div",{className:"p-3 border-2 rounded-lg cursor-pointer transition-all ".concat(o.includes(t)?"border-primary bg-primary/5":"border-gray-200 hover:border-gray-300"),onClick:()=>f(t),children:(0,Fn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fn.jsxs)("div",{className:"flex-1",children:[(0,Fn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Fn.jsx)("input",{type:"checkbox",checked:o.includes(t),onChange:()=>f(t),className:"w-4 h-4"}),(0,Fn.jsxs)("span",{className:"font-medium",children:[e.quantity,"x ",e.name]})]}),e.notes&&(0,Fn.jsx)("p",{className:"text-xs text-gray-500 ml-6 mt-1",children:e.notes})]}),(0,Fn.jsxs)("span",{className:"font-bold text-primary",children:[(e.total_price||0).toFixed(2),"\u20ac"]})]})},t))})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Raison"}),(0,Fn.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"w-full px-4 py-2 border rounded-lg",children:[(0,Fn.jsx)("option",{value:"Produit manquant",children:"Produit manquant"}),(0,Fn.jsx)("option",{value:"Produit incorrect",children:"Produit incorrect"}),(0,Fn.jsx)("option",{value:"Qualit\xe9 insatisfaisante",children:"Qualit\xe9 insatisfaisante"}),(0,Fn.jsx)("option",{value:"Erreur de commande",children:"Erreur de commande"}),(0,Fn.jsx)("option",{value:"Autre",children:"Autre"})]}),"Autre"===d&&(0,Fn.jsx)("div",{className:"mt-2",children:(0,Fn.jsx)("textarea",{value:m,onChange:e=>p(e.target.value),placeholder:"Pr\xe9cisez la raison...",className:"w-full px-4 py-2 border rounded-lg",rows:"3",required:!0})})]}),o.length>0&&(0,Fn.jsxs)("div",{className:"p-4 bg-green-50 border-2 border-green-200 rounded-lg",children:[(0,Fn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fn.jsx)("span",{className:"font-bold text-green-800",children:"Montant \xe0 rembourser:"}),(0,Fn.jsxs)("span",{className:"text-2xl font-black text-green-600",children:[g().toFixed(2),"\u20ac"]})]}),(0,Fn.jsx)("p",{className:"text-xs text-green-700 mt-2",children:"Ce montant sera cr\xe9dit\xe9 sur la carte de fid\xe9lit\xe9 du client"})]}),(0,Fn.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Fn.jsx)(is,{type:"button",variant:"outline",onClick:a,className:"flex-1",children:"Annuler"}),(0,Fn.jsx)(is,{type:"submit",disabled:h||0===o.length,className:"flex-1",children:h?"Traitement...":"Rembourser"})]})]})]})},el=$n("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),tl=$n("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),rl=$n("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),nl=$n("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),al=$n("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),sl=$n("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),ll=$n("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),il="https://react-reborn.preview.emergentagent.com",ol=()=>{var e,t;const[r,n]=(0,s.useState)([]),[a,l]=(0,s.useState)("new"),[i,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(null),[u,m]=(0,s.useState)(!1),[p,h]=(0,s.useState)(!1),[x,f]=(0,s.useState)(!1),[g,y]=(0,s.useState)(0),[b,v]=(0,s.useState)("list"),[j,N]=(0,s.useState)(!1),[w,k]=(0,s.useState)(!1),[_,C]=(0,s.useState)(null),[S,E]=(0,s.useState)(null),[P,R]=(0,s.useState)(!1),[O,T]=(0,s.useState)(!1),z=[{id:"new",label:"Nouvelles",icon:Vs,color:"bg-red-500",status:"new"},{id:"preparing",label:"En Pr\xe9paration",icon:el,color:"bg-orange-500",status:"in_preparation"},{id:"ready",label:"Pr\xeate",icon:Ks,color:"bg-purple-500",status:"ready"},{id:"delivering",label:"En Livraison",icon:tl,color:"bg-blue-500",status:"out_for_delivery"},{id:"completed",label:"Termin\xe9es",icon:Ks,color:"bg-green-500",status:"completed"},{id:"cancelled",label:"Annul\xe9es",icon:rl,color:"bg-gray-500",status:"canceled"}];(0,s.useEffect)(()=>{F(),L()},[]),(0,s.useEffect)(()=>{const e=setInterval(async()=>{try{const e=(await pn.get("".concat(il,"/api/v1/admin/orders?status=new"))).data.orders||[];e.length>g&&g>0&&A(),y(e.length),F()}catch(e){console.error("Erreur polling commandes:",e)}},3e4);return()=>clearInterval(e)},[g]);const A=()=>{try{const e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),r=e.createGain();t.connect(r),r.connect(e.destination),t.frequency.value=800,t.type="sine",r.gain.setValueAtTime(.3,e.currentTime),r.gain.exponentialRampToValueAtTime(.01,e.currentTime+.5),t.start(e.currentTime),t.stop(e.currentTime+.5),setTimeout(()=>{const t=e.createOscillator(),r=e.createGain();t.connect(r),r.connect(e.destination),t.frequency.value=800,t.type="sine",r.gain.setValueAtTime(.3,e.currentTime),r.gain.exponentialRampToValueAtTime(.01,e.currentTime+.5),t.start(e.currentTime),t.stop(e.currentTime+.5)},200),setTimeout(()=>{const t=e.createOscillator(),r=e.createGain();t.connect(r),r.connect(e.destination),t.frequency.value=800,t.type="sine",r.gain.setValueAtTime(.3,e.currentTime),r.gain.exponentialRampToValueAtTime(.01,e.currentTime+.5),t.start(e.currentTime),t.stop(e.currentTime+.5)},400),console.log("\ud83d\udd14 BIP! Nouvelle commande!")}catch(e){console.error("Erreur son:",e)}},F=async()=>{o(!0);try{const e=await pn.get("".concat(il,"/api/v1/admin/orders"));n(e.data.orders||[])}catch(e){console.error("Erreur chargement commandes:",e),n([])}finally{o(!1)}},L=async()=>{try{const e=(new Date).toISOString().split("T")[0],t=localStorage.getItem("token"),r=await fetch("".concat(il,"/api/v1/admin/ticket-z/daily-status/").concat(e),{headers:t?{Authorization:"Bearer ".concat(t)}:{}});if(r.ok){const e=await r.json();E(e)}}catch(e){console.error("Error loading daily status:",e)}},M=(e,t)=>({new:"in_preparation",in_preparation:"ready",ready:"delivery"===t?"out_for_delivery":"completed",out_for_delivery:"completed",completed:null,canceled:null}[e]||null),D=(e,t,n)=>{if("completed"===n){const t=r.find(t=>t.id===e);if(t&&"paid"!==t.payment_status)return void alert("\u274c PAIEMENT REQUIS\n\nCette commande ne peut pas \xeatre termin\xe9e car elle n'est pas encore pay\xe9e.\n\nVeuillez d'abord enregistrer le paiement avant de la marquer comme termin\xe9e.")}C({orderId:e,currentStatus:t,newStatus:n}),k(!0)},I=e=>{var t,r;let n="";n+="\x1b@",n+="\x1ba\x01",n+="\x1bE\x01",n+="\x1d!\x11",n+="FAMILY'S\n",n+="Original Burger\n",n+="\x1d!\0",n+="\x1bE\0",n+="\n",n+="\x1ba\0",n+="================================\n",n+="COMMANDE #".concat(null===(t=e.id)||void 0===t?void 0:t.slice(0,8),"\n"),n+="Date: ".concat(q(e.created_at),"\n"),n+="================================\n\n",n+="\x1bE\x01",n+="Client: ".concat(e.customer_name||"Client","\n"),n+="\x1bE\0",e.customer_phone&&(n+="Tel: ".concat(e.customer_phone,"\n")),n+="\n",n+="Type: ".concat("delivery"===e.order_type?"LIVRAISON":"A EMPORTER","\n"),n+="\n",n+="--------------------------------\n",n+="\x1bE\x01",n+="ARTICLES:\n",n+="\x1bE\0",n+="--------------------------------\n",null===(r=e.items)||void 0===r||r.forEach(e=>{n+="".concat(e.quantity,"x ").concat(e.name,"\n"),e.notes&&(n+="   >> ".concat(e.notes,"\n")),n+="   ".concat(e.total_price,"\u20ac\n\n")}),n+="--------------------------------\n",n+="\x1bE\x01",n+="\x1d!\x11",n+="TOTAL: ".concat(e.total,"\u20ac\n"),n+="\x1d!\0",n+="\x1bE\0",n+="================================\n",n+="\x1ba\x01",n+="\nMerci de votre commande!\n",n+="Bon appetit!\n\n",n+="\x1dV\0";const a=new Blob([n],{type:"text/plain"}),s=URL.createObjectURL(a),l=window.open(s,"_blank","width=302,height=500");if(l)l.onload=()=>{l.print(),setTimeout(()=>{URL.revokeObjectURL(s),l.close()},100)};else{var i;const t=document.createElement("a");t.href=s,t.download="commande-".concat(null===(i=e.id)||void 0===i?void 0:i.slice(0,8),".txt"),t.click(),URL.revokeObjectURL(s),alert("\ud83d\udcc4 Fichier de commande t\xe9l\xe9charg\xe9. Ouvrez-le avec votre logiciel d'impression thermique.")}},U=(e,t)=>({new_to_in_preparation:{title:"\ud83d\udd25 Commencer la pr\xe9paration ?",message:'Vous \xeates sur le point de marquer cette commande comme "En cours de pr\xe9paration". Le client sera notifi\xe9.',confirmText:"Oui, commencer",type:"warning"},in_preparation_to_ready:{title:"\u2705 Commande pr\xeate ?",message:"La commande est-elle pr\xeate \xe0 \xeatre r\xe9cup\xe9r\xe9e ou livr\xe9e ? Le client recevra une notification.",confirmText:"Oui, elle est pr\xeate",type:"success"},ready_to_out_for_delivery:{title:"\ud83d\ude9a Partir pour la livraison ?",message:"Le livreur prend la commande. Le client recevra une notification que son livreur est en route.",confirmText:"Oui, partir livrer",type:"info"},ready_to_completed:{title:"\ud83c\udf89 Terminer la commande ?",message:"Cette commande sera marqu\xe9e comme termin\xe9e et archiv\xe9e. Cette action est d\xe9finitive.",confirmText:"Oui, terminer",type:"success"},out_for_delivery_to_completed:{title:"\ud83d\udce6 Livraison termin\xe9e ?",message:"Le livreur confirme que la commande a \xe9t\xe9 livr\xe9e avec succ\xe8s au client.",confirmText:"Oui, livr\xe9e",type:"success"}}["".concat(e,"_to_").concat(t)]||{title:"\u26a0\ufe0f Confirmer le changement",message:"Voulez-vous vraiment changer le statut de cette commande ?",confirmText:"Confirmer",type:"warning"}),q=e=>new Date(e).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}),B=z.find(e=>e.id===a),V=r.filter(e=>e.status===B.status&&("out_for_delivery"!==B.status||"delivery"===e.order_type));return(0,Fn.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,Fn.jsx)(_s,{title:"\ud83d\udce6 Gestion des Commandes",subtitle:"Syst\xe8me de suivi optimis\xe9 pour tablette"}),S&&!S.is_closed&&(0,Fn.jsx)("div",{className:"mx-4 mt-4 p-4 rounded-lg border-2 ".concat(S.needs_closure?"bg-red-50 border-red-500":S.can_close?"bg-green-50 border-green-500":"bg-yellow-50 border-yellow-500"),children:(0,Fn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Fn.jsx)(nl,{className:"w-6 h-6 ".concat(S.needs_closure?"text-red-600":"text-green-600")}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("h3",{className:"font-bold text-lg",children:S.needs_closure?"\u26a0\ufe0f Cl\xf4ture de journ\xe9e requise":"\ud83d\udcca Ticket Z"}),(0,Fn.jsx)("p",{className:"text-sm text-gray-600",children:S.pending_orders>0?(0,Fn.jsxs)("span",{className:"text-orange-600 font-semibold",children:[(0,Fn.jsx)(Ys,{className:"w-4 h-4 inline mr-1"}),S.pending_orders," commande(s) en attente"]}):(0,Fn.jsxs)("span",{className:"text-green-600 font-semibold",children:[(0,Fn.jsx)(Ks,{className:"w-4 h-4 inline mr-1"}),"Toutes les commandes sont trait\xe9es"]})})]})]}),(0,Fn.jsx)(is,{onClick:async()=>{if(window.confirm("\u26a0\ufe0f Confirmer la cl\xf4ture de journ\xe9e ? Cette action est irr\xe9versible et g\xe9n\xe9rera le Ticket Z.")){T(!0);try{const e=(new Date).toISOString().split("T")[0],t=localStorage.getItem("token"),r=await fetch("".concat(il,"/api/v1/admin/ticket-z"),{method:"POST",headers:Gt({"Content-Type":"application/json"},t?{Authorization:"Bearer ".concat(t)}:{}),body:JSON.stringify({date:e})});if(!r.ok){const e=await r.json();throw new Error(e.detail||"Erreur lors de la cl\xf4ture")}await r.json();alert("\u2705 Journ\xe9e cl\xf4tur\xe9e avec succ\xe8s !"),R(!0),L(),F()}catch(e){alert("\u274c ".concat(e.message))}finally{T(!1)}}},disabled:!S.can_close||O,className:"".concat(S.can_close?"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 shadow-lg":"bg-gray-400"," text-white font-bold px-6 py-3"),children:O?(0,Fn.jsxs)(Fn.Fragment,{children:[(0,Fn.jsx)(As,{className:"w-5 h-5 mr-2 animate-spin"})," Cl\xf4ture en cours..."]}):(0,Fn.jsx)(Fn.Fragment,{children:"\ud83d\udd12 Cl\xf4turer la journ\xe9e"})})]})}),S&&S.is_closed&&(0,Fn.jsx)("div",{className:"mx-4 mt-4 p-4 rounded-lg bg-blue-50 border-2 border-blue-500",children:(0,Fn.jsx)("div",{className:"flex items-center justify-between",children:(0,Fn.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Fn.jsx)(Ks,{className:"w-6 h-6 text-blue-600"}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsxs)("h3",{className:"font-bold text-lg text-blue-900",children:["\u2705 Journ\xe9e cl\xf4tur\xe9e - ",S.date]}),(0,Fn.jsx)("p",{className:"text-sm text-blue-700",children:"Le Ticket Z a \xe9t\xe9 g\xe9n\xe9r\xe9 avec succ\xe8s"})]})]})})}),(0,Fn.jsx)("div",{className:"p-4 bg-white border-b overflow-x-auto",children:(0,Fn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Fn.jsx)("div",{className:"flex space-x-3 min-w-max",children:z.map(e=>{const t=e.icon,n=r.filter(t=>t.status===e.status&&("out_for_delivery"!==e.status||"delivery"===t.order_type)).length;return(0,Fn.jsxs)("button",{onClick:()=>l(e.id),className:"flex items-center space-x-3 px-6 py-4 rounded-xl font-bold text-white transition-all transform ".concat(a===e.id?"".concat(e.color," scale-105 shadow-xl"):"bg-gray-300 hover:bg-gray-400 scale-95"),children:[(0,Fn.jsx)(t,{className:"w-6 h-6"}),(0,Fn.jsxs)("div",{className:"text-left",children:[(0,Fn.jsx)("div",{className:"text-sm",children:e.label}),(0,Fn.jsx)("div",{className:"text-2xl font-black",children:n})]})]},e.id)})}),(0,Fn.jsxs)("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[(0,Fn.jsxs)("button",{onClick:()=>v("cards"),className:"flex items-center space-x-2 px-4 py-2 rounded-md transition-all ".concat("cards"===b?"bg-white text-primary font-bold shadow":"text-gray-600 hover:text-gray-800"),children:[(0,Fn.jsx)(al,{className:"w-5 h-5"}),(0,Fn.jsx)("span",{children:"Cartes"})]}),(0,Fn.jsxs)("button",{onClick:()=>v("list"),className:"flex items-center space-x-2 px-4 py-2 rounded-md transition-all ".concat("list"===b?"bg-white text-primary font-bold shadow":"text-gray-600 hover:text-gray-800"),children:[(0,Fn.jsx)(sl,{className:"w-5 h-5"}),(0,Fn.jsx)("span",{children:"Liste"})]})]})]})}),(0,Fn.jsx)("div",{className:"p-6",children:i?(0,Fn.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,Fn.jsx)(As,{className:"w-12 h-12 animate-spin text-primary"})}):0===V.length?(0,Fn.jsx)("div",{className:"text-center py-20",children:(0,Fn.jsx)("p",{className:"text-2xl font-bold text-gray-400",children:"Pas de commandes pour le moment"})}):"list"===b?(0,Fn.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,Fn.jsxs)("table",{className:"w-full",children:[(0,Fn.jsx)("thead",{className:"bg-gray-50 border-b-2 border-gray-200",children:(0,Fn.jsxs)("tr",{children:[(0,Fn.jsx)("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700",children:"N\xb0 Commande"}),(0,Fn.jsx)("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700",children:"Client"}),(0,Fn.jsx)("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700",children:"Heure de r\xe9cup\xe9ration"}),(0,Fn.jsx)("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700",children:"Type"}),(0,Fn.jsx)("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700",children:"Montant"}),(0,Fn.jsx)("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700",children:"Paiement"}),(0,Fn.jsx)("th",{className:"px-6 py-4 text-center text-sm font-bold text-gray-700",children:"Actions"})]})}),(0,Fn.jsx)("tbody",{className:"divide-y divide-gray-200",children:V.map(e=>{var t,r,n;return(0,Fn.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{d(e),N(!0)},children:[(0,Fn.jsxs)("td",{className:"px-6 py-4",children:[(0,Fn.jsxs)("div",{className:"font-bold text-lg text-primary",children:["#",e.order_number||(null===(t=e.id)||void 0===t?void 0:t.slice(0,8))]}),(0,Fn.jsx)("div",{className:"text-xs text-gray-500",children:q(e.created_at)})]}),(0,Fn.jsxs)("td",{className:"px-6 py-4",children:[(0,Fn.jsx)("div",{className:"font-semibold text-gray-800",children:e.customer_name||e.customer_email||"Client"}),e.customer_phone&&(0,Fn.jsx)("div",{className:"text-sm text-gray-500",children:e.customer_phone})]}),(0,Fn.jsx)("td",{className:"px-6 py-4",children:(0,Fn.jsx)("div",{className:"font-semibold text-gray-800",children:e.pickup_time||e.delivery_time||"D\xe8s que possible"})}),(0,Fn.jsx)("td",{className:"px-6 py-4",children:"delivery"===e.order_type?(0,Fn.jsxs)("span",{className:"flex items-center gap-1 text-blue-600 font-semibold",children:[(0,Fn.jsx)(tl,{className:"w-4 h-4"}),"Livraison"]}):(0,Fn.jsxs)("span",{className:"flex items-center gap-1 text-purple-600 font-semibold",children:[(0,Fn.jsx)(Vs,{className:"w-4 h-4"}),"\xc0 emporter"]})}),(0,Fn.jsx)("td",{className:"px-6 py-4",children:(0,Fn.jsxs)("div",{className:"text-xl font-black text-gray-800",children:[e.total.toFixed(2),"\u20ac"]})}),(0,Fn.jsx)("td",{className:"px-6 py-4",children:"paid"===e.payment_status?(0,Fn.jsxs)("span",{className:"flex items-center gap-2 text-green-600 font-semibold",children:[(0,Fn.jsx)(Ks,{className:"w-4 h-4"}),"Pay\xe9"]}):(0,Fn.jsxs)("span",{className:"flex items-center gap-2 text-orange-600 font-semibold",children:[(0,Fn.jsx)(el,{className:"w-4 h-4"}),"En attente"]})}),(0,Fn.jsx)("td",{className:"px-6 py-4",children:(0,Fn.jsxs)("div",{className:"flex items-center justify-center gap-2 flex-wrap",onClick:e=>e.stopPropagation(),children:[M(e.status,e.order_type)&&(0,Fn.jsx)(is,{size:"sm",onClick:t=>(async(e,t)=>{null===t||void 0===t||t.stopPropagation();const r=M(e.status,e.order_type);r?D(e.id,e.status,r):alert("Cette commande est d\xe9j\xe0 \xe0 l'\xe9tape finale")})(e,t),className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold hover:from-green-600 hover:to-emerald-700 shadow-md whitespace-nowrap",title:"Passer \xe0: ".concat((r=e.status,n=e.order_type,{in_preparation:"\ud83d\udc68\u200d\ud83c\udf73 En pr\xe9paration",ready:"\u2705 Pr\xeate",out_for_delivery:"\ud83d\ude9a En livraison",completed:"\ud83c\udf89 Termin\xe9e"}[M(r,n)]||null)),children:"\u25b6\ufe0f \xc9TAPE SUIVANTE"}),(0,Fn.jsx)(is,{size:"sm",variant:"outline",onClick:()=>I(e),className:"border-blue-500 text-blue-600 hover:bg-blue-50",title:"Imprimer",children:(0,Fn.jsx)(ll,{className:"w-4 h-4"})}),"paid"!==e.payment_status&&(0,Fn.jsx)(is,{size:"sm",variant:"outline",onClick:()=>{d(e),m(!0)},className:"border-green-500 text-green-600 hover:bg-green-50",title:"Paiement",children:(0,Fn.jsx)(Ps,{className:"w-4 h-4"})}),"paid"===e.payment_status&&"canceled"!==e.status&&"completed"!==e.status&&(0,Fn.jsx)(is,{size:"sm",variant:"outline",onClick:()=>{d(e),f(!0)},className:"border-purple-500 text-purple-600 hover:bg-purple-50",title:"Remboursement partiel",children:(0,Fn.jsx)(Yn,{className:"w-4 h-4"})}),"canceled"!==e.status&&"completed"!==e.status&&(0,Fn.jsx)(is,{size:"sm",variant:"outline",onClick:()=>{d(e),h(!0)},className:"border-red-500 text-red-600 hover:bg-red-50",title:"Annuler",children:(0,Fn.jsx)(rl,{className:"w-4 h-4"})})]})})]},e.id)})})]})}):(0,Fn.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:V.map(e=>{var t,r;return(0,Fn.jsx)(vs,{className:"hover:shadow-2xl transition-all duration-300 animate-fadeIn",children:(0,Fn.jsxs)(ws,{className:"p-6",children:[(0,Fn.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsxs)("h3",{className:"text-2xl font-black text-gray-800",children:["#",null===(t=e.id)||void 0===t?void 0:t.slice(0,8)]}),(0,Fn.jsx)("p",{className:"text-sm text-gray-500",children:q(e.created_at)})]}),(0,Fn.jsxs)("div",{className:"px-4 py-2 rounded-full text-white font-bold ".concat(B.color),children:[e.total,"\u20ac"]})]}),(0,Fn.jsxs)("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:[(0,Fn.jsx)("p",{className:"text-sm text-gray-600",children:"Client"}),(0,Fn.jsx)("p",{className:"font-bold text-gray-800",children:e.customer_name||"Client"}),e.customer_phone&&(0,Fn.jsx)("p",{className:"text-sm text-gray-600",children:e.customer_phone})]}),(0,Fn.jsxs)("div",{className:"mb-4 space-y-2",children:[(0,Fn.jsx)("p",{className:"text-sm font-bold text-gray-600",children:"Articles:"}),null===(r=e.items)||void 0===r?void 0:r.map((e,t)=>{var r;return(0,Fn.jsxs)("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[(0,Fn.jsxs)("div",{className:"flex-1",children:[(0,Fn.jsxs)("p",{className:"font-semibold text-gray-800",children:[(0,Fn.jsxs)("span",{className:"inline-block bg-primary text-white px-2 py-0.5 rounded-full text-sm font-bold mr-2",children:["x",e.quantity]}),e.name]}),e.notes&&(0,Fn.jsxs)("p",{className:"text-xs text-gray-500 ml-12",children:["\ud83d\udcdd ",e.notes]})]}),(0,Fn.jsx)("div",{className:"text-right",children:(0,Fn.jsxs)("p",{className:"text-sm font-bold text-gray-800",children:[null===(r=e.total_price)||void 0===r?void 0:r.toFixed(2),"\u20ac"]})})]},t)})]}),(0,Fn.jsx)("div",{className:"mb-4 flex items-center space-x-2 text-sm",children:"delivery"===e.order_type?(0,Fn.jsxs)(Fn.Fragment,{children:[(0,Fn.jsx)(tl,{className:"w-4 h-4 text-blue-600"}),(0,Fn.jsx)("span",{className:"font-semibold text-blue-600",children:"Livraison"})]}):(0,Fn.jsxs)(Fn.Fragment,{children:[(0,Fn.jsx)(Vs,{className:"w-4 h-4 text-purple-600"}),(0,Fn.jsx)("span",{className:"font-semibold text-purple-600",children:"\xc0 emporter"})]})}),"canceled"===e.status&&e.cancellation_reason&&(0,Fn.jsx)("div",{className:"mb-4 p-3 bg-red-50 border-2 border-red-200 rounded-lg",children:(0,Fn.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Fn.jsx)(rl,{className:"w-5 h-5 text-red-600 mt-0.5"}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"text-sm font-bold text-red-800",children:"Raison d'annulation:"}),(0,Fn.jsx)("p",{className:"text-sm text-red-700 mt-1",children:e.cancellation_reason})]})]})}),(0,Fn.jsx)("div",{className:"mb-4",children:"paid"===e.payment_status?(0,Fn.jsxs)("div",{children:[(0,Fn.jsxs)("div",{className:"flex items-center space-x-2 p-3 bg-green-50 rounded-lg mb-2",children:[(0,Fn.jsx)(Ks,{className:"w-5 h-5 text-green-600"}),(0,Fn.jsxs)("div",{className:"flex-1",children:[(0,Fn.jsx)("p",{className:"font-bold text-green-700",children:"Pay\xe9"}),(0,Fn.jsx)("p",{className:"text-sm text-gray-600 capitalize",children:e.payment_method})]})]}),(0,Fn.jsxs)("div",{className:"space-y-2",children:[!["online"].includes(e.payment_method)&&(0,Fn.jsx)(is,{onClick:()=>{d(e),m(!0)},variant:"outline",size:"sm",className:"w-full border border-blue-300 text-blue-600 hover:bg-blue-50 text-xs",children:"\u270f\ufe0f Modifier le paiement"}),"canceled"!==e.status&&"completed"!==e.status&&(0,Fn.jsxs)(is,{onClick:()=>{d(e),f(!0)},variant:"outline",size:"sm",className:"w-full border border-purple-300 text-purple-600 hover:bg-purple-50 text-xs",children:[(0,Fn.jsx)(Yn,{className:"w-3 h-3 mr-1"}),"Remboursement partiel"]})]})]}):(0,Fn.jsxs)(is,{onClick:()=>{d(e),m(!0)},variant:"outline",className:"w-full border-2 border-orange-500 text-orange-600 hover:bg-orange-50",children:[(0,Fn.jsx)(Ps,{className:"w-5 h-5 mr-2"}),"Enregistrer le paiement"]})}),(0,Fn.jsxs)("div",{className:"space-y-2",children:[(0,Fn.jsxs)(is,{onClick:()=>I(e),variant:"outline",className:"w-full border-2 border-blue-500 text-blue-600 hover:bg-blue-50 py-3",children:[(0,Fn.jsx)(ll,{className:"w-5 h-5 mr-2"}),"\ud83d\udda8\ufe0f Imprimer"]}),(0,Fn.jsxs)("div",{className:"flex space-x-2",children:[M(e.status,e.order_type)&&(0,Fn.jsxs)(is,{onClick:()=>D(e.id,e.status,M(e.status,e.order_type)),className:"flex-1 py-4 text-lg font-bold",children:["in_preparation"===M(e.status,e.order_type)&&"\ud83d\udd25 EN COURS DE PREPARATION","ready"===M(e.status,e.order_type)&&"\u2705 PRETE","out_for_delivery"===M(e.status,e.order_type)&&"\ud83d\ude9a PARTI POUR LA LIVRAISON","completed"===M(e.status,e.order_type)&&("out_for_delivery"===e.status?"\ud83d\udce6 LIVREE":"\ud83c\udf89 TERMINE")]}),"canceled"!==e.status&&"completed"!==e.status&&(0,Fn.jsx)(is,{onClick:()=>{d(e),h(!0)},variant:"outline",className:"px-6 border-2 border-red-500 text-red-600 hover:bg-red-50",children:"\u274c"})]})]})]})},e.id)})})}),(0,Fn.jsx)(Qs,{isOpen:u,onClose:()=>{m(!1),d(null)},order:c,onSuccess:()=>{m(!1),d(null),F()}}),(0,Fn.jsx)(Js,{isOpen:p,onClose:()=>{h(!1),d(null)},order:c,onConfirm:async e=>{if(c)try{n(t=>t.map(t=>t.id===c.id?Gt(Gt({},t),{},{status:"canceled",cancellation_reason:e}):t)),await pn.patch("".concat(il,"/api/v1/admin/orders/").concat(c.id,"/status"),{status:"canceled",cancellation_reason:e}),h(!1),d(null),l("cancelled")}catch(t){console.error("Erreur annulation commande:",t),alert("\u274c Erreur lors de l'annulation de la commande"),F()}}}),(0,Fn.jsx)(Zs,{isOpen:x,onClose:()=>{f(!1),d(null)},order:c,onSuccess:()=>{F(),f(!1),d(null)}}),(0,Fn.jsx)(Xs,{isOpen:w,onClose:()=>{k(!1),C(null)},onConfirm:async()=>{if(!_)return;const{orderId:e,newStatus:t}=_;try{n(r=>r.map(r=>r.id===e?Gt(Gt({},r),{},{status:t}):r)),await pn.patch("".concat(il,"/api/v1/admin/orders/").concat(e,"/status"),{status:t}),C(null)}catch(r){console.error("Erreur mise \xe0 jour statut:",r),alert("Erreur lors de la mise \xe0 jour du statut"),F(),C(null)}},title:_?U(_.currentStatus,_.newStatus).title:"",message:_?U(_.currentStatus,_.newStatus).message:"",confirmText:_?U(_.currentStatus,_.newStatus).confirmText:"Confirmer",type:_?U(_.currentStatus,_.newStatus).type:"warning"}),j&&c&&(0,Fn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Fn.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Fn.jsxs)("div",{className:"sticky top-0 bg-white border-b p-6 flex items-center justify-between",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsxs)("h2",{className:"text-2xl font-bold text-gray-800",children:["Commande #",c.order_number||(null===(e=c.id)||void 0===e?void 0:e.slice(0,8))]}),(0,Fn.jsx)("p",{className:"text-sm text-gray-500",children:q(c.created_at)})]}),(0,Fn.jsx)("button",{onClick:()=>{N(!1),d(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Fn.jsx)(rl,{className:"w-8 h-8"})})]}),(0,Fn.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Fn.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,Fn.jsx)("h3",{className:"text-sm font-bold text-gray-600 mb-2",children:"\ud83d\udc64 Client"}),(0,Fn.jsx)("p",{className:"font-bold text-lg text-gray-800",children:c.customer_name||"Client"}),c.customer_email&&(0,Fn.jsxs)("p",{className:"text-sm text-gray-600",children:["\ud83d\udce7 ",c.customer_email]}),c.customer_phone&&(0,Fn.jsxs)("p",{className:"text-sm text-gray-600",children:["\ud83d\udcf1 ",c.customer_phone]})]}),(0,Fn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Fn.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,Fn.jsx)("h3",{className:"text-sm font-bold text-gray-600 mb-2",children:"\ud83d\udce6 Type"}),"delivery"===c.order_type?(0,Fn.jsxs)("span",{className:"flex items-center gap-2 text-blue-600 font-bold",children:[(0,Fn.jsx)(tl,{className:"w-5 h-5"}),"Livraison"]}):(0,Fn.jsxs)("span",{className:"flex items-center gap-2 text-purple-600 font-bold",children:[(0,Fn.jsx)(Vs,{className:"w-5 h-5"}),"\xc0 emporter"]})]}),(0,Fn.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg",children:[(0,Fn.jsx)("h3",{className:"text-sm font-bold text-gray-600 mb-2",children:"\ud83d\udd50 Heure"}),(0,Fn.jsx)("p",{className:"font-bold text-gray-800",children:c.pickup_time||c.delivery_time||"D\xe8s que possible"})]})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("h3",{className:"text-sm font-bold text-gray-600 mb-3",children:"\ud83c\udf7d\ufe0f Articles command\xe9s"}),(0,Fn.jsx)("div",{className:"space-y-2",children:null===(t=c.items)||void 0===t?void 0:t.map((e,t)=>{var r;return(0,Fn.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[(0,Fn.jsxs)("div",{className:"flex-1",children:[(0,Fn.jsxs)("p",{className:"font-semibold text-gray-800",children:[(0,Fn.jsxs)("span",{className:"inline-block bg-primary text-white px-3 py-1 rounded-full text-sm font-bold mr-2",children:["x",e.quantity]}),e.name]}),e.notes&&(0,Fn.jsxs)("p",{className:"text-xs text-gray-500 mt-1 ml-14",children:["\ud83d\udcdd ",e.notes]})]}),(0,Fn.jsx)("div",{className:"text-right",children:(0,Fn.jsxs)("p",{className:"text-sm font-bold text-gray-800",children:[null===(r=e.total_price)||void 0===r?void 0:r.toFixed(2),"\u20ac"]})})]},t)})})]}),c.notes&&(0,Fn.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[(0,Fn.jsx)("h3",{className:"text-sm font-bold text-gray-600 mb-2",children:"\ud83d\udcdd Notes"}),(0,Fn.jsx)("p",{className:"text-gray-800",children:c.notes})]}),(0,Fn.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,Fn.jsx)("h3",{className:"text-sm font-bold text-gray-600 mb-2",children:"\ud83d\udcb3 Paiement"}),(0,Fn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fn.jsx)("div",{children:"paid"===c.payment_status?(0,Fn.jsxs)("span",{className:"flex items-center gap-2 text-green-600 font-bold",children:[(0,Fn.jsx)(Ks,{className:"w-5 h-5"}),"Pay\xe9 (",c.payment_method,")"]}):(0,Fn.jsxs)("span",{className:"flex items-center gap-2 text-orange-600 font-bold",children:[(0,Fn.jsx)(el,{className:"w-5 h-5"}),"En attente"]})}),(0,Fn.jsxs)("div",{className:"text-3xl font-black text-gray-800",children:[c.total.toFixed(2),"\u20ac"]})]})]}),(0,Fn.jsxs)("div",{className:"flex space-x-3 pt-4 border-t",children:[(0,Fn.jsxs)(is,{onClick:()=>I(c),variant:"outline",className:"flex-1 border-2 border-blue-500 text-blue-600 hover:bg-blue-50 py-3",children:[(0,Fn.jsx)(ll,{className:"w-5 h-5 mr-2"}),"Imprimer"]}),"paid"!==c.payment_status&&(0,Fn.jsxs)(is,{onClick:()=>{N(!1),m(!0)},className:"flex-1 py-3",children:[(0,Fn.jsx)(Ps,{className:"w-5 h-5 mr-2"}),"Enregistrer paiement"]})]}),M(c.status,c.order_type)&&(0,Fn.jsxs)(is,{onClick:()=>{D(c.id,c.status,M(c.status,c.order_type)),N(!1)},className:"w-full py-4 text-lg font-bold",children:["in_preparation"===M(c.status,c.order_type)&&"\ud83d\udd25 PASSER EN PR\xc9PARATION","ready"===M(c.status,c.order_type)&&"\u2705 MARQUER COMME PR\xcaTE","out_for_delivery"===M(c.status,c.order_type)&&"\ud83d\ude9a PARTI POUR LA LIVRAISON","completed"===M(c.status,c.order_type)&&"\ud83c\udf89 MARQUER COMME TERMIN\xc9E"]})]})]})})]})},cl=e=>{let{isOpen:t,onClose:r,category:n,onSuccess:a}=e;const[l,i]=(0,s.useState)(!1),[o,c]=(0,s.useState)({name:"",image:"",icon:"",order:0,is_active:!0});(0,s.useEffect)(()=>{var e;n?c({name:n.name||"",image:n.image||"",icon:n.icon||"",order:n.order||0,is_active:null===(e=n.is_active)||void 0===e||e}):c({name:"",image:"",icon:"",order:0,is_active:!0})},[n]);return(0,Fn.jsx)(zs,{isOpen:t,onClose:r,title:n?"Modifier la cat\xe9gorie":"Nouvelle cat\xe9gorie",children:(0,Fn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(!0);try{const e=Gt(Gt({},o),{},{order:parseInt(o.order)});n?await wn(n.id,e):await Nn(e),a(),r()}catch(l){var t,s;alert("Erreur : "+((null===(t=l.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.detail)||"Erreur inconnue"))}finally{i(!1)}},className:"space-y-4",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"name",children:"Nom de la cat\xe9gorie *"}),(0,Fn.jsx)(ms,{id:"name",value:o.name,onChange:e=>c(Gt(Gt({},o),{},{name:e.target.value})),required:!0})]}),(0,Fn.jsx)(Ms,{currentImage:o.image,onImageChange:e=>c(Gt(Gt({},o),{},{image:e})),label:"Image de la cat\xe9gorie"}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"icon",children:"Ic\xf4ne (Lucide)"}),(0,Fn.jsx)(ms,{id:"icon",value:o.icon,onChange:e=>c(Gt(Gt({},o),{},{icon:e.target.value})),placeholder:"package, coffee, etc."})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"order",children:"Ordre d'affichage"}),(0,Fn.jsx)(ms,{id:"order",type:"number",value:o.order,onChange:e=>c(Gt(Gt({},o),{},{order:e.target.value}))})]}),(0,Fn.jsx)("div",{children:(0,Fn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Fn.jsx)("input",{type:"checkbox",checked:o.is_active,onChange:e=>c(Gt(Gt({},o),{},{is_active:e.target.checked})),className:"w-4 h-4 text-primary rounded"}),(0,Fn.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"Active"})]})}),(0,Fn.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,Fn.jsx)(is,{type:"button",variant:"secondary",onClick:r,children:"Annuler"}),(0,Fn.jsx)(is,{type:"submit",disabled:l,children:l?"Enregistrement...":n?"Mettre \xe0 jour":"Cr\xe9er"})]})]})})},dl=$n("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),ul=()=>{const[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)(!0),[a,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(null);(0,s.useEffect)(()=>{c()},[]);const c=async()=>{try{const e=await jn();t(e.data.categories||[])}catch(e){console.error("Failed to load categories:",e),t([])}finally{n(!1)}};return r?(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(_s,{title:"Cat\xe9gories"}),(0,Fn.jsx)("div",{className:"p-8",children:(0,Fn.jsx)("p",{children:"Chargement..."})})]}):(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(_s,{title:"Cat\xe9gories"}),(0,Fn.jsxs)("div",{className:"p-8",children:[(0,Fn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Fn.jsxs)("h3",{className:"text-xl font-bold",children:[e.length," cat\xe9gories"]}),(0,Fn.jsxs)(is,{onClick:()=>l(!0),children:[(0,Fn.jsx)(Bs,{className:"w-4 h-4 mr-2"}),"Ajouter"]})]}),(0,Fn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>{const t=e.image_url||e.image;return(0,Fn.jsxs)(vs,{children:[t?(0,Fn.jsx)("img",{src:t,alt:e.name,className:"w-full h-32 object-cover rounded-lg mb-4"}):(0,Fn.jsx)("div",{className:"w-full h-32 bg-gray-100 rounded-lg mb-4 flex items-center justify-center",children:(0,Fn.jsx)(dl,{className:"w-12 h-12 text-gray-400"})}),(0,Fn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fn.jsx)("h4",{className:"font-bold text-lg",children:e.name}),(0,Fn.jsxs)("div",{className:"flex space-x-2",children:[(0,Fn.jsx)(is,{size:"sm",variant:"outline",onClick:()=>{o(e),l(!0)},children:(0,Fn.jsx)(Hs,{className:"w-4 h-4"})}),(0,Fn.jsx)(is,{size:"sm",variant:"danger",onClick:()=>(async e=>{if(window.confirm("\xcates-vous s\xfbr ?"))try{await kn(e),c()}catch(t){alert("Erreur lors de la suppression")}})(e.id),children:(0,Fn.jsx)($s,{className:"w-4 h-4"})})]})]}),(0,Fn.jsx)("span",{className:"inline-block mt-2 text-xs px-2 py-1 rounded ".concat(e.is_active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"),children:e.is_active?"Active":"Inactive"})]},e.id)})}),0===e.length&&(0,Fn.jsxs)("div",{className:"text-center py-12",children:[(0,Fn.jsx)(dl,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Fn.jsx)("p",{className:"text-gray-500",children:"Aucune cat\xe9gorie"})]})]}),(0,Fn.jsx)(cl,{isOpen:a,onClose:()=>{l(!1),o(null)},category:i,onSuccess:c})]})},ml=$n("store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]),pl=$n("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),hl=$n("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),xl=$n("percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),fl=$n("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),gl=$n("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]),yl=$n("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),bl="https://react-reborn.preview.emergentagent.com",vl=[{key:"monday",label:"Lundi"},{key:"tuesday",label:"Mardi"},{key:"wednesday",label:"Mercredi"},{key:"thursday",label:"Jeudi"},{key:"friday",label:"Vendredi"},{key:"saturday",label:"Samedi"},{key:"sunday",label:"Dimanche"}],jl=()=>{var e,t,r,n,a,l,i,o,c,d;const[u,m]=(0,s.useState)(null),[p,h]=(0,s.useState)(!0),[x,f]=(0,s.useState)(!1);(0,s.useEffect)(()=>{g()},[]);const g=async()=>{try{const e=await pn.get("".concat(bl,"/api/v1/admin/settings"));m(Gt(Gt({},e.data),{},{social_media:e.data.social_media||{},service_links:e.data.service_links||{},opening_hours:e.data.opening_hours||{},order_hours:e.data.order_hours||{}}))}catch(e){console.error("Error loading settings:",e),m({name:"Family's Bourg-en-Bresse",email:"contact@familys.app",phone:"04 74 XX XX XX",address:"123 Avenue de la Gare, 01000 Bourg-en-Bresse",primary_color:"#C62828",secondary_color:"#FFD54F",order_cutoff_minutes:20,preparation_time_minutes:15,enable_delivery:!0,enable_takeaway:!0,enable_onsite:!0,enable_reservations:!1,loyalty_percentage:5,social_media:{},service_links:{},opening_hours:{},order_hours:{}})}finally{h(!1)}},y=(e,t)=>{m(Gt(Gt({},u),{},{social_media:Gt(Gt({},u.social_media),{},{[e]:t})}))},b=(e,t)=>{m(Gt(Gt({},u),{},{service_links:Gt(Gt({},u.service_links),{},{[e]:t})}))};return p?(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(_s,{title:"\u2699\ufe0f Param\xe8tres",subtitle:"Configuration du restaurant"}),(0,Fn.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,Fn.jsxs)("div",{className:"text-center",children:[(0,Fn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,Fn.jsx)("p",{className:"text-gray-600",children:"Chargement..."})]})})]}):(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(_s,{title:"\u2699\ufe0f Param\xe8tres",subtitle:"Configuration du restaurant"}),(0,Fn.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Fn.jsxs)(vs,{children:[(0,Fn.jsx)(js,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:(0,Fn.jsxs)(Ns,{className:"flex items-center gap-2",children:[(0,Fn.jsx)(ml,{className:"w-5 h-5"}),"Informations du restaurant"]})}),(0,Fn.jsxs)(ws,{className:"space-y-4",children:[(0,Fn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"name",children:"Nom du restaurant *"}),(0,Fn.jsx)(ms,{id:"name",value:u.name||"",onChange:e=>m(Gt(Gt({},u),{},{name:e.target.value})),placeholder:"Ex: Family's Bourg-en-Bresse"})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"phone",children:"T\xe9l\xe9phone *"}),(0,Fn.jsx)(ms,{id:"phone",value:u.phone||"",onChange:e=>m(Gt(Gt({},u),{},{phone:e.target.value})),placeholder:"Ex: 04 74 XX XX XX"})]})]}),(0,Fn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"email",children:"Email *"}),(0,Fn.jsx)(ms,{id:"email",type:"email",value:u.email||"",onChange:e=>m(Gt(Gt({},u),{},{email:e.target.value})),placeholder:"Ex: contact@familys.app"})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"address",children:"Adresse *"}),(0,Fn.jsx)(ms,{id:"address",value:u.address||"",onChange:e=>m(Gt(Gt({},u),{},{address:e.target.value})),placeholder:"Ex: 123 Avenue de la Gare, 01000"})]})]})]})]}),(0,Fn.jsxs)(vs,{children:[(0,Fn.jsx)(js,{className:"bg-gradient-to-r from-indigo-50 to-blue-50",children:(0,Fn.jsxs)(Ns,{className:"flex items-center gap-2",children:[(0,Fn.jsx)(aa,{className:"w-5 h-5"}),"Horaires du restaurant"]})}),(0,Fn.jsxs)(ws,{className:"space-y-6",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("h3",{className:"font-semibold text-lg mb-3",children:"\ud83c\udfea Horaires d'ouverture (affich\xe9s dans l'app)"}),(0,Fn.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"Vous pouvez d\xe9finir 2 plages horaires par jour (ex: 11h-14h et 18h-23h)"}),(0,Fn.jsx)("div",{className:"space-y-3",children:vl.map(e=>{var t,r,n,a,s,l;return(0,Fn.jsxs)("div",{className:"border rounded-lg p-3 bg-gray-50",children:[(0,Fn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Fn.jsx)("label",{className:"font-bold text-sm",children:e.label}),(0,Fn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Fn.jsx)("input",{type:"checkbox",checked:(null===(t=u.opening_hours[e.key])||void 0===t?void 0:t.closed)||!1,onChange:t=>{const r=Gt({},u.opening_hours);r[e.key]=Gt(Gt({},r[e.key]),{},{closed:t.target.checked}),m(Gt(Gt({},u),{},{opening_hours:r}))},className:"w-4 h-4"}),(0,Fn.jsx)("span",{className:"text-sm text-red-600 font-medium",children:"Ferm\xe9"})]})]}),!(null!==(r=u.opening_hours[e.key])&&void 0!==r&&r.closed)&&(0,Fn.jsxs)("div",{className:"space-y-2",children:[(0,Fn.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Fn.jsx)(ms,{type:"time",placeholder:"Ouverture matin",value:(null===(n=u.opening_hours[e.key])||void 0===n?void 0:n.open1)||"",onChange:t=>{const r=Gt({},u.opening_hours);r[e.key]=Gt(Gt({},r[e.key]),{},{open1:t.target.value}),m(Gt(Gt({},u),{},{opening_hours:r}))}}),(0,Fn.jsx)(ms,{type:"time",placeholder:"Fermeture matin",value:(null===(a=u.opening_hours[e.key])||void 0===a?void 0:a.close1)||"",onChange:t=>{const r=Gt({},u.opening_hours);r[e.key]=Gt(Gt({},r[e.key]),{},{close1:t.target.value}),m(Gt(Gt({},u),{},{opening_hours:r}))}})]}),(0,Fn.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Fn.jsx)(ms,{type:"time",placeholder:"Ouverture soir (optionnel)",value:(null===(s=u.opening_hours[e.key])||void 0===s?void 0:s.open2)||"",onChange:t=>{const r=Gt({},u.opening_hours);r[e.key]=Gt(Gt({},r[e.key]),{},{open2:t.target.value}),m(Gt(Gt({},u),{},{opening_hours:r}))}}),(0,Fn.jsx)(ms,{type:"time",placeholder:"Fermeture soir (optionnel)",value:(null===(l=u.opening_hours[e.key])||void 0===l?void 0:l.close2)||"",onChange:t=>{const r=Gt({},u.opening_hours);r[e.key]=Gt(Gt({},r[e.key]),{},{close2:t.target.value}),m(Gt(Gt({},u),{},{opening_hours:r}))}})]})]})]},e.key)})})]}),(0,Fn.jsxs)("div",{className:"border-t pt-6",children:[(0,Fn.jsx)("h3",{className:"font-semibold text-lg mb-3",children:"\ud83d\udcf1 Horaires de commande (diff\xe9rents si n\xe9cessaire)"}),(0,Fn.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Les clients ne pourront commander que pendant ces horaires (2 plages possibles)"}),(0,Fn.jsx)("div",{className:"space-y-3",children:vl.map(e=>{var t,r,n,a,s,l;return(0,Fn.jsxs)("div",{className:"border rounded-lg p-3 bg-gray-50",children:[(0,Fn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Fn.jsx)("label",{className:"font-bold text-sm",children:e.label}),(0,Fn.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Fn.jsx)("input",{type:"checkbox",checked:(null===(t=u.order_hours[e.key])||void 0===t?void 0:t.disabled)||!1,onChange:t=>{const r=Gt({},u.order_hours);r[e.key]=Gt(Gt({},r[e.key]),{},{disabled:t.target.checked}),m(Gt(Gt({},u),{},{order_hours:r}))},className:"w-4 h-4"}),(0,Fn.jsx)("span",{className:"text-sm text-red-600 font-medium",children:"D\xe9sactiv\xe9"})]})]}),!(null!==(r=u.order_hours[e.key])&&void 0!==r&&r.disabled)&&(0,Fn.jsxs)("div",{className:"space-y-2",children:[(0,Fn.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Fn.jsx)(ms,{type:"time",placeholder:"D\xe9but 1",value:(null===(n=u.order_hours[e.key])||void 0===n?void 0:n.start1)||"",onChange:t=>{const r=Gt({},u.order_hours);r[e.key]=Gt(Gt({},r[e.key]),{},{start1:t.target.value}),m(Gt(Gt({},u),{},{order_hours:r}))}}),(0,Fn.jsx)(ms,{type:"time",placeholder:"Fin 1",value:(null===(a=u.order_hours[e.key])||void 0===a?void 0:a.end1)||"",onChange:t=>{const r=Gt({},u.order_hours);r[e.key]=Gt(Gt({},r[e.key]),{},{end1:t.target.value}),m(Gt(Gt({},u),{},{order_hours:r}))}})]}),(0,Fn.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Fn.jsx)(ms,{type:"time",placeholder:"D\xe9but 2 (optionnel)",value:(null===(s=u.order_hours[e.key])||void 0===s?void 0:s.start2)||"",onChange:t=>{const r=Gt({},u.order_hours);r[e.key]=Gt(Gt({},r[e.key]),{},{start2:t.target.value}),m(Gt(Gt({},u),{},{order_hours:r}))}}),(0,Fn.jsx)(ms,{type:"time",placeholder:"Fin 2 (optionnel)",value:(null===(l=u.order_hours[e.key])||void 0===l?void 0:l.end2)||"",onChange:t=>{const r=Gt({},u.order_hours);r[e.key]=Gt(Gt({},r[e.key]),{},{end2:t.target.value}),m(Gt(Gt({},u),{},{order_hours:r}))}})]})]})]},e.key)})})]})]})]}),(0,Fn.jsxs)(vs,{children:[(0,Fn.jsx)(js,{className:"bg-gradient-to-r from-purple-50 to-pink-50",children:(0,Fn.jsxs)(Ns,{className:"flex items-center gap-2",children:[(0,Fn.jsx)(pl,{className:"w-5 h-5"}),"R\xe9seaux sociaux"]})}),(0,Fn.jsxs)(ws,{className:"space-y-4",children:[(0,Fn.jsx)("p",{className:"text-sm text-gray-600",children:"Ces liens appara\xeetront sous forme d'ic\xf4nes cliquables dans l'application mobile"}),(0,Fn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"facebook",children:"\ud83d\udd35 Facebook"}),(0,Fn.jsx)(ms,{id:"facebook",value:(null===(e=u.social_media)||void 0===e?void 0:e.facebook)||"",onChange:e=>y("facebook",e.target.value),placeholder:"https://facebook.com/familysbourg"})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"instagram",children:"\ud83d\udcf7 Instagram"}),(0,Fn.jsx)(ms,{id:"instagram",value:(null===(t=u.social_media)||void 0===t?void 0:t.instagram)||"",onChange:e=>y("instagram",e.target.value),placeholder:"https://instagram.com/familysbourg"})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"twitter",children:"\ud83d\udc26 Twitter / X"}),(0,Fn.jsx)(ms,{id:"twitter",value:(null===(r=u.social_media)||void 0===r?void 0:r.twitter)||"",onChange:e=>y("twitter",e.target.value),placeholder:"https://twitter.com/familysbourg"})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"tiktok",children:"\ud83c\udfb5 TikTok"}),(0,Fn.jsx)(ms,{id:"tiktok",value:(null===(n=u.social_media)||void 0===n?void 0:n.tiktok)||"",onChange:e=>y("tiktok",e.target.value),placeholder:"https://tiktok.com/@familysbourg"})]})]})]})]}),(0,Fn.jsxs)(vs,{children:[(0,Fn.jsx)(js,{className:"bg-gradient-to-r from-green-50 to-teal-50",children:(0,Fn.jsxs)(Ns,{className:"flex items-center gap-2",children:[(0,Fn.jsx)(hl,{className:"w-5 h-5"}),"Liens des services externes"]})}),(0,Fn.jsxs)(ws,{className:"space-y-4",children:[(0,Fn.jsx)("p",{className:"text-sm text-gray-600",children:"G\xe9rez les liens de vos services de paiement et autres int\xe9grations"}),(0,Fn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"stripe",children:"\ud83d\udcb3 Stripe"}),(0,Fn.jsx)(ms,{id:"stripe",value:(null===(a=u.service_links)||void 0===a?void 0:a.stripe)||"",onChange:e=>b("stripe",e.target.value),placeholder:"Dashboard Stripe URL"})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"paypal",children:"\ud83c\udd7f\ufe0f PayPal"}),(0,Fn.jsx)(ms,{id:"paypal",value:(null===(l=u.service_links)||void 0===l?void 0:l.paypal)||"",onChange:e=>b("paypal",e.target.value),placeholder:"Dashboard PayPal URL"})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"analytics",children:"\ud83d\udcca Analytics"}),(0,Fn.jsx)(ms,{id:"analytics",value:(null===(i=u.service_links)||void 0===i?void 0:i.analytics)||"",onChange:e=>b("analytics",e.target.value),placeholder:"Google Analytics URL"})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"delivery",children:"\ud83d\ude9a Service de livraison"}),(0,Fn.jsx)(ms,{id:"delivery",value:(null===(o=u.service_links)||void 0===o?void 0:o.delivery)||"",onChange:e=>b("delivery",e.target.value),placeholder:"URL du service de livraison"})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"apple_pay",children:"\ud83c\udf4e Apple Pay"}),(0,Fn.jsx)(ms,{id:"apple_pay",value:(null===(c=u.service_links)||void 0===c?void 0:c.apple_pay)||"",onChange:e=>b("apple_pay",e.target.value),placeholder:"Lien Apple Pay"})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"google_pay",children:"\ud83d\udfe2 Google Pay"}),(0,Fn.jsx)(ms,{id:"google_pay",value:(null===(d=u.service_links)||void 0===d?void 0:d.google_pay)||"",onChange:e=>b("google_pay",e.target.value),placeholder:"Lien Google Pay"})]})]})]})]}),(0,Fn.jsxs)(vs,{children:[(0,Fn.jsx)(js,{className:"bg-gradient-to-r from-orange-50 to-red-50",children:(0,Fn.jsxs)(Ns,{className:"flex items-center gap-2",children:[(0,Fn.jsx)(el,{className:"w-5 h-5"}),"Gestion des commandes"]})}),(0,Fn.jsxs)(ws,{className:"space-y-4",children:[(0,Fn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"preparation_time",children:"\u23f1\ufe0f Temps de pr\xe9paration (cr\xe9neaux)"}),(0,Fn.jsxs)(hs,{id:"preparation_time",value:u.preparation_time_minutes||15,onChange:e=>m(Gt(Gt({},u),{},{preparation_time_minutes:parseInt(e.target.value)})),children:[(0,Fn.jsx)("option",{value:"5",children:"5 minutes"}),(0,Fn.jsx)("option",{value:"10",children:"10 minutes"}),(0,Fn.jsx)("option",{value:"15",children:"15 minutes"}),(0,Fn.jsx)("option",{value:"20",children:"20 minutes"}),(0,Fn.jsx)("option",{value:"25",children:"25 minutes"}),(0,Fn.jsx)("option",{value:"30",children:"30 minutes"}),(0,Fn.jsx)("option",{value:"45",children:"45 minutes"}),(0,Fn.jsx)("option",{value:"60",children:"1 heure"})]}),(0,Fn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\ud83d\udccb Les clients pourront choisir des cr\xe9neaux de r\xe9cup\xe9ration espac\xe9s de ce temps"})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"cutoff_time",children:"\ud83d\udeab D\xe9lai minimum de commande"}),(0,Fn.jsxs)(hs,{id:"cutoff_time",value:u.order_cutoff_minutes||20,onChange:e=>m(Gt(Gt({},u),{},{order_cutoff_minutes:parseInt(e.target.value)})),children:[(0,Fn.jsx)("option",{value:"10",children:"10 minutes"}),(0,Fn.jsx)("option",{value:"15",children:"15 minutes"}),(0,Fn.jsx)("option",{value:"20",children:"20 minutes"}),(0,Fn.jsx)("option",{value:"30",children:"30 minutes"}),(0,Fn.jsx)("option",{value:"45",children:"45 minutes"}),(0,Fn.jsx)("option",{value:"60",children:"1 heure"})]}),(0,Fn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\u23f0 Temps minimum avant qu'une commande puisse \xeatre r\xe9cup\xe9r\xe9e"})]})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{children:"Types de commande activ\xe9s"}),(0,Fn.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[(0,Fn.jsxs)("label",{className:"flex items-center space-x-2 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,Fn.jsx)("input",{type:"checkbox",checked:u.enable_takeaway,onChange:e=>m(Gt(Gt({},u),{},{enable_takeaway:e.target.checked})),className:"w-4 h-4"}),(0,Fn.jsx)("span",{className:"text-sm font-medium",children:"\ud83c\udf92 \xc0 emporter"})]}),(0,Fn.jsxs)("label",{className:"flex items-center space-x-2 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,Fn.jsx)("input",{type:"checkbox",checked:u.enable_delivery,onChange:e=>m(Gt(Gt({},u),{},{enable_delivery:e.target.checked})),className:"w-4 h-4"}),(0,Fn.jsx)("span",{className:"text-sm font-medium",children:"\ud83d\ude9a Livraison"})]}),(0,Fn.jsxs)("label",{className:"flex items-center space-x-2 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,Fn.jsx)("input",{type:"checkbox",checked:u.enable_onsite,onChange:e=>m(Gt(Gt({},u),{},{enable_onsite:e.target.checked})),className:"w-4 h-4"}),(0,Fn.jsx)("span",{className:"text-sm font-medium",children:"\ud83c\udf7d\ufe0f Sur place"})]}),(0,Fn.jsxs)("label",{className:"flex items-center space-x-2 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,Fn.jsx)("input",{type:"checkbox",checked:u.enable_reservations,onChange:e=>m(Gt(Gt({},u),{},{enable_reservations:e.target.checked})),className:"w-4 h-4"}),(0,Fn.jsx)("span",{className:"text-sm font-medium",children:"\ud83d\udcc5 R\xe9servations"})]})]})]})]})]}),(0,Fn.jsxs)(vs,{children:[(0,Fn.jsx)(js,{className:"bg-gradient-to-r from-green-50 to-emerald-50",children:(0,Fn.jsxs)(Ns,{className:"flex items-center gap-2",children:[(0,Fn.jsx)(xl,{className:"w-5 h-5"}),"Programme de fid\xe9lit\xe9"]})}),(0,Fn.jsxs)(ws,{className:"space-y-4",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"loyalty",children:"\ud83d\udcb0 Pourcentage de cashback"}),(0,Fn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Fn.jsx)(ms,{id:"loyalty",type:"number",min:"0",max:"100",step:"0.5",value:u.loyalty_percentage||5,onChange:e=>m(Gt(Gt({},u),{},{loyalty_percentage:parseFloat(e.target.value)})),className:"w-32"}),(0,Fn.jsx)("span",{className:"text-gray-600",children:"%"})]}),(0,Fn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\ud83c\udf81 Pourcentage du montant de chaque commande cr\xe9dit\xe9 sur la carte de fid\xe9lit\xe9 du client"})]}),(0,Fn.jsxs)("div",{className:"border-t pt-4 mt-4",children:[(0,Fn.jsx)(ps,{className:"mb-3 block",children:"Options de calcul du cashback"}),(0,Fn.jsxs)("div",{className:"space-y-3",children:[(0,Fn.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,Fn.jsx)("input",{type:"checkbox",checked:u.loyalty_exclude_promos_from_calculation||!1,onChange:e=>m(Gt(Gt({},u),{},{loyalty_exclude_promos_from_calculation:e.target.checked})),className:"mt-1"}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"font-medium text-gray-900",children:"Ne pas prendre en compte les promos dans le calcul"}),(0,Fn.jsx)("p",{className:"text-xs text-gray-500",children:"Si activ\xe9, le cashback sera calcul\xe9 sur le montant AVANT application des promotions"})]})]}),(0,Fn.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,Fn.jsx)("input",{type:"checkbox",checked:u.auto_badges_enabled||!1,onChange:e=>m(Gt(Gt({},u),{},{auto_badges_enabled:e.target.checked})),className:"mt-1"}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"font-medium text-gray-900",children:"\ud83e\udd16 Laisser l'IA g\xe9rer les badges produits"}),(0,Fn.jsx)("p",{className:"text-xs text-gray-500",children:"L'IA d\xe9cidera automatiquement quels produits afficher avec des badges (Best Seller, Nouveau, etc.)"})]})]})]})]})]})]}),(0,Fn.jsxs)(vs,{children:[(0,Fn.jsx)(js,{className:"bg-gradient-to-r from-purple-50 to-indigo-50",children:(0,Fn.jsxs)(Ns,{className:"flex items-center gap-2",children:[(0,Fn.jsx)(fl,{className:"w-5 h-5"}),"\ud83d\udd10 Codes PIN des Modes"]})}),(0,Fn.jsxs)(ws,{className:"space-y-4",children:[(0,Fn.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"D\xe9finissez des codes PIN \xe0 4 chiffres pour s\xe9curiser l'acc\xe8s aux diff\xe9rents modes du back-office"}),(0,Fn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"pin_orders_mode",children:"\ud83c\udf7d\ufe0f Mode Commande"}),(0,Fn.jsx)(ms,{id:"pin_orders_mode",type:"text",inputMode:"numeric",pattern:"[0-9]{4}",maxLength:"4",value:u.pin_orders_mode||"",onChange:e=>{const t=e.target.value.replace(/[^0-9]/g,"");t.length<=4&&m(Gt(Gt({},u),{},{pin_orders_mode:t}))},placeholder:"\u2022\u2022\u2022\u2022",className:"text-center text-2xl tracking-widest font-bold"}),(0,Fn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Acc\xe8s : Dashboard, Pause, Rupture"})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"pin_delivery_mode",children:"\ud83d\ude9a Mode Livraison"}),(0,Fn.jsx)(ms,{id:"pin_delivery_mode",type:"text",inputMode:"numeric",pattern:"[0-9]{4}",maxLength:"4",value:u.pin_delivery_mode||"",onChange:e=>{const t=e.target.value.replace(/[^0-9]/g,"");t.length<=4&&m(Gt(Gt({},u),{},{pin_delivery_mode:t}))},placeholder:"\u2022\u2022\u2022\u2022",className:"text-center text-2xl tracking-widest font-bold"}),(0,Fn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Acc\xe8s : Gestion des livraisons"})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"pin_reservation_mode",children:"\ud83d\udcc5 Mode R\xe9servation"}),(0,Fn.jsx)(ms,{id:"pin_reservation_mode",type:"text",inputMode:"numeric",pattern:"[0-9]{4}",maxLength:"4",value:u.pin_reservation_mode||"",onChange:e=>{const t=e.target.value.replace(/[^0-9]/g,"");t.length<=4&&m(Gt(Gt({},u),{},{pin_reservation_mode:t}))},placeholder:"\u2022\u2022\u2022\u2022",className:"text-center text-2xl tracking-widest font-bold"}),(0,Fn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Acc\xe8s : Gestion des r\xe9servations"})]})]}),(0,Fn.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-3 mt-4",children:(0,Fn.jsx)("p",{className:"text-sm text-yellow-800",children:"\u26a0\ufe0f Notez ces codes en lieu s\xfbr. Le personnel aura besoin de ces codes pour acc\xe9der aux modes."})})]})]}),(0,Fn.jsxs)(vs,{children:[(0,Fn.jsx)(js,{className:"bg-gradient-to-r from-pink-50 to-rose-50",children:(0,Fn.jsxs)(Ns,{className:"flex items-center gap-2",children:[(0,Fn.jsx)(gl,{className:"w-5 h-5"}),"Personnalisation de l'application"]})}),(0,Fn.jsx)(ws,{className:"space-y-4",children:(0,Fn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"primary_color",children:"\ud83c\udfa8 Couleur principale"}),(0,Fn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Fn.jsx)("input",{id:"primary_color",type:"color",value:u.primary_color||"#C62828",onChange:e=>m(Gt(Gt({},u),{},{primary_color:e.target.value})),className:"w-16 h-10 rounded cursor-pointer"}),(0,Fn.jsx)(ms,{value:u.primary_color||"#C62828",onChange:e=>m(Gt(Gt({},u),{},{primary_color:e.target.value})),placeholder:"#C62828"})]})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"secondary_color",children:"\ud83c\udfa8 Couleur secondaire"}),(0,Fn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Fn.jsx)("input",{id:"secondary_color",type:"color",value:u.secondary_color||"#FFD54F",onChange:e=>m(Gt(Gt({},u),{},{secondary_color:e.target.value})),className:"w-16 h-10 rounded cursor-pointer"}),(0,Fn.jsx)(ms,{value:u.secondary_color||"#FFD54F",onChange:e=>m(Gt(Gt({},u),{},{secondary_color:e.target.value})),placeholder:"#FFD54F"})]})]})]})})]}),(0,Fn.jsx)("div",{className:"flex justify-end sticky bottom-4",children:(0,Fn.jsxs)(is,{onClick:async()=>{f(!0);try{await pn.put("".concat(bl,"/api/v1/admin/settings"),u),alert("\u2705 Param\xe8tres enregistr\xe9s avec succ\xe8s !")}catch(e){console.error("Error saving settings:",e),alert("\u274c Erreur lors de l'enregistrement des param\xe8tres")}finally{f(!1)}},disabled:x,className:"px-8 py-3 text-lg font-bold shadow-lg",children:[(0,Fn.jsx)(yl,{className:"w-5 h-5 mr-2"}),x?"Enregistrement...":"Enregistrer les param\xe8tres"]})})]})]})},Nl=$n("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),wl=$n("message-circle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),kl=()=>{var e,t;const[r,n]=(0,s.useState)(!1),[a,l]=(0,s.useState)(""),[i,o]=(0,s.useState)(null),[c,d]=(0,s.useState)(""),[u,m]=(0,s.useState)(""),[p,h]=(0,s.useState)(null),x=async e=>{n(!0);try{const t=await _n({type:e});l(t.data.generated_text)}catch(a){var t,r;alert("Erreur : "+((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Erreur IA"))}finally{n(!1)}},f=async()=>{if(c.trim()){n(!0);try{const e=await Sn(c);m(e.data.response)}catch(r){var e,t;alert("Erreur : "+((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Erreur IA"))}finally{n(!1)}}};return(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(_s,{title:"Assistant IA"}),(0,Fn.jsxs)("div",{className:"p-8",children:[(0,Fn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,Fn.jsxs)(vs,{children:[(0,Fn.jsx)(js,{children:(0,Fn.jsxs)(Ns,{className:"flex items-center space-x-2",children:[(0,Fn.jsx)(na,{className:"w-5 h-5 text-primary"}),(0,Fn.jsx)("span",{children:"G\xe9n\xe9ration Marketing"})]})}),(0,Fn.jsx)(ws,{children:(0,Fn.jsxs)("div",{className:"space-y-4",children:[(0,Fn.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Fn.jsx)(is,{onClick:()=>x("social_post"),disabled:r,children:"Post Social"}),(0,Fn.jsx)(is,{onClick:()=>x("product_description"),disabled:r,children:"Description Produit"}),(0,Fn.jsx)(is,{onClick:()=>x("promo_text"),disabled:r,className:"col-span-2",children:"Texte Promo"})]}),a&&(0,Fn.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-lg border border-gray-200",children:[(0,Fn.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:a}),(0,Fn.jsx)(is,{size:"sm",variant:"outline",className:"mt-3",onClick:()=>navigator.clipboard.writeText(a),children:"Copier"})]})]})})]}),(0,Fn.jsxs)(vs,{children:[(0,Fn.jsx)(js,{children:(0,Fn.jsxs)(Ns,{className:"flex items-center space-x-2",children:[(0,Fn.jsx)(Nl,{className:"w-5 h-5 text-primary"}),(0,Fn.jsx)("span",{children:"Analyse Ventes"})]})}),(0,Fn.jsxs)(ws,{children:[(0,Fn.jsx)(is,{onClick:async()=>{n(!0);try{const e=await Cn();o(e.data)}catch(r){var e,t;alert("Erreur : "+((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Erreur IA"))}finally{n(!1)}},disabled:r,className:"w-full mb-4",children:"Analyser les ventes"}),i&&(0,Fn.jsxs)("div",{className:"space-y-3",children:[(null===(e=i.ai_analysis)||void 0===e?void 0:e.insights)&&(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("h4",{className:"font-bold text-sm mb-2",children:"Insights :"}),(0,Fn.jsx)("ul",{className:"text-sm text-gray-700 dark:text-gray-300 space-y-1",children:i.ai_analysis.insights.map((e,t)=>(0,Fn.jsxs)("li",{children:["\u2022 ",e]},t))})]}),(null===(t=i.ai_analysis)||void 0===t?void 0:t.recommendations)&&(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("h4",{className:"font-bold text-sm mb-2",children:"Recommandations :"}),(0,Fn.jsx)("ul",{className:"text-sm text-gray-700 dark:text-gray-300 space-y-1",children:i.ai_analysis.recommendations.map((e,t)=>(0,Fn.jsxs)("li",{children:["\u2713 ",e]},t))})]})]})]})]})]}),(0,Fn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Fn.jsxs)(vs,{children:[(0,Fn.jsx)(js,{children:(0,Fn.jsxs)(Ns,{className:"flex items-center space-x-2",children:[(0,Fn.jsx)(wl,{className:"w-5 h-5 text-primary"}),(0,Fn.jsx)("span",{children:"Chat IA"})]})}),(0,Fn.jsx)(ws,{children:(0,Fn.jsxs)("div",{className:"space-y-4",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{children:"Posez une question"}),(0,Fn.jsx)(ms,{value:c,onChange:e=>d(e.target.value),placeholder:"Ex: Quel est le CA d'hier ?",onKeyPress:e=>"Enter"===e.key&&f()})]}),(0,Fn.jsx)(is,{onClick:f,disabled:r||!c.trim(),children:"Envoyer"}),u&&(0,Fn.jsx)("div",{className:"bg-primary/10 p-4 rounded-lg border border-primary/20",children:(0,Fn.jsx)("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:u})})]})})]}),(0,Fn.jsxs)(vs,{children:[(0,Fn.jsx)(js,{children:(0,Fn.jsxs)(Ns,{className:"flex items-center space-x-2",children:[(0,Fn.jsx)(Kn,{className:"w-5 h-5 text-primary"}),(0,Fn.jsx)("span",{children:"Suggestion Promo IA"})]})}),(0,Fn.jsxs)(ws,{children:[(0,Fn.jsx)(is,{onClick:async()=>{n(!0);try{const e=await En();h(e.data.suggestion)}catch(r){var e,t;alert("Erreur : "+((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Erreur IA"))}finally{n(!1)}},disabled:r,className:"w-full mb-4",children:"G\xe9n\xe9rer une suggestion"}),p&&(0,Fn.jsxs)("div",{className:"bg-gold/10 p-4 rounded-lg border border-gold/30",children:[(0,Fn.jsx)("h4",{className:"font-bold mb-2",children:p.title||"Promo sugg\xe9r\xe9e"}),(0,Fn.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:p.description||JSON.stringify(p)})]})]})]})]})]})]})},_l=$n("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Cl=$n("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Sl=$n("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),El=$n("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Pl="https://react-reborn.preview.emergentagent.com",Rl=e=>{let{isOpen:t,onClose:r,promotion:n,onSuccess:a}=e;const[l,i]=(0,s.useState)(1),[o,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)([]),[m,p]=(0,s.useState)([]),[h,x]=(0,s.useState)(""),[f,g]=(0,s.useState)(null),[y,b]=(0,s.useState)({name:"",description:"",type:"percent_item",discount_type:"percentage",discount_value:10,eligible_products:[],eligible_categories:[],all_products:!1,min_cart_amount:null,start_date:(new Date).toISOString().split("T")[0],end_date:new Date(Date.now()+2592e6).toISOString().split("T")[0],start_time:null,end_time:null,days_active:[],limit_per_customer:null,priority:0,stackable:!1,badge_text:"",badge_color:"#FF6B35",status:"active"});(0,s.useEffect)(()=>{t&&(v(),n&&b(Gt(Gt({},y),n)))},[t]);const v=async()=>{try{const[e,t]=await Promise.all([pn.get("".concat(Pl,"/api/v1/admin/products")),pn.get("".concat(Pl,"/api/v1/admin/categories"))]);u(e.data.products||[]),p(t.data.categories||[])}catch(e){console.error("Error loading data:",e)}};return(0,Fn.jsx)(zs,{isOpen:t,onClose:r,title:n?"\u270f\ufe0f Modifier la promotion":"\u2795 Cr\xe9er une promotion",size:"lg",children:(0,Fn.jsxs)("div",{className:"p-2",children:[(0,Fn.jsx)("div",{className:"flex items-center justify-between mb-8",children:[1,2,3].map(e=>(0,Fn.jsxs)("div",{className:"flex items-center",children:[(0,Fn.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-bold ".concat(l>=e?"bg-primary text-white":"bg-gray-200"),children:l>e?(0,Fn.jsx)(Cl,{className:"w-6 h-6"}):e}),e<3&&(0,Fn.jsx)("div",{className:"w-20 h-1 mx-2 ".concat(l>e?"bg-primary":"bg-gray-200")})]},e))}),(0,Fn.jsxs)("form",{onSubmit:e=>e.preventDefault(),children:[1===l&&(()=>{const e=!["bogo","shipping_free"].includes(y.type),t=["percent_item","fixed_item","bogo"].includes(y.type),r=["percent_category","fixed_category"].includes(y.type),n=d.filter(e=>e.name.toLowerCase().includes(h.toLowerCase()));return(0,Fn.jsxs)("div",{className:"space-y-4",children:[(0,Fn.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\xc9tape 1: Type & Ciblage"}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Type de promotion *"}),(0,Fn.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[{value:"bogo",label:"\ud83c\udf81 BOGO (Achetez 1 = 1 offert)",description:"Classique Buy One Get One",tooltip:"Le client ach\xe8te un produit et en re\xe7oit un second identique gratuitement. Id\xe9al pour augmenter le volume des ventes."},{value:"percent_item",label:"\ud83d\udcaf % sur produit",description:"R\xe9duction % sur produits sp\xe9cifiques",tooltip:"R\xe9duction en pourcentage appliqu\xe9e sur des produits s\xe9lectionn\xe9s. Ex: -15% sur tous les burgers."},{value:"percent_category",label:"\ud83d\udcaf % sur cat\xe9gorie",description:"R\xe9duction % sur une cat\xe9gorie",tooltip:"R\xe9duction en pourcentage sur tous les produits d'une ou plusieurs cat\xe9gories. Ex: -20% sur toutes les boissons."},{value:"conditional_discount",label:"\ud83d\udd22 2e \xe0 -50%",description:"2\xe8me article \xe0 -50%, 3 pour 2...",tooltip:'R\xe9duction progressive: le 2\xe8me article \xe0 -50%, ou formules "3 pour le prix de 2". Encourage l\'achat multiple.'},{value:"threshold",label:"\ud83c\udfaf Seuil de panier",description:"D\xe8s X\u20ac d'achat",tooltip:"R\xe9duction activ\xe9e quand le montant du panier atteint un seuil. Ex: -5\u20ac d\xe8s 30\u20ac d'achat."},{value:"shipping_free",label:"\ud83d\ude9a Livraison gratuite",description:"Frais de livraison offerts",tooltip:"Les frais de livraison sont offerts. Peut \xeatre conditionn\xe9 \xe0 un montant minimum."},{value:"new_customer",label:"\u2728 Nouveau client",description:"1\xe8re commande uniquement",tooltip:"Offre r\xe9serv\xe9e aux nouveaux clients pour leur premi\xe8re commande. Excellent pour l'acquisition."},{value:"happy_hour",label:"\ud83c\udf05 Happy Hour",description:"Promo sur horaires d\xe9finis",tooltip:"R\xe9duction active uniquement pendant certaines heures de la journ\xe9e. Ex: -15% de 15h \xe0 18h."},{value:"flash",label:"\u26a1 Offre Flash",description:"Dur\xe9e tr\xe8s limit\xe9e",tooltip:"Promotion de tr\xe8s courte dur\xe9e (quelques heures) pour cr\xe9er un sentiment d'urgence."},{value:"seasonal",label:"\ud83c\udf89 Saisonnier",description:"\xc9v\xe9nement sp\xe9cial",tooltip:"Promotion li\xe9e \xe0 un \xe9v\xe9nement (No\xebl, St-Valentin, etc.) ou une saison sp\xe9cifique."},{value:"promo_code",label:"\ud83d\udd16 Code promo",description:"Code manuel \xe0 saisir",tooltip:"Le client doit saisir un code pour b\xe9n\xe9ficier de la r\xe9duction. Utile pour le marketing cibl\xe9."}].map(e=>(0,Fn.jsxs)("div",{className:"relative group cursor-pointer p-3 border-2 rounded-lg transition-all ".concat(y.type===e.value?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/50"),onClick:()=>b(Gt(Gt({},y),{},{type:e.value})),children:[(0,Fn.jsx)("div",{className:"font-medium text-sm",children:e.label}),(0,Fn.jsx)("div",{className:"text-xs text-gray-500",children:e.description}),(0,Fn.jsxs)("div",{className:"absolute left-0 top-full mt-2 w-64 p-3 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-50",children:[(0,Fn.jsx)("div",{className:"font-semibold mb-1",children:"\u2139\ufe0f Comment \xe7a marche?"}),e.tooltip]})]},e.value))})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Nom de la promo *"}),(0,Fn.jsx)("input",{type:"text",value:y.name,onChange:e=>b(Gt(Gt({},y),{},{name:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Ex: Happy Hour Burgers",required:!0})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Description"}),(0,Fn.jsx)("textarea",{value:y.description,onChange:e=>b(Gt(Gt({},y),{},{description:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",rows:"2",placeholder:"Profitez de -15% sur tous nos burgers entre 15h et 18h"})]}),e&&(0,Fn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Type de remise"}),(0,Fn.jsxs)("select",{value:y.discount_type,onChange:e=>b(Gt(Gt({},y),{},{discount_type:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",children:[(0,Fn.jsx)("option",{value:"percentage",children:"Pourcentage (%)"}),(0,Fn.jsx)("option",{value:"fixed",children:"Montant fixe (\u20ac)"})]})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Valeur *"}),(0,Fn.jsx)("input",{type:"number",step:"0.01",value:y.discount_value,onChange:e=>b(Gt(Gt({},y),{},{discount_value:parseFloat(e.target.value)})),className:"w-full px-3 py-2 border rounded-lg",required:!0})]})]}),t&&(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Produits \xe9ligibles"}),(0,Fn.jsx)("div",{className:"mb-3",children:(0,Fn.jsxs)("label",{className:"flex items-center space-x-2 p-3 border-2 rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,Fn.jsx)("input",{type:"checkbox",checked:y.all_products,onChange:e=>b(Gt(Gt({},y),{},{all_products:e.target.checked,eligible_products:e.target.checked?[]:y.eligible_products})),className:"w-4 h-4"}),(0,Fn.jsx)("span",{className:"font-medium",children:"\ud83c\udf7d\ufe0f Toute la carte"}),(0,Fn.jsx)("span",{className:"text-xs text-gray-500",children:"(Tous les produits sont \xe9ligibles)"})]})}),!y.all_products&&(0,Fn.jsxs)(Fn.Fragment,{children:[(0,Fn.jsx)("input",{type:"text",placeholder:"\ud83d\udd0d Rechercher un produit...",value:h,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border rounded-lg mb-2"}),(0,Fn.jsx)("div",{className:"border rounded-lg max-h-48 overflow-y-auto p-2 space-y-1",children:0===n.length?(0,Fn.jsx)("p",{className:"text-center text-gray-400 py-4",children:"Aucun produit trouv\xe9"}):n.map(e=>(0,Fn.jsxs)("label",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[(0,Fn.jsx)("input",{type:"checkbox",checked:y.eligible_products.includes(e.id),onChange:t=>{t.target.checked?b(Gt(Gt({},y),{},{eligible_products:[...y.eligible_products,e.id]})):b(Gt(Gt({},y),{},{eligible_products:y.eligible_products.filter(t=>t!==e.id)}))},className:"w-4 h-4"}),(0,Fn.jsx)("span",{className:"flex-1",children:e.name}),(0,Fn.jsxs)("span",{className:"text-sm text-gray-500",children:[e.price,"\u20ac"]})]},e.id))}),(0,Fn.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[y.eligible_products.length," produit(s) s\xe9lectionn\xe9(s)"]})]})]}),r&&(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Cat\xe9gories \xe9ligibles"}),(0,Fn.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Le client pourra choisir n'importe quel produit de ces cat\xe9gories"}),(0,Fn.jsx)("div",{className:"grid grid-cols-2 gap-2",children:m.map(e=>(0,Fn.jsxs)("label",{className:"flex items-center space-x-2 p-3 border-2 rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,Fn.jsx)("input",{type:"checkbox",checked:y.eligible_categories.includes(e.id),onChange:t=>{t.target.checked?b(Gt(Gt({},y),{},{eligible_categories:[...y.eligible_categories,e.id]})):b(Gt(Gt({},y),{},{eligible_categories:y.eligible_categories.filter(t=>t!==e.id)}))},className:"w-4 h-4"}),(0,Fn.jsx)("span",{className:"font-medium",children:e.name})]},e.id))}),(0,Fn.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[y.eligible_categories.length," cat\xe9gorie(s) s\xe9lectionn\xe9e(s)"]})]})]})})(),2===l&&(0,Fn.jsxs)("div",{className:"space-y-4",children:[(0,Fn.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\xc9tape 2: Conditions & Limites"}),(0,Fn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Date d\xe9but *"}),(0,Fn.jsx)("input",{type:"date",value:y.start_date,onChange:e=>b(Gt(Gt({},y),{},{start_date:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Date fin *"}),(0,Fn.jsx)("input",{type:"date",value:y.end_date,onChange:e=>b(Gt(Gt({},y),{},{end_date:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",required:!0})]})]}),"happy_hour"===y.type&&(0,Fn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Heure d\xe9but"}),(0,Fn.jsx)("input",{type:"time",value:y.start_time||"",onChange:e=>b(Gt(Gt({},y),{},{start_time:e.target.value})),className:"w-full px-3 py-2 border rounded-lg"})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Heure fin"}),(0,Fn.jsx)("input",{type:"time",value:y.end_time||"",onChange:e=>b(Gt(Gt({},y),{},{end_time:e.target.value})),className:"w-full px-3 py-2 border rounded-lg"})]})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Jours actifs"}),(0,Fn.jsx)("div",{className:"flex flex-wrap gap-2",children:["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"].map((e,t)=>{const r=["mon","tue","wed","thu","fri","sat","sun"][t],n=y.days_active.includes(r);return(0,Fn.jsx)("button",{type:"button",onClick:()=>{b(Gt(Gt({},y),{},n?{days_active:y.days_active.filter(e=>e!==r)}:{days_active:[...y.days_active,r]}))},className:"px-3 py-1 rounded text-sm font-medium ".concat(n?"bg-primary text-white":"bg-gray-200"),children:e},r)})})]}),"threshold"===y.type&&(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Montant minimum panier (\u20ac)"}),(0,Fn.jsx)("input",{type:"number",step:"0.01",value:y.min_cart_amount||"",onChange:e=>b(Gt(Gt({},y),{},{min_cart_amount:parseFloat(e.target.value)})),className:"w-full px-3 py-2 border rounded-lg"})]}),(0,Fn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Limite par client"}),(0,Fn.jsx)("input",{type:"number",value:y.limit_per_customer||"",onChange:e=>b(Gt(Gt({},y),{},{limit_per_customer:parseInt(e.target.value)||null})),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Illimit\xe9"})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Priorit\xe9 (0-100)"}),(0,Fn.jsx)("input",{type:"number",value:y.priority,onChange:e=>b(Gt(Gt({},y),{},{priority:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 border rounded-lg"})]})]}),(0,Fn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Fn.jsx)("input",{type:"checkbox",id:"stackable",checked:y.stackable,onChange:e=>b(Gt(Gt({},y),{},{stackable:e.target.checked})),className:"w-4 h-4"}),(0,Fn.jsx)("label",{htmlFor:"stackable",className:"text-sm font-medium",children:"Cumulable avec d'autres promotions"})]})]}),3===l&&(()=>{var e;const t=y.eligible_products.map(e=>{var t;return null===(t=d.find(t=>t.id===e))||void 0===t?void 0:t.name}).filter(Boolean),r=y.eligible_categories.map(e=>{var t;return null===(t=m.find(t=>t.id===e))||void 0===t?void 0:t.name}).filter(Boolean);return(0,Fn.jsxs)("div",{className:"space-y-4",children:[(0,Fn.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\xc9tape 3: Affichage & Activation"}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Texte badge (affich\xe9 sur produits)"}),(0,Fn.jsx)("input",{type:"text",value:y.badge_text,onChange:e=>b(Gt(Gt({},y),{},{badge_text:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Ex: -15% \ud83d\udd25"})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Couleur du badge"}),(0,Fn.jsx)("input",{type:"color",value:y.badge_color,onChange:e=>b(Gt(Gt({},y),{},{badge_color:e.target.value})),className:"w-20 h-10 border rounded-lg"})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Statut"}),(0,Fn.jsxs)("select",{value:y.status,onChange:e=>b(Gt(Gt({},y),{},{status:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",children:[(0,Fn.jsx)("option",{value:"draft",children:"\ud83d\udfe1 Brouillon"}),(0,Fn.jsx)("option",{value:"active",children:"\ud83d\udfe2 Active"}),(0,Fn.jsx)("option",{value:"paused",children:"\ud83d\udfe0 Pause"})]})]}),(0,Fn.jsxs)("div",{className:"p-4 border-2 border-dashed rounded-lg bg-gradient-to-br from-blue-50 to-purple-50",children:[(0,Fn.jsx)("h4",{className:"font-bold mb-3 text-lg",children:"\ud83d\udccb Aper\xe7u de la promotion"}),(0,Fn.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Fn.jsxs)("p",{children:[(0,Fn.jsx)("strong",{children:"Nom:"})," ",y.name||"(Non d\xe9fini)"]}),(0,Fn.jsxs)("p",{children:[(0,Fn.jsx)("strong",{children:"Type:"})," ",null===(e=[{value:"bogo",label:"\ud83c\udf81 BOGO (Achetez 1 = 1 offert)",description:"Classique Buy One Get One",tooltip:"Le client ach\xe8te un produit et en re\xe7oit un second identique gratuitement. Id\xe9al pour augmenter le volume des ventes."},{value:"percent_item",label:"\ud83d\udcaf % sur produit",description:"R\xe9duction % sur produits sp\xe9cifiques",tooltip:"R\xe9duction en pourcentage appliqu\xe9e sur des produits s\xe9lectionn\xe9s. Ex: -15% sur tous les burgers."},{value:"percent_category",label:"\ud83d\udcaf % sur cat\xe9gorie",description:"R\xe9duction % sur une cat\xe9gorie",tooltip:"R\xe9duction en pourcentage sur tous les produits d'une ou plusieurs cat\xe9gories. Ex: -20% sur toutes les boissons."},{value:"conditional_discount",label:"\ud83d\udd22 2e \xe0 -50%",description:"2\xe8me article \xe0 -50%, 3 pour 2...",tooltip:'R\xe9duction progressive: le 2\xe8me article \xe0 -50%, ou formules "3 pour le prix de 2". Encourage l\'achat multiple.'},{value:"threshold",label:"\ud83c\udfaf Seuil de panier",description:"D\xe8s X\u20ac d'achat",tooltip:"R\xe9duction activ\xe9e quand le montant du panier atteint un seuil. Ex: -5\u20ac d\xe8s 30\u20ac d'achat."},{value:"shipping_free",label:"\ud83d\ude9a Livraison gratuite",description:"Frais de livraison offerts",tooltip:"Les frais de livraison sont offerts. Peut \xeatre conditionn\xe9 \xe0 un montant minimum."},{value:"new_customer",label:"\u2728 Nouveau client",description:"1\xe8re commande uniquement",tooltip:"Offre r\xe9serv\xe9e aux nouveaux clients pour leur premi\xe8re commande. Excellent pour l'acquisition."},{value:"happy_hour",label:"\ud83c\udf05 Happy Hour",description:"Promo sur horaires d\xe9finis",tooltip:"R\xe9duction active uniquement pendant certaines heures de la journ\xe9e. Ex: -15% de 15h \xe0 18h."},{value:"flash",label:"\u26a1 Offre Flash",description:"Dur\xe9e tr\xe8s limit\xe9e",tooltip:"Promotion de tr\xe8s courte dur\xe9e (quelques heures) pour cr\xe9er un sentiment d'urgence."},{value:"seasonal",label:"\ud83c\udf89 Saisonnier",description:"\xc9v\xe9nement sp\xe9cial",tooltip:"Promotion li\xe9e \xe0 un \xe9v\xe9nement (No\xebl, St-Valentin, etc.) ou une saison sp\xe9cifique."},{value:"promo_code",label:"\ud83d\udd16 Code promo",description:"Code manuel \xe0 saisir",tooltip:"Le client doit saisir un code pour b\xe9n\xe9ficier de la r\xe9duction. Utile pour le marketing cibl\xe9."}].find(e=>e.value===y.type))||void 0===e?void 0:e.label]}),!["bogo","shipping_free"].includes(y.type)&&(0,Fn.jsxs)("p",{children:[(0,Fn.jsx)("strong",{children:"Remise:"})," ",y.discount_value,"percentage"===y.discount_type?"%":"\u20ac"]}),(0,Fn.jsxs)("p",{children:[(0,Fn.jsx)("strong",{children:"P\xe9riode:"})," ",y.start_date," \u2192 ",y.end_date]}),y.start_time&&y.end_time&&(0,Fn.jsxs)("p",{children:[(0,Fn.jsx)("strong",{children:"Horaires:"})," ",y.start_time," - ",y.end_time]}),y.all_products&&(0,Fn.jsxs)("p",{children:[(0,Fn.jsx)("strong",{children:"Produits:"})," ",(0,Fn.jsx)("span",{className:"text-green-600 font-semibold",children:"\ud83c\udf7d\ufe0f Toute la carte"})]}),!y.all_products&&t.length>0&&(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("strong",{children:"Produits \xe9ligibles:"}),(0,Fn.jsx)("div",{className:"mt-1 flex flex-wrap gap-1",children:t.map((e,t)=>(0,Fn.jsx)("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs font-medium",children:e},t))})]}),r.length>0&&(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("strong",{children:"Cat\xe9gories \xe9ligibles:"}),(0,Fn.jsx)("div",{className:"mt-1 flex flex-wrap gap-1",children:r.map((e,t)=>(0,Fn.jsxs)("span",{className:"inline-block px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs font-medium",children:["\ud83d\udcc2 ",e]},t))})]}),y.badge_text&&(0,Fn.jsxs)("div",{className:"mt-3",children:[(0,Fn.jsx)("strong",{children:"Badge:"}),(0,Fn.jsx)("div",{className:"inline-block px-3 py-1 rounded font-bold text-white ml-2",style:{backgroundColor:y.badge_color},children:y.badge_text})]})]})]})]})})(),(0,Fn.jsxs)("div",{className:"flex justify-between mt-8 pt-4 border-t",children:[(0,Fn.jsxs)(is,{type:"button",variant:"outline",onClick:()=>1===l?r():i(l-1),children:[(0,Fn.jsx)(Sl,{className:"w-4 h-4 mr-2"}),1===l?"Annuler":"Pr\xe9c\xe9dent"]}),l<3?(0,Fn.jsxs)(is,{type:"button",onClick:()=>i(l+1),children:["Suivant",(0,Fn.jsx)(El,{className:"w-4 h-4 ml-2"})]}):(0,Fn.jsx)(is,{type:"button",onClick:async()=>{c(!0);try{const e=n?"".concat(Pl,"/api/v1/admin/promotions/").concat(n.id):"".concat(Pl,"/api/v1/admin/promotions"),t=n?"put":"post";await pn[t](e,y),alert("\u2705 Promotion enregistr\xe9e"),null===a||void 0===a||a()}catch(e){console.error("Error saving promotion:",e),alert("\u274c Erreur lors de l'enregistrement")}finally{c(!1)}},disabled:o,children:o?"Enregistrement...":"\u2705 Enregistrer"})]})]})]})})},Ol=e=>{let{promotions:t,currentDate:r=new Date,view:n="month"}=e;const a=r.getFullYear(),s=r.getMonth(),l=["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"],i=["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],o=(e,t)=>{const r=new Date(e,t,1),n=new Date(e,t+1,0).getDate(),a=r.getDay(),s=[];for(let l=0;l<a;l++)s.push(null);for(let l=1;l<=n;l++)s.push(l);return s},c=(e,r,n)=>{if(!n)return[];const a="".concat(e,"-").concat(String(r+1).padStart(2,"0"),"-").concat(String(n).padStart(2,"0"));return t.filter(e=>e.start_date<=a&&e.end_date>=a)};if("month"===n){const e=o(a,s);return(0,Fn.jsx)(vs,{children:(0,Fn.jsx)("div",{className:"p-6",children:(0,Fn.jsxs)("div",{className:"grid grid-cols-7 gap-2",children:[i.map(e=>(0,Fn.jsx)("div",{className:"text-center font-bold text-gray-600 p-2",children:e},e)),e.map((e,t)=>{const r=e?c(a,s,e):[],n=e===(new Date).getDate()&&s===(new Date).getMonth()&&a===(new Date).getFullYear();return(0,Fn.jsx)("div",{className:"min-h-24 p-2 border rounded ".concat(e?"bg-white hover:bg-gray-50":"bg-gray-50"," ").concat(n?"border-primary border-2 bg-primary/5":""),children:e&&(0,Fn.jsxs)(Fn.Fragment,{children:[(0,Fn.jsx)("div",{className:"text-sm font-bold mb-1 ".concat(n?"text-primary":""),children:e}),r.length>0&&(0,Fn.jsxs)("div",{className:"space-y-1",children:[r.slice(0,3).map((e,t)=>(0,Fn.jsx)("div",{className:"text-xs bg-gradient-to-r from-orange-400 to-red-500 text-white px-2 py-1 rounded truncate",title:e.name,children:e.name},t)),r.length>3&&(0,Fn.jsxs)("div",{className:"text-xs text-gray-500 font-medium",children:["+",r.length-3," autres"]})]})]})},t)})]})})})}return"year"===n?(0,Fn.jsx)(vs,{children:(0,Fn.jsx)("div",{className:"p-6",children:(0,Fn.jsx)("div",{className:"grid grid-cols-3 gap-6",children:l.map((e,r)=>{const n=((e,r)=>{const n="".concat(e,"-").concat(String(r+1).padStart(2,"0"),"-01"),a=new Date(e,r+1,0).getDate(),s="".concat(e,"-").concat(String(r+1).padStart(2,"0"),"-").concat(String(a).padStart(2,"0"));return t.filter(e=>!(e.end_date<n||e.start_date>s))})(a,r),s=r===(new Date).getMonth()&&a===(new Date).getFullYear();return(0,Fn.jsxs)(vs,{className:"p-4 ".concat(s?"border-2 border-primary bg-primary/5":"border"),children:[(0,Fn.jsx)("h3",{className:"font-bold text-center mb-3 ".concat(s?"text-primary":""),children:e}),(0,Fn.jsxs)("div",{className:"grid grid-cols-7 gap-1 mb-3",children:[["D","L","M","M","J","V","S"].map((e,t)=>(0,Fn.jsx)("div",{className:"text-xs text-center text-gray-500 font-medium",children:e},t)),o(a,r).map((e,t)=>{const n=e?c(a,r,e):[],s=e===(new Date).getDate()&&r===(new Date).getMonth()&&a===(new Date).getFullYear();return(0,Fn.jsx)("div",{className:"text-xs text-center p-1 rounded ".concat(e?n.length>0?"bg-orange-400 text-white font-bold":"bg-gray-50":""," ").concat(s?"ring-2 ring-primary":""),children:e||""},t)})]}),(0,Fn.jsxs)("div",{className:"text-center",children:[n.length>0?(0,Fn.jsxs)("div",{className:"text-sm",children:[(0,Fn.jsx)("span",{className:"font-bold text-primary",children:n.length}),(0,Fn.jsxs)("span",{className:"text-gray-600",children:[" promo",n.length>1?"s":""]})]}):(0,Fn.jsx)("span",{className:"text-xs text-gray-400",children:"Aucune promo"}),n.length>0&&(0,Fn.jsxs)("div",{className:"mt-2 space-y-1",children:[n.slice(0,2).map((e,t)=>(0,Fn.jsx)("div",{className:"text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded truncate",title:e.name,children:e.name},t)),n.length>2&&(0,Fn.jsxs)("div",{className:"text-xs text-gray-500",children:["+",n.length-2]})]})]})]},r)})})})}):null},Tl="https://react-reborn.preview.emergentagent.com",zl=()=>{var e,t;const[r,n]=(0,s.useState)([]),[a,l]=(0,s.useState)(!0),[i,o]=(0,s.useState)("list"),[c,d]=(0,s.useState)(null),[u,m]=(0,s.useState)(!1),[p,h]=(0,s.useState)(null),[x,f]=(0,s.useState)(null);(0,s.useEffect)(()=>{g(),y()},[]);const g=async()=>{l(!0);try{const e=await pn.get("".concat(Tl,"/api/v1/admin/promotions"));n(e.data.promotions||[])}catch(e){console.error("Error loading promotions:",e)}finally{l(!1)}},y=async()=>{try{const e=await pn.get("".concat(Tl,"/api/v1/admin/promotions/analytics/overview"));f(e.data)}catch(e){console.error("Error loading analytics:",e)}},b=e=>{const t={active:"bg-green-100 text-green-700 border-green-500",paused:"bg-orange-100 text-orange-700 border-orange-500",draft:"bg-gray-100 text-gray-700 border-gray-500",expired:"bg-red-100 text-red-700 border-red-500"};return t[e]||t.draft};return a?(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(_s,{title:"\ud83c\udfaf Promotions & Offres",subtitle:"Moteur de promotions Family's"}),(0,Fn.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,Fn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})]}):(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(_s,{title:"\ud83c\udfaf Promotions & Offres",subtitle:"Moteur de promotions Family's"}),(0,Fn.jsxs)("div",{className:"p-6 space-y-6",children:[x&&(0,Fn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Fn.jsx)(vs,{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white",children:(0,Fn.jsxs)("div",{className:"p-4",children:[(0,Fn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Fn.jsx)(Ss,{className:"w-8 h-8 text-white/80"}),(0,Fn.jsx)("span",{className:"text-3xl font-black",children:x.active_promotions})]}),(0,Fn.jsx)("p",{className:"text-sm text-white/80",children:"Promos actives"})]})}),(0,Fn.jsx)(vs,{className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white",children:(0,Fn.jsxs)("div",{className:"p-4",children:[(0,Fn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Fn.jsx)(ra,{className:"w-8 h-8 text-white/80"}),(0,Fn.jsx)("span",{className:"text-3xl font-black",children:x.total_usage})]}),(0,Fn.jsx)("p",{className:"text-sm text-white/80",children:"Utilisations"})]})}),(0,Fn.jsx)(vs,{className:"bg-gradient-to-br from-purple-500 to-pink-600 text-white",children:(0,Fn.jsxs)("div",{className:"p-4",children:[(0,Fn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Fn.jsx)(Yn,{className:"w-8 h-8 text-white/80"}),(0,Fn.jsxs)("span",{className:"text-3xl font-black",children:[null===(e=x.total_revenue)||void 0===e?void 0:e.toFixed(0),"\u20ac"]})]}),(0,Fn.jsx)("p",{className:"text-sm text-white/80",children:"CA g\xe9n\xe9r\xe9"})]})}),(0,Fn.jsx)(vs,{className:"bg-gradient-to-br from-orange-500 to-red-600 text-white",children:(0,Fn.jsxs)("div",{className:"p-4",children:[(0,Fn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Fn.jsx)(Yn,{className:"w-8 h-8 text-white/80"}),(0,Fn.jsxs)("span",{className:"text-3xl font-black",children:[null===(t=x.total_discount)||void 0===t?void 0:t.toFixed(0),"\u20ac"]})]}),(0,Fn.jsx)("p",{className:"text-sm text-white/80",children:"Remises totales"})]})})]}),(0,Fn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fn.jsxs)("div",{className:"flex space-x-2",children:[(0,Fn.jsx)(is,{variant:"list"===i?"primary":"outline",onClick:()=>o("list"),children:"\ud83d\udccb Liste"}),(0,Fn.jsxs)(is,{variant:"calendar"===i?"primary":"outline",onClick:()=>o("calendar"),children:[(0,Fn.jsx)(aa,{className:"w-4 h-4 mr-2"}),"Calendrier"]}),(0,Fn.jsxs)(is,{variant:"preview"===i?"primary":"outline",onClick:()=>o("preview"),children:[(0,Fn.jsx)(_l,{className:"w-4 h-4 mr-2"}),"Aper\xe7u App"]})]}),(0,Fn.jsxs)(is,{onClick:()=>{h(null),m(!0)},children:[(0,Fn.jsx)(Bs,{className:"w-4 h-4 mr-2"}),"Cr\xe9er une promotion"]})]}),"list"===i&&(0,Fn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(e=>{return(0,Fn.jsx)(vs,{className:"border-2 ".concat(b(e.status)),children:(0,Fn.jsxs)("div",{className:"p-4",children:[(0,Fn.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("span",{className:"text-xs font-bold px-2 py-1 rounded bg-white/50",children:(t=e.type,{bogo:"\ud83c\udf81 BOGO",percent_item:"% Produit",percent_category:"% Cat\xe9gorie",fixed_item:"\u20ac Produit",fixed_category:"\u20ac Cat\xe9gorie",conditional_discount:"\ud83d\udd22 Conditionnelle",threshold:"\ud83c\udfaf Seuil",shipping_free:"\ud83d\ude9a Livraison gratuite",new_customer:"\u2728 Nouveau client",inactive_customer:"\ud83d\udca4 Client inactif",loyalty_multiplier:"\u2b50 Multiplicateur",happy_hour:"\ud83c\udf05 Happy Hour",flash:"\u26a1 Flash",seasonal:"\ud83c\udf89 Saisonnier",promo_code:"\ud83d\udd16 Code promo"}[t]||t)}),(0,Fn.jsx)("h3",{className:"font-bold text-lg mt-2",children:e.name}),(0,Fn.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]}),(0,Fn.jsxs)("span",{className:"text-2xl font-black text-primary",children:[e.discount_value,"percentage"===e.discount_type?"%":"\u20ac"]})]}),e.badge_text&&(0,Fn.jsx)("div",{className:"mb-3 px-3 py-1 bg-yellow-100 text-yellow-800 text-xs font-bold rounded",children:e.badge_text}),(0,Fn.jsxs)("div",{className:"text-xs text-gray-600 space-y-1 mb-3",children:[(0,Fn.jsxs)("p",{children:["\ud83d\udcc5 ",e.start_date," \u2192 ",e.end_date]}),e.usage_count>0&&(0,Fn.jsxs)("p",{children:["\ud83d\udcca ",e.usage_count," utilisations"]})]}),(0,Fn.jsxs)("div",{className:"flex space-x-2",children:[(0,Fn.jsx)(is,{size:"sm",variant:"outline",onClick:()=>{h(e),m(!0)},children:(0,Fn.jsx)(Hs,{className:"w-3 h-3"})}),(0,Fn.jsx)(is,{size:"sm",variant:"outline",onClick:()=>(async e=>{const t=Gt(Gt({},e),{},{name:"".concat(e.name," (copie)"),id:void 0,created_at:void 0,updated_at:void 0,usage_count:0});h(t),m(!0)})(e),children:(0,Fn.jsx)(Ws,{className:"w-3 h-3"})}),(0,Fn.jsx)(is,{size:"sm",variant:"danger",onClick:()=>(async e=>{if(window.confirm("Supprimer cette promotion ?"))try{await pn.delete("".concat(Tl,"/api/v1/admin/promotions/").concat(e)),g(),y(),alert("\u2705 Promotion supprim\xe9e")}catch(t){alert("\u274c Erreur lors de la suppression")}})(e.id),children:(0,Fn.jsx)($s,{className:"w-3 h-3"})})]})]})},e.id);var t})}),"calendar"===i&&(0,Fn.jsx)(Ol,{promotions:r}),"preview"===i&&(0,Fn.jsx)(vs,{className:"p-6",children:(0,Fn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("h3",{className:"font-bold text-lg mb-4",children:"\ud83d\udcf1 Aper\xe7u dans l'application"}),(0,Fn.jsxs)("div",{className:"bg-gradient-to-b from-gray-100 to-gray-200 rounded-3xl p-4 shadow-2xl mx-auto",style:{maxWidth:"375px"},children:[(0,Fn.jsx)("div",{className:"bg-black rounded-t-3xl h-8 flex items-center justify-center mb-2",children:(0,Fn.jsx)("div",{className:"w-20 h-5 bg-gray-900 rounded-full"})}),(0,Fn.jsxs)("div",{className:"bg-white rounded-2xl overflow-hidden shadow-inner",style:{height:"667px"},children:[(0,Fn.jsxs)("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 p-4 text-white",children:[(0,Fn.jsx)("h2",{className:"text-xl font-bold",children:"Family's \ud83c\udf54"}),(0,Fn.jsx)("p",{className:"text-sm text-white/80",children:"Promotions du moment"})]}),(0,Fn.jsx)("div",{className:"p-4 overflow-y-auto",style:{height:"calc(667px - 72px)"},children:r&&0!==r.length?(0,Fn.jsx)("div",{className:"space-y-3",children:r.slice(0,8).map((e,t)=>(0,Fn.jsxs)("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 border-2 border-orange-200 rounded-xl p-4",children:[(0,Fn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fn.jsxs)("div",{className:"flex-1",children:[(0,Fn.jsx)("h4",{className:"font-bold text-lg",children:e.name||"Sans nom"}),(0,Fn.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description||""})]}),(0,Fn.jsxs)("div",{className:"text-3xl font-black text-orange-600 ml-4",children:["-",e.discount_value||0,"percentage"===e.discount_type?"%":"\u20ac"]})]}),e.badge_text&&(0,Fn.jsx)("div",{className:"mt-3 bg-yellow-400 text-yellow-900 px-3 py-1 rounded-full text-xs font-bold inline-block",children:e.badge_text})]},e.id||t))}):(0,Fn.jsxs)("div",{className:"text-center py-20",children:[(0,Fn.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfaf"}),(0,Fn.jsx)("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"Aucune promotion"}),(0,Fn.jsx)("p",{className:"text-gray-500",children:"Cr\xe9ez votre premi\xe8re promotion pour la voir ici"})]})})]}),(0,Fn.jsx)("div",{className:"bg-black rounded-b-3xl h-8 flex items-center justify-center mt-2",children:(0,Fn.jsx)("div",{className:"w-32 h-1 bg-white/30 rounded-full"})})]})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsxs)("h3",{className:"font-bold text-lg mb-4",children:["Vos promotions (",(null===r||void 0===r?void 0:r.length)||0,")"]}),(0,Fn.jsx)("div",{className:"space-y-2 max-h-[700px] overflow-y-auto",children:r&&0!==r.length?r.map((e,t)=>(0,Fn.jsx)(vs,{className:"p-3 hover:shadow-md transition-shadow",children:(0,Fn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fn.jsxs)("div",{className:"flex-1",children:[(0,Fn.jsx)("h4",{className:"font-bold",children:e.name||"Sans nom"}),(0,Fn.jsx)("p",{className:"text-sm text-gray-600",children:e.description||""})]}),(0,Fn.jsxs)("span",{className:"text-xl font-black text-primary ml-3",children:["-",e.discount_value||0,"percentage"===e.discount_type?"%":"\u20ac"]})]})},e.id||t)):(0,Fn.jsxs)("div",{className:"text-center py-10 text-gray-500",children:[(0,Fn.jsx)("p",{children:"Aucune promotion disponible"}),(0,Fn.jsx)("p",{className:"text-sm mt-2",children:"Cr\xe9ez une promotion dans l'onglet Liste"})]})})]})]})})]}),u&&(0,Fn.jsx)(Rl,{isOpen:u,onClose:()=>{m(!1),h(null)},promotion:p,onSuccess:()=>{g(),y(),m(!1),h(null)}})]})},Al=$n("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),Fl=$n("phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Ll=$n("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Ml=$n("shopping-bag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),Dl=e=>{var t,r,n;let{isOpen:a,onClose:l,customer:i}=e;const[o,c]=(0,s.useState)([]),[d,u]=(0,s.useState)(!1);(0,s.useEffect)(()=>{a&&i&&m()},[a,i]);const m=async()=>{u(!0);try{const e=await pn.get("".concat("https://react-reborn.preview.emergentagent.com","/api/v1/admin/orders?customer_id=").concat(i.id));c(e.data.orders||[])}catch(e){console.error("Error loading orders:",e),c([])}finally{u(!1)}};return i?(0,Fn.jsx)(zs,{isOpen:a,onClose:l,title:"D\xe9tails client: ".concat(i.name||"Client inconnu"),maxWidth:"max-w-4xl",children:(0,Fn.jsxs)("div",{className:"space-y-6",children:[(0,Fn.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Fn.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 p-6 rounded-lg",children:[(0,Fn.jsx)("div",{className:"flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 text-white font-bold text-3xl mx-auto mb-4",children:(null===(t=i.name)||void 0===t||null===(r=t.charAt(0))||void 0===r?void 0:r.toUpperCase())||"?"}),(0,Fn.jsx)("h3",{className:"text-xl font-bold text-center mb-2",children:i.name}),(0,Fn.jsxs)("p",{className:"text-gray-600 text-center text-sm",children:["Client #",null===(n=i.id)||void 0===n?void 0:n.slice(0,8)]})]}),(0,Fn.jsxs)("div",{className:"space-y-3",children:[(0,Fn.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,Fn.jsx)(Al,{className:"w-5 h-5 text-gray-600"}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"text-xs text-gray-500",children:"Email"}),(0,Fn.jsx)("p",{className:"font-medium",children:i.email})]})]}),(0,Fn.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,Fn.jsx)(Fl,{className:"w-5 h-5 text-gray-600"}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"text-xs text-gray-500",children:"T\xe9l\xe9phone"}),(0,Fn.jsx)("p",{className:"font-medium",children:i.phone||"Non renseign\xe9"})]})]}),i.address&&(0,Fn.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,Fn.jsx)(Ll,{className:"w-5 h-5 text-gray-600"}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"text-xs text-gray-500",children:"Adresse"}),(0,Fn.jsx)("p",{className:"font-medium",children:i.address})]})]})]})]}),(0,Fn.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,Fn.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[(0,Fn.jsx)(Ml,{className:"w-6 h-6 text-blue-600 mx-auto mb-2"}),(0,Fn.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:i.total_orders||0}),(0,Fn.jsx)("p",{className:"text-xs text-gray-600",children:"Commandes"})]}),(0,Fn.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[(0,Fn.jsx)(Ss,{className:"w-6 h-6 text-green-600 mx-auto mb-2"}),(0,Fn.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[(i.total_spent||0).toFixed(2),"\u20ac"]}),(0,Fn.jsx)("p",{className:"text-xs text-gray-600",children:"Total d\xe9pens\xe9"})]}),(0,Fn.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[(0,Fn.jsx)("span",{className:"text-2xl",children:"\ud83d\udcb0"}),(0,Fn.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:[(i.loyalty_points||0).toFixed(2),"\u20ac"]}),(0,Fn.jsx)("p",{className:"text-xs text-gray-600",children:"Points fid\xe9lit\xe9"})]}),(0,Fn.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg text-center",children:[(0,Fn.jsx)(aa,{className:"w-6 h-6 text-orange-600 mx-auto mb-2"}),(0,Fn.jsxs)("p",{className:"text-2xl font-bold text-orange-600",children:[i.total_orders>0?Math.round((i.total_spent||0)/i.total_orders):0,"\u20ac"]}),(0,Fn.jsx)("p",{className:"text-xs text-gray-600",children:"Panier moyen"})]})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("h4",{className:"font-bold text-lg mb-3",children:"Historique des commandes"}),d?(0,Fn.jsx)("p",{className:"text-center py-4 text-gray-500",children:"Chargement..."}):0===o.length?(0,Fn.jsx)("p",{className:"text-center py-8 text-gray-400",children:"Aucune commande"}):(0,Fn.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:o.slice(0,10).map(e=>{var t;return(0,Fn.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsxs)("p",{className:"font-medium",children:["Commande #",e.order_number||(null===(t=e.id)||void 0===t?void 0:t.slice(0,8))]}),(0,Fn.jsxs)("p",{className:"text-xs text-gray-500",children:[new Date(e.created_at).toLocaleDateString("fr-FR")," - ",e.status]})]}),(0,Fn.jsxs)("p",{className:"font-bold text-lg",children:[(e.total_amount||0).toFixed(2),"\u20ac"]})]},e.id)})})]}),(0,Fn.jsx)("div",{className:"flex justify-end",children:(0,Fn.jsx)(is,{onClick:l,children:"Fermer"})})]})}):null},Il=$n("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Ul=()=>{const[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)(!0),[a,l]=(0,s.useState)(null),[i,o]=(0,s.useState)(!1);(0,s.useEffect)(()=>{c()},[]);const c=async()=>{try{const e=await Pn();t(e.data.customers||[])}catch(e){console.error("Failed to load customers:",e),t([])}finally{n(!1)}};return r?(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(_s,{title:"Clients"}),(0,Fn.jsx)("div",{className:"p-8",children:"Chargement..."})]}):(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(_s,{title:"Clients & Fid\xe9lit\xe9"}),(0,Fn.jsxs)("div",{className:"p-8",children:[(0,Fn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Fn.jsxs)("h3",{className:"text-xl font-bold",children:[e.length," clients"]}),(0,Fn.jsxs)(is,{variant:"outline",onClick:()=>{if(0===e.length)return void alert("Aucun client \xe0 exporter");const t=e.map(e=>[e.name||"",e.email||"",e.phone||"",e.address||"",(e.total_spent||0).toFixed(2),e.total_orders||0,(e.loyalty_points||0).toFixed(2)]),r=[["Nom","Email","T\xe9l\xe9phone","Adresse","Total d\xe9pens\xe9","Nombre de commandes","Points fid\xe9lit\xe9"].join(","),...t.map(e=>e.map(e=>'"'.concat(e,'"')).join(","))].join("\n"),n=new Blob(["\ufeff"+r],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a"),s=URL.createObjectURL(n);a.setAttribute("href",s),a.setAttribute("download","clients_".concat((new Date).toISOString().split("T")[0],".csv")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},children:[(0,Fn.jsx)(Il,{className:"w-4 h-4 mr-2"}),"Exporter CSV"]})]}),0===e.length?(0,Fn.jsxs)(vs,{className:"text-center py-12",children:[(0,Fn.jsx)(ra,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Fn.jsx)("p",{className:"text-gray-500",children:"Aucun client enregistr\xe9"})]}):(0,Fn.jsx)("div",{className:"space-y-4",children:e.map(e=>{var t,r;return(0,Fn.jsxs)(vs,{className:"flex items-center justify-between p-4 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>{l(e),o(!0)},children:[(0,Fn.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Fn.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold text-xl",children:(null===(t=e.name)||void 0===t||null===(r=t.charAt(0))||void 0===r?void 0:r.toUpperCase())||"?"}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("h4",{className:"font-bold text-lg",children:e.name||"Client inconnu"}),(0,Fn.jsx)("p",{className:"text-sm text-gray-600",children:e.email}),e.phone&&(0,Fn.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["\ud83d\udcf1 ",e.phone]}),e.address&&(0,Fn.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["\ud83d\udccd ",e.address]})]})]}),(0,Fn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Fn.jsxs)("div",{className:"text-right",children:[(0,Fn.jsxs)("p",{className:"text-2xl font-black text-primary",children:[(e.total_spent||0).toFixed(2),"\u20ac"]}),(0,Fn.jsxs)("p",{className:"text-sm text-gray-500",children:[e.total_orders||0," commandes"]}),(0,Fn.jsxs)("p",{className:"text-xs text-green-600 font-semibold mt-1",children:["\ud83d\udcb0 ",(e.loyalty_points||0).toFixed(2),"\u20ac fid\xe9lit\xe9"]})]}),(0,Fn.jsx)(_l,{className:"w-5 h-5 text-gray-400"})]})]},e.id)})})]}),(0,Fn.jsx)(Dl,{isOpen:i,onClose:()=>o(!1),customer:a})]})},ql=e=>{let{isOpen:t,onClose:r,notification:n,segments:a,onSuccess:l}=e;const[i,o]=(0,s.useState)({title:"",message:"",icon:"\ud83d\udd14",target_type:"all",target_segment:null,scheduled_for:""}),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!1),p=(null===n||void 0===n?void 0:n.target_segment)||null,h=!!n;(0,s.useEffect)(()=>{o(n?{title:n.title||"",message:n.message||"",icon:n.icon||"\ud83d\udd14",target_type:n.target_type||(n.target_segment?"segment":"all"),target_segment:n.target_segment||null,scheduled_for:n.scheduled_for||""}:{title:"",message:"",icon:"\ud83d\udd14",target_type:"all",target_segment:null,scheduled_for:""})},[n,t]);return(0,Fn.jsxs)(zs,{isOpen:t,onClose:r,children:[(0,Fn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Fn.jsx)("h2",{className:"text-2xl font-bold",children:h?"Modifier la notification":"Cr\xe9er une notification"}),(0,Fn.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:(0,Fn.jsx)(Ts,{className:"w-6 h-6"})})]}),(0,Fn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d(!0);try{const e="https://react-reborn.preview.emergentagent.com",t=h?"".concat(e,"/api/v1/admin/notifications/").concat(n.id):"".concat(e,"/api/v1/admin/notifications"),a=h?"PUT":"POST",s=Gt(Gt({},i),{},{target_segment:p||i.target_segment,target_type:p?"segment":i.target_type});if(!(await fetch(t,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)throw new Error("Failed to save notification");alert(h?"\u2705 Notification modifi\xe9e":"\u2705 Notification cr\xe9\xe9e"),null===l||void 0===l||l(),r()}catch(t){console.error("Error saving notification:",t),alert("\u274c Erreur lors de la sauvegarde")}finally{d(!1)}},className:"space-y-4",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Ic\xf4ne"}),(0,Fn.jsx)("div",{className:"flex gap-2 flex-wrap",children:["\ud83d\udd14","\ud83c\udf89","\ud83c\udf54","\ud83c\udf81","\u26a0\ufe0f","\ud83d\udce2","\u2728","\ud83d\udd25","\ud83d\udcb0","\ud83d\ude80"].map(e=>(0,Fn.jsx)("button",{type:"button",onClick:()=>o(Gt(Gt({},i),{},{icon:e})),className:"text-2xl p-2 rounded border-2 ".concat(i.icon===e?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"),children:e},e))})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Titre *"}),(0,Fn.jsx)("input",{type:"text",value:i.title,onChange:e=>o(Gt(Gt({},i),{},{title:e.target.value})),className:"w-full px-4 py-2 border rounded-lg",placeholder:"Nouvelle offre disponible!",required:!0})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium",children:"Message *"}),(0,Fn.jsxs)(is,{type:"button",size:"sm",variant:"outline",onClick:async()=>{if(i.title&&i.message){m(!0);try{const e="https://react-reborn.preview.emergentagent.com",t=await pn.post("".concat(e,"/api/v1/admin/ai/chat"),{question:"Am\xe9liore ce message de notification pour un restaurant :\nTitre: ".concat(i.title,"\nMessage: ").concat(i.message,'\n\nConsignes:\n- Rend le titre plus accrocheur et engageant (max 50 caract\xe8res)\n- Am\xe9liore le message pour \xeatre plus persuasif et inciter \xe0 l\'action (max 150 caract\xe8res)\n- Garde le m\xeame ton et le m\xeame sujet\n- R\xe9ponds UNIQUEMENT au format JSON: {"title": "nouveau titre", "message": "nouveau message"}')}),n=t.data.response||t.data.answer;try{const e=n.match(/\{[\s\S]*\}/);if(e){const t=JSON.parse(e[0]);o(Gt(Gt({},i),{},{title:t.title||i.title,message:t.message||i.message})),alert("\u2705 Texte am\xe9lior\xe9 par l'IA !")}else alert("\u26a0\ufe0f R\xe9ponse IA re\xe7ue mais format inattendu. Veuillez r\xe9essayer.")}catch(r){console.error("Error parsing AI response:",r),alert("\u26a0\ufe0f R\xe9ponse IA re\xe7ue mais format inattendu. Veuillez r\xe9essayer.")}}catch(n){var e,t;console.error("Error generating with AI:",n),alert("\u274c Erreur lors de la g\xe9n\xe9ration IA: "+((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||n.message))}finally{m(!1)}}else alert("Veuillez remplir le titre et le message avant de g\xe9n\xe9rer avec l'IA")},disabled:u||!i.title||!i.message,className:"text-purple-600 border-purple-300 hover:bg-purple-50",children:[(0,Fn.jsx)(na,{className:"w-4 h-4 mr-1"}),u?"G\xe9n\xe9ration...":"Am\xe9liorer avec l'IA"]})]}),(0,Fn.jsx)("textarea",{value:i.message,onChange:e=>o(Gt(Gt({},i),{},{message:e.target.value})),className:"w-full px-4 py-2 border rounded-lg",rows:"4",placeholder:"Profitez de 20% de r\xe9duction sur tous nos burgers...",required:!0}),(0,Fn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Le message sera envoy\xe9 tel quel aux clients"})]}),!p&&(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Ciblage"}),(0,Fn.jsxs)("select",{value:i.target_type,onChange:e=>o(Gt(Gt({},i),{},{target_type:e.target.value,target_segment:"all"===e.target.value?null:i.target_segment})),className:"w-full px-4 py-2 border rounded-lg",children:[(0,Fn.jsx)("option",{value:"all",children:"Tous les clients"}),(0,Fn.jsx)("option",{value:"segment",children:"Segment sp\xe9cifique"})]})]}),("segment"===i.target_type||p)&&!p&&(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"S\xe9lectionner un segment"}),(0,Fn.jsxs)("select",{value:i.target_segment||"",onChange:e=>o(Gt(Gt({},i),{},{target_segment:e.target.value})),className:"w-full px-4 py-2 border rounded-lg",required:!0,children:[(0,Fn.jsx)("option",{value:"",children:"Choisir un segment..."}),null===a||void 0===a?void 0:a.map(e=>(0,Fn.jsxs)("option",{value:e.value,children:[e.label," (",e.count," clients)"]},e.value))]})]}),p&&(0,Fn.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,Fn.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Fn.jsx)("strong",{children:"Segment cibl\xe9:"})," ",p]})}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Programmer (optionnel)"}),(0,Fn.jsx)("input",{type:"datetime-local",value:i.scheduled_for,onChange:e=>o(Gt(Gt({},i),{},{scheduled_for:e.target.value})),className:"w-full px-4 py-2 border rounded-lg"}),(0,Fn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Laisser vide pour envoyer imm\xe9diatement"})]}),(0,Fn.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Fn.jsx)(is,{type:"button",variant:"outline",onClick:r,disabled:c,className:"flex-1",children:"Annuler"}),(0,Fn.jsx)(is,{type:"submit",disabled:c,className:"flex-1",children:c?"Enregistrement...":h?"Modifier":"Cr\xe9er"})]})]})]})},Bl=$n("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),Vl=$n("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Hl=()=>{const[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)(!0),[a,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(null),[c,d]=(0,s.useState)("scheduled"),[u,m]=(0,s.useState)({total_sent:0,total_opened:0,open_rate:0,scheduled_count:0});(0,s.useEffect)(()=>{p(),h()},[]);const p=async()=>{try{const e=await Rn(),r=e.data.notifications||e.data||[],n=new Date;n.setHours(n.getHours()-48);const a=r.filter(e=>{const t=e.scheduled_for&&new Date(e.scheduled_for)>new Date,r=!e.scheduled_for||new Date(e.created_at)>n;return t||r});t(a)}catch(e){console.error("Failed to load notifications:",e),t([])}finally{n(!1)}},h=async()=>{m({total_sent:245,total_opened:189,open_rate:77,scheduled_count:3})},x=[{id:"all",name:"Tous les clients",icon:"\ud83d\udc65",count:156,color:"blue"},{id:"new",name:"Nouveaux clients",icon:"\u2728",count:23,color:"green"},{id:"regulars",name:"Clients r\xe9guliers",icon:"\u2b50",count:89,color:"purple"},{id:"vip",name:"Clients VIP (>500\u20ac)",icon:"\ud83d\udc8e",count:12,color:"yellow"},{id:"inactive",name:"Inactifs (30j)",icon:"\ud83d\udca4",count:32,color:"gray"}],f=new Date,g=e.filter(e=>!!e.scheduled_for&&new Date(e.scheduled_for)>f),y=e.filter(e=>!(e.scheduled_for&&new Date(e.scheduled_for)>f)),b="scheduled"===c?g:y,v=[{id:"scheduled",label:"Planifi\xe9es",icon:el,count:g.length,color:"blue"},{id:"recent",label:"R\xe9centes (48h)",icon:Cl,count:y.length,color:"green"}];return r?(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(_s,{title:"\ud83d\udd14 Notifications",subtitle:"Communiquez avec vos clients"}),(0,Fn.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,Fn.jsxs)("div",{className:"text-center",children:[(0,Fn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,Fn.jsx)("p",{className:"text-gray-600",children:"Chargement..."})]})})]}):(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(_s,{title:"\ud83d\udd14 Notifications",subtitle:"Communiquez avec vos clients"}),(0,Fn.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Fn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Fn.jsx)(vs,{children:(0,Fn.jsx)(ws,{className:"p-4",children:(0,Fn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"text-sm text-gray-600",children:"Total envoy\xe9es"}),(0,Fn.jsx)("p",{className:"text-3xl font-bold text-gray-800",children:u.total_sent})]}),(0,Fn.jsx)(Bl,{className:"w-10 h-10 text-blue-500"})]})})}),(0,Fn.jsx)(vs,{children:(0,Fn.jsx)(ws,{className:"p-4",children:(0,Fn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"text-sm text-gray-600",children:"Taux d'ouverture"}),(0,Fn.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:[u.open_rate,"%"]})]}),(0,Fn.jsx)(_l,{className:"w-10 h-10 text-green-500"})]})})}),(0,Fn.jsx)(vs,{children:(0,Fn.jsx)(ws,{className:"p-4",children:(0,Fn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"text-sm text-gray-600",children:"Planifi\xe9es"}),(0,Fn.jsx)("p",{className:"text-3xl font-bold text-orange-600",children:g.length})]}),(0,Fn.jsx)(el,{className:"w-10 h-10 text-orange-500"})]})})}),(0,Fn.jsx)(vs,{children:(0,Fn.jsx)(ws,{className:"p-4",children:(0,Fn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"text-sm text-gray-600",children:"Clients"}),(0,Fn.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:x[0].count})]}),(0,Fn.jsx)(ra,{className:"w-10 h-10 text-purple-500"})]})})})]}),(0,Fn.jsxs)(vs,{children:[(0,Fn.jsx)(js,{className:"bg-gradient-to-r from-purple-50 to-pink-50",children:(0,Fn.jsxs)(Ns,{className:"flex items-center gap-2",children:[(0,Fn.jsx)(Vl,{className:"w-5 h-5"}),"Segments de clients"]})}),(0,Fn.jsx)(ws,{children:(0,Fn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:x.map(e=>(0,Fn.jsxs)("button",{onClick:()=>{o({target_segment:e.id}),l(!0)},className:"p-4 border-2 rounded-lg hover:border-primary transition-all text-left hover:shadow-md",children:[(0,Fn.jsx)("div",{className:"text-3xl mb-2",children:e.icon}),(0,Fn.jsx)("div",{className:"font-bold text-gray-800",children:e.name}),(0,Fn.jsxs)("div",{className:"text-sm text-gray-600",children:[e.count," clients"]}),(0,Fn.jsxs)(is,{size:"sm",className:"w-full mt-3",children:[(0,Fn.jsx)(Bl,{className:"w-3 h-3 mr-1"}),"Envoyer"]})]},e.id))})})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Fn.jsx)("div",{className:"flex gap-2",children:v.map(e=>{const t=e.icon;return(0,Fn.jsxs)("button",{onClick:()=>d(e.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-bold transition-all ".concat(c===e.id?"bg-primary text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[(0,Fn.jsx)(t,{className:"w-4 h-4"}),e.label,(0,Fn.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs ".concat(c===e.id?"bg-white/20":"bg-gray-200"),children:e.count})]},e.id)})}),(0,Fn.jsxs)(is,{onClick:()=>{o(null),l(!0)},children:[(0,Fn.jsx)(Bs,{className:"w-4 h-4 mr-2"}),"Cr\xe9er une notification"]})]}),0===b.length?(0,Fn.jsxs)(vs,{className:"text-center py-12",children:[(0,Fn.jsx)(Xn,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Fn.jsx)("p",{className:"text-gray-500 font-semibold mb-2",children:"scheduled"===c?"Aucune notification planifi\xe9e":"Aucune notification r\xe9cente"}),(0,Fn.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:"scheduled"===c?"Cr\xe9ez une notification et planifiez son envoi":"Les notifications envoy\xe9es dans les derni\xe8res 48h appara\xeetront ici"}),(0,Fn.jsxs)(is,{onClick:()=>l(!0),children:[(0,Fn.jsx)(Bs,{className:"w-4 h-4 mr-2"}),"Cr\xe9er une notification"]})]}):(0,Fn.jsx)("div",{className:"space-y-4",children:b.map(e=>{const t=e.scheduled_for&&new Date(e.scheduled_for)>f,r=e.scheduled_for?new Date(e.scheduled_for):null,n=x.find(t=>t.id===e.target_segment)||x[0];return(0,Fn.jsx)(vs,{children:(0,Fn.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Fn.jsxs)("div",{className:"flex-1",children:[(0,Fn.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Fn.jsx)("span",{className:"text-3xl",children:e.icon||"\ud83d\udd14"}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("h4",{className:"font-bold text-lg",children:e.title}),(0,Fn.jsx)("p",{className:"text-sm text-gray-500",children:e.created_at&&new Date(e.created_at).toLocaleString("fr-FR")})]})]}),(0,Fn.jsx)("p",{className:"text-sm text-gray-700 mb-3 ml-12",children:e.message}),(0,Fn.jsxs)("div",{className:"flex items-center gap-2 flex-wrap ml-12",children:[t?(0,Fn.jsxs)("span",{className:"text-xs px-3 py-1.5 rounded-full bg-blue-100 text-blue-700 font-semibold flex items-center gap-1",children:[(0,Fn.jsx)(aa,{className:"w-3 h-3"}),null===r||void 0===r?void 0:r.toLocaleString("fr-FR")]}):(0,Fn.jsxs)("span",{className:"text-xs px-3 py-1.5 rounded-full bg-green-100 text-green-700 font-semibold flex items-center gap-1",children:[(0,Fn.jsx)(Cl,{className:"w-3 h-3"}),"Envoy\xe9e"]}),(0,Fn.jsxs)("span",{className:"text-xs px-3 py-1.5 rounded-full font-semibold flex items-center gap-1 bg-".concat(n.color,"-100 text-").concat(n.color,"-700"),children:[n.icon," ",n.name]}),void 0!==e.opened_count&&(0,Fn.jsxs)("span",{className:"text-xs px-3 py-1.5 rounded-full bg-purple-100 text-purple-700 font-semibold flex items-center gap-1",children:[(0,Fn.jsx)(_l,{className:"w-3 h-3"}),e.opened_count," ouvertures"]})]})]}),(0,Fn.jsxs)("div",{className:"flex gap-2",children:[t&&(0,Fn.jsxs)(Fn.Fragment,{children:[(0,Fn.jsx)(is,{size:"sm",variant:"outline",onClick:()=>{o(e),l(!0)},title:"Modifier",children:(0,Fn.jsx)(Hs,{className:"w-4 h-4"})}),(0,Fn.jsx)(is,{size:"sm",onClick:()=>(async e=>{if(window.confirm("Envoyer cette notification maintenant ?"))try{await On(e),alert("\u2705 Notification envoy\xe9e !"),p()}catch(t){alert("\u274c Erreur lors de l'envoi")}})(e.id),title:"Envoyer maintenant",children:(0,Fn.jsx)(Bl,{className:"w-4 h-4"})})]}),(0,Fn.jsx)(is,{size:"sm",variant:"danger",onClick:()=>(async e=>{if(window.confirm("Supprimer cette notification ?"))try{await Tn(e),p()}catch(t){alert("\u274c Erreur lors de la suppression")}})(e.id),title:"Supprimer",children:(0,Fn.jsx)($s,{className:"w-4 h-4"})})]})]})},e.id)})})]})]}),(0,Fn.jsx)(ql,{isOpen:a,onClose:()=>{l(!1),o(null)},notification:i,segments:x,onSuccess:p})]})},Wl=()=>{const[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)(!0);(0,s.useEffect)(()=>{a()},[]);const a=async()=>{try{const e=await zn();t(e.data)}catch(e){console.error("Failed to load reservations:",e)}finally{n(!1)}},l=async(e,t)=>{try{await An(e,{status:t}),a()}catch(r){alert("Erreur lors de la mise \xe0 jour")}};return r?(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(_s,{title:"R\xe9servations"}),(0,Fn.jsx)("div",{className:"p-8",children:"Chargement..."})]}):(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(_s,{title:"R\xe9servations"}),(0,Fn.jsxs)("div",{className:"p-8",children:[(0,Fn.jsxs)("h3",{className:"text-xl font-bold mb-6",children:[e.length," r\xe9servations"]}),0===e.length?(0,Fn.jsxs)(vs,{className:"text-center py-12",children:[(0,Fn.jsx)(aa,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Fn.jsx)("p",{className:"text-gray-500",children:"Aucune r\xe9servation"})]}):(0,Fn.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,Fn.jsx)(vs,{children:(0,Fn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("h4",{className:"font-bold",children:e.customer_name}),(0,Fn.jsxs)("p",{className:"text-sm text-gray-600",children:[e.reservation_date," \xe0 ",e.reservation_time," \u2022 ",e.party_size," personnes"]}),(0,Fn.jsx)("p",{className:"text-sm text-gray-500",children:e.customer_phone})]}),(0,Fn.jsxs)("div",{className:"flex space-x-2",children:["pending"===e.status&&(0,Fn.jsxs)(Fn.Fragment,{children:[(0,Fn.jsxs)(is,{size:"sm",variant:"outline",onClick:()=>l(e.id,"confirmed"),children:[(0,Fn.jsx)(Cl,{className:"w-4 h-4 mr-1"}),"Confirmer"]}),(0,Fn.jsx)(is,{size:"sm",variant:"danger",onClick:()=>l(e.id,"canceled"),children:(0,Fn.jsx)(Ts,{className:"w-4 h-4"})})]}),"pending"!==e.status&&(0,Fn.jsx)("span",{className:"px-3 py-1 rounded text-sm ".concat("confirmed"===e.status?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.status})]})]})},e.id))})]})]})},$l="https://react-reborn.preview.emergentagent.com",Gl=()=>{const[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)(!1),[a,l]=(0,s.useState)(!1);(0,s.useEffect)(()=>{i()},[]);const i=async()=>{n(!0);try{const e=localStorage.getItem("admin_token"),r=await pn.get("".concat($l,"/api/v1/admin/ai-marketing/campaigns/pending"),{headers:{Authorization:"Bearer ".concat(e)}});t(r.data.campaigns||[])}catch(e){console.error("Erreur chargement campagnes:",e)}finally{n(!1)}},o=async()=>{l(!0);try{const e=localStorage.getItem("admin_token");await pn.post("".concat($l,"/api/v1/admin/ai-marketing/campaigns/generate"),{force_regenerate:!0},{headers:{Authorization:"Bearer ".concat(e)}}),await i(),alert("\u2728 Nouvelles campagnes g\xe9n\xe9r\xe9es !")}catch(e){console.error("Erreur g\xe9n\xe9ration:",e),alert("Erreur lors de la g\xe9n\xe9ration des campagnes")}finally{l(!1)}},c=async(r,n)=>{try{const a=localStorage.getItem("admin_token");await pn.post("".concat($l,"/api/v1/admin/ai-marketing/campaigns/").concat(r,"/validate"),{accepted:n,notes:null},{headers:{Authorization:"Bearer ".concat(a)}}),t(e.filter(e=>e.id!==r)),n?alert("\u2705 Campagne activ\xe9e ! Une promo en brouillon a \xe9t\xe9 cr\xe9\xe9e."):alert("\u274c Campagne refus\xe9e.")}catch(a){console.error("Erreur validation:",a),alert("Erreur lors de la validation")}},d=e=>{switch(e){case"produit":return"\ud83c\udf54";case"fidelite":return"\u2b50";case"happy_hour":return"\u23f0";case"reactivation":return"\ud83d\udd04";case"panier_moyen":return"\ud83d\uded2";default:return"\ud83d\udca1"}},u=e=>{switch(e){case"produit":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"fidelite":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"happy_hour":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"reactivation":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"panier_moyen":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}};return(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(_s,{title:"\ud83e\udd16 IA Marketing - Campagnes Propos\xe9es",subtitle:"L'IA analyse tes donn\xe9es et te propose des campagnes pertinentes. Tu valides ou refuses en un clic."}),(0,Fn.jsxs)("div",{className:"p-8",children:[(0,Fn.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Campagnes en attente"}),(0,Fn.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.length," ",e.length>1?"campagnes propos\xe9es":"campagne propos\xe9e"]})]}),(0,Fn.jsx)(is,{onClick:o,disabled:a,className:"flex items-center space-x-2",children:a?(0,Fn.jsxs)(Fn.Fragment,{children:[(0,Fn.jsx)(As,{className:"w-4 h-4 animate-spin"}),(0,Fn.jsx)("span",{children:"G\xe9n\xe9ration..."})]}):(0,Fn.jsxs)(Fn.Fragment,{children:[(0,Fn.jsx)(na,{className:"w-4 h-4"}),(0,Fn.jsx)("span",{children:"G\xe9n\xe9rer de nouvelles campagnes"})]})})]}),r?(0,Fn.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,Fn.jsx)(As,{className:"w-8 h-8 animate-spin text-primary"})}):0===e.length?(0,Fn.jsx)(vs,{children:(0,Fn.jsxs)(ws,{className:"text-center py-20",children:[(0,Fn.jsx)(na,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),(0,Fn.jsx)("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-2",children:"Aucune campagne en attente"}),(0,Fn.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:'Clique sur "G\xe9n\xe9rer de nouvelles campagnes" pour que l\'IA analyse tes donn\xe9es et te propose des offres pertinentes.'}),(0,Fn.jsxs)(is,{onClick:o,disabled:a,children:[(0,Fn.jsx)(na,{className:"w-4 h-4 mr-2"}),"G\xe9n\xe9rer des campagnes"]})]})}):(0,Fn.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map(e=>{var t,r;return(0,Fn.jsxs)(vs,{className:"overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[(0,Fn.jsx)(js,{className:"bg-gradient-to-r from-primary/10 to-gold/10",children:(0,Fn.jsx)("div",{className:"flex items-start justify-between",children:(0,Fn.jsxs)("div",{className:"flex-1",children:[(0,Fn.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Fn.jsx)("span",{className:"text-2xl",children:d(e.type)}),(0,Fn.jsx)("span",{className:"text-xs font-bold px-3 py-1 rounded-full ".concat(u(e.type)),children:e.type.replace("_"," ").toUpperCase()})]}),(0,Fn.jsx)(Ns,{className:"text-xl",children:e.name})]})})}),(0,Fn.jsxs)(ws,{className:"space-y-4",children:[(0,Fn.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500 p-4 rounded",children:(0,Fn.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed whitespace-pre-wrap",children:e.message})}),(0,Fn.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,Fn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Fn.jsx)(aa,{className:"w-4 h-4 text-gray-500"}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"text-xs text-gray-500",children:"P\xe9riode"}),(0,Fn.jsxs)("p",{className:"font-semibold text-gray-800 dark:text-white",children:[new Date(e.start_date).toLocaleDateString("fr-FR")," - ",new Date(e.end_date).toLocaleDateString("fr-FR")]})]})]}),(0,Fn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Fn.jsx)(Ss,{className:"w-4 h-4 text-green-500"}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"text-xs text-gray-500",children:"Impact estim\xe9"}),(0,Fn.jsx)("p",{className:"font-semibold text-green-600",children:(null===(t=e.impact_estimate)||void 0===t?void 0:t.ca_increase)||"N/A"})]})]}),(0,Fn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Fn.jsx)(Vl,{className:"w-4 h-4 text-purple-500"}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"text-xs text-gray-500",children:"R\xe9duction"}),(0,Fn.jsx)("p",{className:"font-semibold text-gray-800 dark:text-white",children:"percentage"===e.discount_type?"".concat(e.discount_value,"%"):"".concat(e.discount_value,"\u20ac")})]})]}),(0,Fn.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Fn.jsx)(aa,{className:"w-4 h-4 text-orange-500"}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"text-xs text-gray-500",children:"Difficult\xe9"}),(0,Fn.jsx)("p",{className:"font-semibold text-gray-800 dark:text-white capitalize",children:(null===(r=e.impact_estimate)||void 0===r?void 0:r.difficulty)||"N/A"})]})]})]}),e.target_hours&&(0,Fn.jsx)("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-3 rounded text-sm",children:(0,Fn.jsxs)("p",{className:"font-semibold text-purple-800 dark:text-purple-200",children:["\u23f0 Horaires cibles : ",e.target_hours]})}),(0,Fn.jsxs)("div",{className:"flex space-x-3 pt-4 border-t dark:border-gray-700",children:[(0,Fn.jsxs)(is,{onClick:()=>c(e.id,!0),className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:[(0,Fn.jsx)(Ks,{className:"w-4 h-4 mr-2"}),"Oui, activer"]}),(0,Fn.jsxs)(is,{onClick:()=>c(e.id,!1),variant:"outline",className:"flex-1",children:[(0,Fn.jsx)(rl,{className:"w-4 h-4 mr-2"}),"Non"]})]})]})]},e.id)})})]})]})},Ql=$n("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),Jl="https://react-reborn.preview.emergentagent.com",Kl=()=>{const[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)(null),[a,l]=(0,s.useState)(!0),[i,o]=(0,s.useState)("all");(0,s.useEffect)(()=>{c()},[i]);const c=async()=>{l(!0);try{const e=localStorage.getItem("admin_token"),r="all"===i?null:i,a=await pn.get("".concat(Jl,"/api/v1/admin/ai-marketing/campaigns/all").concat(r?"?status=".concat(r):""),{headers:{Authorization:"Bearer ".concat(e)}}),s=await pn.get("".concat(Jl,"/api/v1/admin/ai-marketing/stats"),{headers:{Authorization:"Bearer ".concat(e)}});t(a.data.campaigns||[]),n(s.data)}catch(e){console.error("Erreur chargement donn\xe9es:",e)}finally{l(!1)}};return(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(_s,{title:"\ud83e\uddfe Historique & R\xe9sultats",subtitle:"Suivi des performances de toutes tes campagnes IA"}),(0,Fn.jsxs)("div",{className:"p-8",children:[r&&(0,Fn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,Fn.jsx)(vs,{children:(0,Fn.jsx)(ws,{className:"pt-6",children:(0,Fn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Campagnes totales"}),(0,Fn.jsx)("p",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:r.total_campaigns})]}),(0,Fn.jsx)(Ss,{className:"w-10 h-10 text-primary"})]})})}),(0,Fn.jsx)(vs,{children:(0,Fn.jsx)(ws,{className:"pt-6",children:(0,Fn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Accept\xe9es"}),(0,Fn.jsx)("p",{className:"text-3xl font-bold text-green-600",children:r.accepted}),(0,Fn.jsxs)("p",{className:"text-xs text-gray-500",children:["Taux: ",r.acceptance_rate,"%"]})]}),(0,Fn.jsx)(Ks,{className:"w-10 h-10 text-green-600"})]})})}),(0,Fn.jsx)(vs,{children:(0,Fn.jsx)(ws,{className:"pt-6",children:(0,Fn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"CA g\xe9n\xe9r\xe9"}),(0,Fn.jsxs)("p",{className:"text-3xl font-bold text-gold",children:[r.total_ca_generated,"\u20ac"]})]}),(0,Fn.jsx)(Yn,{className:"w-10 h-10 text-gold"})]})})}),(0,Fn.jsx)(vs,{children:(0,Fn.jsx)(ws,{className:"pt-6",children:(0,Fn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pts fid\xe9lit\xe9"}),(0,Fn.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:r.total_fidelity_points})]}),(0,Fn.jsx)(Ql,{className:"w-10 h-10 text-purple-600"})]})})})]}),(null===r||void 0===r?void 0:r.weekly_summary)&&(0,Fn.jsxs)(vs,{className:"mb-8 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border-2 border-blue-200 dark:border-blue-800",children:[(0,Fn.jsx)(js,{children:(0,Fn.jsxs)(Ns,{className:"flex items-center space-x-2",children:[(0,Fn.jsx)(ra,{className:"w-5 h-5 text-blue-600"}),(0,Fn.jsx)("span",{children:"\ud83d\udca1 R\xe9sum\xe9 IA de la semaine"})]})}),(0,Fn.jsx)(ws,{children:(0,Fn.jsx)("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed whitespace-pre-wrap",children:r.weekly_summary})})]}),(0,Fn.jsxs)("div",{className:"flex space-x-4 mb-6",children:[(0,Fn.jsx)("button",{onClick:()=>o("all"),className:"px-4 py-2 rounded-lg font-semibold transition-colors ".concat("all"===i?"bg-primary text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"),children:"Toutes"}),(0,Fn.jsx)("button",{onClick:()=>o("accepted"),className:"px-4 py-2 rounded-lg font-semibold transition-colors ".concat("accepted"===i?"bg-green-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"),children:"Activ\xe9es"}),(0,Fn.jsx)("button",{onClick:()=>o("refused"),className:"px-4 py-2 rounded-lg font-semibold transition-colors ".concat("refused"===i?"bg-red-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"),children:"Refus\xe9es"})]}),a?(0,Fn.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,Fn.jsx)(As,{className:"w-8 h-8 animate-spin text-primary"})}):(0,Fn.jsx)(vs,{children:(0,Fn.jsx)(ws,{className:"p-0",children:(0,Fn.jsx)("div",{className:"overflow-x-auto",children:(0,Fn.jsxs)("table",{className:"w-full",children:[(0,Fn.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-800 border-b dark:border-gray-700",children:(0,Fn.jsxs)("tr",{children:[(0,Fn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-600 dark:text-gray-300 uppercase",children:"Date"}),(0,Fn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-600 dark:text-gray-300 uppercase",children:"Nom"}),(0,Fn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-600 dark:text-gray-300 uppercase",children:"Type"}),(0,Fn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-600 dark:text-gray-300 uppercase",children:"Statut"}),(0,Fn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-600 dark:text-gray-300 uppercase",children:"R\xe9duction"}),(0,Fn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-600 dark:text-gray-300 uppercase",children:"Impact estim\xe9"})]})}),(0,Fn.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:0===e.length?(0,Fn.jsx)("tr",{children:(0,Fn.jsx)("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:"Aucune campagne trouv\xe9e"})}):e.map(e=>{var t,r,n;return(0,Fn.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[(0,Fn.jsx)("td",{className:"px-6 py-4 text-sm text-gray-800 dark:text-white",children:(n=e.created_at,new Date(n).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}))}),(0,Fn.jsxs)("td",{className:"px-6 py-4",children:[(0,Fn.jsx)("div",{className:"text-sm font-semibold text-gray-800 dark:text-white",children:e.name}),(0,Fn.jsx)("div",{className:"text-xs text-gray-500 line-clamp-1",children:e.message})]}),(0,Fn.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400 capitalize",children:e.type.replace("_"," ")}),(0,Fn.jsx)("td",{className:"px-6 py-4",children:(r=e.status,"accepted"===r?(0,Fn.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:[(0,Fn.jsx)(Ks,{className:"w-3 h-3 mr-1"}),"Activ\xe9e"]}):"refused"===r?(0,Fn.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:[(0,Fn.jsx)(rl,{className:"w-3 h-3 mr-1"}),"Refus\xe9e"]}):(0,Fn.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",children:"En attente"}))}),(0,Fn.jsx)("td",{className:"px-6 py-4 text-sm font-semibold text-gray-800 dark:text-white",children:"percentage"===e.discount_type?"".concat(e.discount_value,"%"):"".concat(e.discount_value,"\u20ac")}),(0,Fn.jsx)("td",{className:"px-6 py-4 text-sm font-semibold text-green-600",children:(null===(t=e.impact_estimate)||void 0===t?void 0:t.ca_increase)||"N/A"})]},e.id)})})]})})})})]})]})},Xl="https://react-reborn.preview.emergentagent.com",Yl=()=>{const[e,t]=(0,s.useState)({analysis_frequency:"daily",max_suggestions_per_week:5,max_promo_budget_percent:15,excluded_product_ids:[],excluded_category_ids:[],priority_objectives:["boost_ca","fideliser","reactiver","augmenter_panier"],allowed_offer_types:["bogo","percentage","fidelity","happy_hour","reactivation"]}),[r,n]=(0,s.useState)(!0),[a,l]=(0,s.useState)(!1);(0,s.useEffect)(()=>{i()},[]);const i=async()=>{try{const e=localStorage.getItem("admin_token"),r=await pn.get("".concat(Xl,"/api/v1/admin/ai-marketing/settings"),{headers:{Authorization:"Bearer ".concat(e)}});t(r.data)}catch(e){console.error("Erreur chargement param\xe8tres:",e)}finally{n(!1)}};if(r)return(0,Fn.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Fn.jsx)(As,{className:"w-8 h-8 animate-spin text-primary"})});return(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(_s,{title:"\u2699\ufe0f Param\xe8tres IA Marketing",subtitle:"Configure le comportement de ton assistant marketing IA"}),(0,Fn.jsx)("div",{className:"p-8 max-w-4xl",children:(0,Fn.jsxs)(vs,{children:[(0,Fn.jsx)(js,{children:(0,Fn.jsxs)(Ns,{className:"flex items-center space-x-2",children:[(0,Fn.jsx)(sa,{className:"w-5 h-5"}),(0,Fn.jsx)("span",{children:"Configuration de l'IA"})]})}),(0,Fn.jsxs)(ws,{className:"space-y-8",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{className:"text-base font-bold mb-3 block",children:"\ud83d\udcc6 Fr\xe9quence d'analyse"}),(0,Fn.jsxs)("div",{className:"flex space-x-4",children:[(0,Fn.jsx)("button",{onClick:()=>t(Gt(Gt({},e),{},{analysis_frequency:"daily"})),className:"flex-1 py-3 px-4 rounded-lg font-semibold transition-colors ".concat("daily"===e.analysis_frequency?"bg-primary text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"),children:"Quotidienne"}),(0,Fn.jsx)("button",{onClick:()=>t(Gt(Gt({},e),{},{analysis_frequency:"weekly"})),className:"flex-1 py-3 px-4 rounded-lg font-semibold transition-colors ".concat("weekly"===e.analysis_frequency?"bg-primary text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"),children:"Hebdomadaire"})]})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"max_suggestions",children:"\ud83e\uddee Nombre max de suggestions par semaine"}),(0,Fn.jsx)(ms,{id:"max_suggestions",type:"number",min:"1",max:"10",value:e.max_suggestions_per_week,onChange:r=>t(Gt(Gt({},e),{},{max_suggestions_per_week:parseInt(r.target.value)})),className:"mt-2"}),(0,Fn.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["L'IA g\xe9n\xe9rera entre 3 et ",e.max_suggestions_per_week," campagnes par semaine"]})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"budget",children:"\ud83d\udcb0 Budget promo max conseill\xe9 (%)"}),(0,Fn.jsx)(ms,{id:"budget",type:"number",min:"5",max:"50",step:"0.5",value:e.max_promo_budget_percent,onChange:r=>t(Gt(Gt({},e),{},{max_promo_budget_percent:parseFloat(r.target.value)})),className:"mt-2"}),(0,Fn.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["L'IA \xe9vitera de proposer des r\xe9ductions sup\xe9rieures \xe0 ",e.max_promo_budget_percent,"%"]})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{className:"text-base font-bold mb-3 block",children:"\ud83d\udcca Objectifs prioritaires"}),(0,Fn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"S\xe9lectionne les objectifs que l'IA doit prioriser dans ses propositions"}),(0,Fn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[{id:"boost_ca",label:"\ud83d\udcb0 Booster CA",icon:"\ud83d\udcb0"},{id:"fideliser",label:"\u2b50 Fid\xe9liser clients",icon:"\u2b50"},{id:"reactiver",label:"\ud83d\udd04 R\xe9activer inactifs",icon:"\ud83d\udd04"},{id:"augmenter_panier",label:"\ud83d\uded2 Augmenter panier moyen",icon:"\ud83d\uded2"}].map(r=>(0,Fn.jsxs)("button",{onClick:()=>(r=>{const n=e.priority_objectives.includes(r)?e.priority_objectives.filter(e=>e!==r):[...e.priority_objectives,r];t(Gt(Gt({},e),{},{priority_objectives:n}))})(r.id),className:"flex items-center space-x-3 p-4 rounded-lg border-2 transition-all ".concat(e.priority_objectives.includes(r.id)?"border-primary bg-primary/10 text-primary":"border-gray-300 dark:border-gray-600 hover:border-primary/50"),children:[(0,Fn.jsx)("span",{className:"text-2xl",children:r.icon}),(0,Fn.jsx)("span",{className:"font-semibold",children:r.label.split(" ").slice(1).join(" ")}),e.priority_objectives.includes(r.id)&&(0,Fn.jsx)("span",{className:"ml-auto",children:"\u2713"})]},r.id))})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{className:"text-base font-bold mb-3 block",children:"\ud83c\udf81 Types d'offres autoris\xe9es"}),(0,Fn.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Choisis quels types de promotions l'IA peut proposer"}),(0,Fn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[{id:"bogo",label:"BOGO (Buy One Get One)",icon:"\ud83c\udf81"},{id:"percentage",label:"R\xe9duction en %",icon:"\ud83d\udcb8"},{id:"fixed",label:"R\xe9duction fixe (\u20ac)",icon:"\ud83d\udcb6"},{id:"fidelity",label:"Multiplicateur fid\xe9lit\xe9 (x2, x3)",icon:"\u2b50"},{id:"happy_hour",label:"Happy Hour",icon:"\u23f0"},{id:"reactivation",label:"R\xe9activation clients",icon:"\ud83d\udd04"}].map(r=>(0,Fn.jsxs)("button",{onClick:()=>(r=>{const n=e.allowed_offer_types.includes(r)?e.allowed_offer_types.filter(e=>e!==r):[...e.allowed_offer_types,r];t(Gt(Gt({},e),{},{allowed_offer_types:n}))})(r.id),className:"flex items-center space-x-3 p-4 rounded-lg border-2 transition-all ".concat(e.allowed_offer_types.includes(r.id)?"border-green-500 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300":"border-gray-300 dark:border-gray-600 hover:border-green-500/50"),children:[(0,Fn.jsx)("span",{className:"text-2xl",children:r.icon}),(0,Fn.jsx)("span",{className:"font-semibold text-sm",children:r.label}),e.allowed_offer_types.includes(r.id)&&(0,Fn.jsx)("span",{className:"ml-auto text-green-600",children:"\u2713"})]},r.id))})]}),(0,Fn.jsx)("div",{className:"pt-6 border-t dark:border-gray-700",children:(0,Fn.jsx)(is,{onClick:async()=>{l(!0);try{const t=localStorage.getItem("admin_token");await pn.put("".concat(Xl,"/api/v1/admin/ai-marketing/settings"),e,{headers:{Authorization:"Bearer ".concat(t)}}),alert("\u2705 Param\xe8tres sauvegard\xe9s !")}catch(t){console.error("Erreur sauvegarde:",t),alert("\u274c Erreur lors de la sauvegarde")}finally{l(!1)}},disabled:a,className:"w-full md:w-auto",children:a?(0,Fn.jsxs)(Fn.Fragment,{children:[(0,Fn.jsx)(As,{className:"w-4 h-4 mr-2 animate-spin"}),"Sauvegarde..."]}):(0,Fn.jsxs)(Fn.Fragment,{children:[(0,Fn.jsx)(yl,{className:"w-4 h-4 mr-2"}),"Sauvegarder les param\xe8tres"]})})})]})]})})]})},Zl=e=>{let{isOpen:t,onClose:r,option:n,onSuccess:a}=e;const[l,i]=(0,s.useState)({name:"",description:"",internal_comment:"",type:"single",is_required:!1,allow_repeat:!1,max_choices:"",choices:[{name:"",price:0,image_url:"",internal_comment:""}]}),[o,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)([]),[m,p]=(0,s.useState)(!1),[h,x]=(0,s.useState)(""),[f,g]=(0,s.useState)([]),[y,b]=(0,s.useState)({}),[v,j]=(0,s.useState)(null),N="https://react-reborn.preview.emergentagent.com";(0,s.useEffect)(()=>{t&&k()},[t]);const w=function(e){j({message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout(()=>j(null),3e3)},k=async()=>{try{const e=await fetch("".concat(N,"/api/v1/admin/choice-library")),t=await e.json();u(t.choices||[])}catch(e){console.error("Error loading choice library:",e)}},_=async e=>{try{if(d.find(t=>t.name.toLowerCase().trim()===e.name.toLowerCase().trim()))return;(await fetch("".concat(N,"/api/v1/admin/choice-library"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,default_price:e.price,image_url:e.image_url||null,description:null})})).ok&&(await k(),w('"'.concat(e.name,'" ajout\xe9 \xe0 la biblioth\xe8que'),"info"))}catch(t){console.error("Error adding to library:",t)}};(0,s.useEffect)(()=>{var e;n?i({name:n.name||"",description:n.description||"",internal_comment:n.internal_comment||"",type:n.type||"single",is_required:n.is_required||!1,allow_repeat:n.allow_repeat||!1,max_choices:n.max_choices||"",choices:(null===(e=n.choices)||void 0===e?void 0:e.length)>0?n.choices:[{name:"",price:0,image_url:"",internal_comment:""}]}):i({name:"",description:"",internal_comment:"",type:"single",is_required:!1,allow_repeat:!1,max_choices:"",choices:[{name:"",price:0,image_url:"",internal_comment:""}]})},[n,t]);const C=(e,t,r)=>{const n=[...l.choices];n[e]=Gt(Gt({},n[e]),{},{[t]:"price"===t?parseFloat(r)||0:r}),i(Gt(Gt({},l),{},{choices:n}))},S=d.filter(e=>{if(!h.trim())return!0;const t=h.toLowerCase();return e.name.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t)||e.default_price.toString().includes(t)});return(0,Fn.jsxs)(zs,{isOpen:t,onClose:r,size:"large",children:[v&&(0,Fn.jsx)("div",{className:"fixed top-4 right-4 z-[60] px-4 py-2 rounded-lg shadow-lg text-white text-sm ".concat("success"===v.type?"bg-green-500":"error"===v.type?"bg-red-500":"bg-blue-500"),children:v.message}),(0,Fn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Fn.jsx)("h2",{className:"text-2xl font-bold",children:n?"Modifier l'option":"Cr\xe9er une option"}),(0,Fn.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:(0,Fn.jsx)(Ts,{className:"w-6 h-6"})})]}),(0,Fn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0);try{const e=Gt(Gt({},l),{},{max_choices:l.max_choices?parseInt(l.max_choices):null,choices:l.choices.filter(e=>""!==e.name.trim())}),t=n?"".concat(N,"/api/v1/admin/options/").concat(n.id):"".concat(N,"/api/v1/admin/options"),s=n?"PUT":"POST",i=await fetch(t,{method:s,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!i.ok){const e=await i.json();throw new Error(e.detail||"Failed to save option")}for(const r of e.choices)await _(r);null===a||void 0===a||a(),r()}catch(t){console.error("Error saving option:",t),alert("Erreur: ".concat(t.message))}finally{c(!1)}},className:"space-y-4",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Nom de l'option *"}),(0,Fn.jsx)("input",{type:"text",value:l.name,onChange:e=>i(Gt(Gt({},l),{},{name:e.target.value})),className:"w-full px-4 py-2 border rounded-lg",placeholder:"Ex: Choix de sauce, Cuisson...",required:!0})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Description (optionnel)"}),(0,Fn.jsx)("textarea",{value:l.description,onChange:e=>i(Gt(Gt({},l),{},{description:e.target.value})),className:"w-full px-4 py-2 border rounded-lg",rows:"2",placeholder:"Description de l'option..."})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Commentaire interne (non visible par le client)"}),(0,Fn.jsx)("textarea",{value:l.internal_comment,onChange:e=>i(Gt(Gt({},l),{},{internal_comment:e.target.value})),className:"w-full px-4 py-2 border rounded-lg bg-yellow-50",rows:"2",placeholder:"Notes internes, instructions pour le personnel..."}),(0,Fn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\u2139\ufe0f Ce commentaire est uniquement visible dans le back office, pas dans l'application client"})]}),(0,Fn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Type de s\xe9lection *"}),(0,Fn.jsxs)("select",{value:l.type,onChange:e=>i(Gt(Gt({},l),{},{type:e.target.value})),className:"w-full px-4 py-2 border rounded-lg",children:[(0,Fn.jsx)("option",{value:"single",children:"Choix unique"}),(0,Fn.jsx)("option",{value:"multiple",children:"Choix multiples"})]})]}),"multiple"===l.type&&(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Maximum de choix"}),(0,Fn.jsx)("input",{type:"number",min:"1",value:l.max_choices,onChange:e=>i(Gt(Gt({},l),{},{max_choices:e.target.value})),className:"w-full px-4 py-2 border rounded-lg",placeholder:"Illimit\xe9 si vide"})]})]}),(0,Fn.jsxs)("div",{className:"flex items-center",children:[(0,Fn.jsx)("input",{type:"checkbox",id:"is_required",checked:l.is_required,onChange:e=>i(Gt(Gt({},l),{},{is_required:e.target.checked})),className:"mr-2"}),(0,Fn.jsx)("label",{htmlFor:"is_required",className:"text-sm font-medium",children:"Option obligatoire (le client doit faire un choix)"})]}),"multiple"===l.type&&(0,Fn.jsxs)("div",{className:"flex items-center bg-blue-50 p-3 rounded-lg",children:[(0,Fn.jsx)("input",{type:"checkbox",id:"allow_repeat",checked:l.allow_repeat,onChange:e=>i(Gt(Gt({},l),{},{allow_repeat:e.target.checked})),className:"mr-2"}),(0,Fn.jsx)("label",{htmlFor:"allow_repeat",className:"text-sm font-medium",children:"Permettre de prendre le m\xeame choix plusieurs fois (ex: Chantilly \xd72)"})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-3",children:"Choix disponibles *"}),(0,Fn.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto mb-3",children:l.choices.map((e,t)=>(0,Fn.jsxs)("div",{className:"border rounded-lg p-3 bg-gray-50",children:[(0,Fn.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Fn.jsx)("input",{type:"text",value:e.name,onChange:e=>C(t,"name",e.target.value),className:"flex-1 px-3 py-2 border rounded-lg",placeholder:"Nom du choix",required:!0}),(0,Fn.jsx)("input",{type:"number",step:"0.01",min:"0",value:e.price,onChange:e=>C(t,"price",e.target.value),className:"w-24 px-3 py-2 border rounded-lg",placeholder:"Prix"}),l.choices.length>1&&(0,Fn.jsx)(is,{type:"button",variant:"danger",size:"sm",onClick:()=>(e=>{l.choices.length>1&&i(Gt(Gt({},l),{},{choices:l.choices.filter((t,r)=>r!==e)}))})(t),children:(0,Fn.jsx)($s,{className:"w-4 h-4"})})]}),(0,Fn.jsx)("div",{className:"mt-2",children:e.image_url?(0,Fn.jsxs)("div",{className:"relative inline-block",children:[(0,Fn.jsx)("img",{src:e.image_url.startsWith("/")?"".concat(N).concat(e.image_url):e.image_url,alt:e.name,className:"w-32 h-32 object-cover rounded border"}),(0,Fn.jsx)("button",{type:"button",onClick:()=>(e=>{C(e,"image_url","")})(t),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:(0,Fn.jsx)(Ts,{className:"w-4 h-4"})})]}):(0,Fn.jsxs)("label",{className:"flex items-center justify-center w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-primary hover:bg-gray-50 transition-colors",children:[(0,Fn.jsx)("input",{type:"file",accept:"image/*",onChange:e=>(async(e,t)=>{if(t)if(t.size>5242880)alert("L'image est trop grande. Maximum 5 MB.");else if(t.type.startsWith("image/")){b(t=>Gt(Gt({},t),{},{[e]:!0}));try{const r=new FormData;r.append("file",t);const n=await fetch("".concat(N,"/api/v1/admin/upload/image"),{method:"POST",body:r});if(!n.ok)throw new Error("Upload failed");const a=await n.json();C(e,"image_url",a.url),w("Image upload\xe9e avec succ\xe8s","success")}catch(r){console.error("Error uploading image:",r),alert("Erreur lors de l'upload de l'image")}finally{b(t=>Gt(Gt({},t),{},{[e]:!1}))}}else alert("Le fichier doit \xeatre une image.")})(t,e.target.files[0]),className:"hidden",disabled:y[t]}),y[t]?(0,Fn.jsx)("span",{className:"text-sm text-gray-500",children:"Upload en cours..."}):(0,Fn.jsxs)(Fn.Fragment,{children:[(0,Fn.jsx)(Fs,{className:"w-4 h-4 mr-2 text-gray-400"}),(0,Fn.jsx)("span",{className:"text-sm text-gray-600",children:"\ud83d\udce4 T\xe9l\xe9charger une image (max 5MB)"})]})]})}),(0,Fn.jsx)("textarea",{value:e.internal_comment||"",onChange:e=>C(t,"internal_comment",e.target.value),className:"w-full px-3 py-2 border rounded-lg resize-none mt-2",placeholder:"\ud83d\udcac Commentaire interne (non visible par le client)",rows:"2"})]},t))}),(0,Fn.jsxs)("div",{className:"flex gap-2",children:[(0,Fn.jsxs)(is,{type:"button",variant:"outline",onClick:()=>{i(Gt(Gt({},l),{},{choices:[...l.choices,{name:"",price:0,image_url:"",internal_comment:""}]}))},size:"sm",children:[(0,Fn.jsx)(Bs,{className:"w-4 h-4 mr-1"}),"Ajouter un choix"]}),d.length>0&&(0,Fn.jsxs)(is,{type:"button",variant:"outline",onClick:()=>p(!0),size:"sm",children:["\ud83d\udcda Piocher dans la biblioth\xe8que (",d.length,")"]})]})]}),m&&(0,Fn.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Fn.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[80vh] flex flex-col",children:[(0,Fn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("h3",{className:"text-lg font-bold",children:"\ud83d\udcda Choisir depuis la biblioth\xe8que"}),f.length>0&&(0,Fn.jsxs)("p",{className:"text-sm text-primary font-semibold mt-1",children:[f.length," choix s\xe9lectionn\xe9",f.length>1?"s":""]})]}),(0,Fn.jsx)("button",{onClick:()=>{p(!1),x(""),g([])},className:"text-gray-400 hover:text-gray-600",children:(0,Fn.jsx)(Ts,{className:"w-5 h-5"})})]}),(0,Fn.jsx)("div",{className:"mb-3",children:(0,Fn.jsx)("input",{type:"text",placeholder:"\ud83d\udd0d Rechercher un choix...",value:h,onChange:e=>x(e.target.value),className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-primary focus:outline-none"})}),(0,Fn.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,Fn.jsx)("button",{type:"button",onClick:()=>{const e=d.filter(e=>{if(!h.trim())return!0;const t=h.toLowerCase();return e.name.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t)||e.default_price.toString().includes(t)});g(e)},className:"text-xs px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded",children:"Tout s\xe9lectionner"}),(0,Fn.jsx)("button",{type:"button",onClick:()=>{g([])},className:"text-xs px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded",children:"Tout d\xe9s\xe9lectionner"})]}),(0,Fn.jsx)("div",{className:"grid grid-cols-2 gap-3 overflow-y-auto flex-1 mb-3",children:S.map(e=>{const t=f.find(t=>t.id===e.id);return(0,Fn.jsxs)("div",{onClick:()=>(e=>{g(t=>t.find(t=>t.id===e.id)?t.filter(t=>t.id!==e.id):[...t,e])})(e),className:"border-2 rounded-lg p-3 cursor-pointer transition-all relative ".concat(t?"border-primary bg-primary/10":"border-gray-200 hover:border-primary hover:bg-primary/5"),children:[(0,Fn.jsx)("div",{className:"absolute top-2 right-2",children:(0,Fn.jsx)("input",{type:"checkbox",checked:!!t,onChange:()=>{},className:"w-5 h-5 cursor-pointer"})}),e.image_url&&(0,Fn.jsx)("img",{src:e.image_url.startsWith("/")?"".concat(N).concat(e.image_url):e.image_url,alt:e.name,className:"w-full h-24 object-cover rounded mb-2"}),(0,Fn.jsx)("h4",{className:"font-bold pr-6",children:e.name}),(0,Fn.jsxs)("p",{className:"text-sm text-primary font-bold",children:[e.default_price.toFixed(2),"\u20ac"]}),e.description&&(0,Fn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.description})]},e.id)})}),0===S.length&&(0,Fn.jsxs)("p",{className:"text-center text-gray-400 py-8",children:['Aucun r\xe9sultat pour "',h,'"']}),f.length>0&&(0,Fn.jsx)("div",{className:"pt-3 border-t",children:(0,Fn.jsxs)(is,{type:"button",onClick:()=>{const e=f.map(e=>({name:e.name,price:e.default_price,image_url:e.image_url||"",internal_comment:""}));i(Gt(Gt({},l),{},{choices:[...l.choices,...e]})),p(!1),x(""),g([]),w("".concat(e.length," choix ajout\xe9").concat(e.length>1?"s":""),"success")},className:"w-full",children:["\u2705 Ajouter ",f.length," choix s\xe9lectionn\xe9",f.length>1?"s":""]})})]})}),(0,Fn.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Fn.jsx)(is,{type:"button",variant:"outline",onClick:r,className:"flex-1",children:"Annuler"}),(0,Fn.jsx)(is,{type:"submit",disabled:o,className:"flex-1",children:o?"Enregistrement...":n?"Modifier":"Cr\xe9er"})]})]})]})},ei=$n("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),ti="https://react-reborn.preview.emergentagent.com",ri=()=>{const[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)(!1),[a,l]=(0,s.useState)(null);(0,s.useEffect)(()=>{i()},[]);const i=async()=>{try{const e=await pn.get("".concat(ti,"/api/v1/admin/options"));t(e.data.options||[])}catch(e){console.error("Erreur chargement options:",e)}},o=function(){l(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null),n(!0)};return(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(_s,{title:"\ud83c\udf9b\ufe0f Gestion des Options",subtitle:"Cr\xe9ez des options r\xe9utilisables pour vos produits"}),(0,Fn.jsxs)("div",{className:"p-8",children:[(0,Fn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Fn.jsxs)("h2",{className:"text-2xl font-bold",children:["Options disponibles (",e.length,")"]}),(0,Fn.jsxs)(is,{onClick:()=>o(),className:"flex items-center space-x-2",children:[(0,Fn.jsx)(Bs,{className:"w-5 h-5"}),(0,Fn.jsx)("span",{children:"Nouvelle option"})]})]}),0===e.length?(0,Fn.jsx)(vs,{children:(0,Fn.jsxs)(ws,{className:"text-center py-20",children:[(0,Fn.jsx)(Bs,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),(0,Fn.jsx)("h3",{className:"text-xl font-bold text-gray-600 mb-2",children:"Aucune option"}),(0,Fn.jsx)("p",{className:"text-gray-500 mb-4",children:"Cr\xe9ez des options (taille, sauce, accompagnement...) pour enrichir vos produits"}),(0,Fn.jsxs)(is,{onClick:()=>o(),children:[(0,Fn.jsx)(Bs,{className:"w-4 h-4 mr-2"}),"Cr\xe9er ma premi\xe8re option"]})]})}):(0,Fn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>{var t,r;return(0,Fn.jsxs)(vs,{className:"hover:shadow-xl transition-shadow",children:[(0,Fn.jsx)(js,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:(0,Fn.jsxs)(Ns,{className:"flex items-center justify-between",children:[(0,Fn.jsx)("span",{className:"text-lg font-bold",children:e.name}),(0,Fn.jsxs)("div",{className:"flex space-x-1",children:[(0,Fn.jsx)("button",{onClick:()=>o(e),className:"p-2 hover:bg-white rounded-lg transition-colors",title:"Modifier",children:(0,Fn.jsx)(ei,{className:"w-4 h-4 text-blue-600"})}),(0,Fn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Dupliquer l'option \"".concat(e.name,'" ?')))try{const t=Gt(Gt({},e),{},{name:"".concat(e.name," (copie)")});delete t.id,await pn.post("".concat(ti,"/api/v1/admin/options"),t),await i(),alert("\u2705 Option dupliqu\xe9e avec succ\xe8s !")}catch(t){console.error("Erreur duplication:",t),alert("Erreur lors de la duplication")}})(e),className:"p-2 hover:bg-white rounded-lg transition-colors",title:"Dupliquer",children:(0,Fn.jsx)(Ws,{className:"w-4 h-4 text-green-600"})}),(0,Fn.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Supprimer cette option ?"))try{await pn.delete("".concat(ti,"/api/v1/admin/options/").concat(e)),await i(),alert("\u2705 Option supprim\xe9e!")}catch(t){console.error("Erreur suppression:",t),alert("Erreur lors de la suppression")}})(e.id),className:"p-2 hover:bg-white rounded-lg transition-colors",title:"Supprimer",children:(0,Fn.jsx)($s,{className:"w-4 h-4 text-red-600"})})]})]})}),(0,Fn.jsxs)(ws,{className:"space-y-3",children:[e.description&&(0,Fn.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),e.internal_comment&&(0,Fn.jsxs)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-3 rounded",children:[(0,Fn.jsx)("p",{className:"text-xs font-semibold text-yellow-800 mb-1",children:"\ud83d\udcdd Commentaire interne"}),(0,Fn.jsx)("p",{className:"text-sm text-yellow-700",children:e.internal_comment})]}),(0,Fn.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,Fn.jsx)("span",{className:"px-3 py-1 rounded-full font-bold ".concat("single"===e.type?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:"single"===e.type?"\ud83d\udccc Choix unique":"\u2611\ufe0f Choix multiple"}),e.is_required&&(0,Fn.jsx)("span",{className:"px-3 py-1 rounded-full bg-red-100 text-red-800 font-bold text-xs",children:"\u26a0\ufe0f Obligatoire"})]}),"multiple"===e.type&&e.max_choices&&(0,Fn.jsxs)("p",{className:"text-sm text-gray-600",children:["Max: ",e.max_choices," choix"]}),e.price>0&&(0,Fn.jsxs)("p",{className:"text-sm font-bold text-green-600",children:["Prix base: +",e.price,"\u20ac"]}),(0,Fn.jsxs)("div",{className:"border-t pt-3 mt-3",children:[(0,Fn.jsxs)("p",{className:"text-xs font-bold text-gray-500 mb-2",children:["CHOIX (",(null===(t=e.choices)||void 0===t?void 0:t.length)||0,"):"]}),(0,Fn.jsx)("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:null===(r=e.choices)||void 0===r?void 0:r.map(e=>(0,Fn.jsxs)("div",{className:"flex justify-between items-center text-sm bg-gray-50 p-2 rounded",children:[(0,Fn.jsx)("span",{children:e.name}),e.price>0&&(0,Fn.jsxs)("span",{className:"font-bold text-green-600",children:["+",e.price,"\u20ac"]})]},e.id))})]})]})]},e.id)})})]}),(0,Fn.jsx)(Zl,{isOpen:r,onClose:()=>{n(!1),l(null)},option:a,onSuccess:i})]})},ni=$n("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),ai="https://react-reborn.preview.emergentagent.com",si=e=>{let{product:t,isOpen:r,onClose:n,onSave:a}=e;const[l,i]=(0,s.useState)((null===t||void 0===t?void 0:t.image_url)||""),[o,c]=(0,s.useState)((null===t||void 0===t?void 0:t.badge)||""),[d,u]=(0,s.useState)(!1),[m,p]=(0,s.useState)(null);(0,s.useEffect)(()=>{t&&(i(t.image_url||""),c(t.badge||""))},[t]);return r?(0,Fn.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:(0,Fn.jsxs)(vs,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,Fn.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[(0,Fn.jsxs)("h2",{className:"text-xl font-bold",children:["Image & Badge - ",null===t||void 0===t?void 0:t.name]}),(0,Fn.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700",children:(0,Fn.jsx)(Ts,{className:"w-6 h-6"})})]}),(0,Fn.jsxs)(ws,{className:"p-6 space-y-6",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Fn.jsx)(ni,{className:"w-4 h-4 inline mr-2"}),"Image du produit"]}),(0,Fn.jsx)("div",{className:"mb-4",children:l?(0,Fn.jsxs)("div",{className:"relative w-full h-48 bg-gray-100 rounded-lg overflow-hidden",children:[(0,Fn.jsx)("img",{src:l,alt:"Preview",className:"w-full h-full object-cover"}),(0,Fn.jsx)("button",{onClick:()=>i(""),className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600",children:(0,Fn.jsx)(Ts,{className:"w-4 h-4"})})]}):(0,Fn.jsx)("div",{className:"w-full h-48 bg-gray-100 rounded-lg flex items-center justify-center",children:(0,Fn.jsx)(ni,{className:"w-12 h-12 text-gray-400"})})}),(0,Fn.jsx)("input",{type:"text",value:l,onChange:e=>i(e.target.value),placeholder:"https://example.com/image.jpg",className:"w-full px-4 py-2 border border-gray-300 rounded-lg mb-3"}),(0,Fn.jsxs)("div",{className:"relative",children:[(0,Fn.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t)if(t.type.startsWith("image/"))if(t.size>5242880)alert("L'image est trop volumineuse (max 5MB)");else{u(!0),p(t);try{const e=new FormData;e.append("file",t);const r=await pn.post("".concat(ai,"/api/v1/admin/upload/image"),e,{headers:{"Content-Type":"multipart/form-data"}});r.data.url&&i(r.data.url)}catch(r){console.error("Erreur upload:",r),alert("Erreur lors de l'upload de l'image")}finally{u(!1)}}else alert("Veuillez s\xe9lectionner une image")},className:"hidden",id:"image-upload"}),(0,Fn.jsxs)("label",{htmlFor:"image-upload",className:"flex items-center justify-center gap-2 w-full px-4 py-3 bg-blue-50 border-2 border-blue-200 border-dashed rounded-lg cursor-pointer hover:bg-blue-100 transition-colors",children:[(0,Fn.jsx)(Fs,{className:"w-5 h-5 text-blue-600"}),(0,Fn.jsx)("span",{className:"font-medium text-blue-600",children:d?"Upload en cours...":"Uploader une image"})]})]}),(0,Fn.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Formats accept\xe9s : JPG, PNG, WebP (max 5MB)"})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[(0,Fn.jsx)(Kn,{className:"w-4 h-4 inline mr-2"}),"Badge du produit"]}),(0,Fn.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[{value:"",label:"Aucun badge",color:"bg-gray-200"},{value:"bestseller",label:"\u2b50 Best Seller",color:"bg-yellow-400"},{value:"nouveau",label:"\u2728 Nouveau",color:"bg-blue-500"},{value:"promo",label:"\ud83d\udd25 Promo",color:"bg-red-500"},{value:"cashback_booste",label:"\u26a1 Cashback x2",color:"bg-gradient-to-r from-amber-500 to-yellow-500"}].map(e=>(0,Fn.jsxs)("button",{onClick:()=>c(e.value),className:"p-3 rounded-lg border-2 transition-all ".concat(o===e.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[(0,Fn.jsx)("div",{className:"".concat(e.color," text-white px-3 py-1 rounded-full text-sm font-bold mb-2"),children:e.label}),(0,Fn.jsx)("p",{className:"text-xs text-gray-600",children:e.value||"Aucun"})]},e.value))})]}),(0,Fn.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Fn.jsx)(is,{variant:"secondary",onClick:n,className:"flex-1",children:"Annuler"}),(0,Fn.jsx)(is,{onClick:async()=>{try{await pn.put("".concat(ai,"/api/v1/admin/products/").concat(t.id),{image_url:l,badge:o||null}),a(Gt(Gt({},t),{},{image_url:l,badge:o||null})),n()}catch(e){console.error("Erreur sauvegarde:",e),alert("Erreur lors de la sauvegarde")}},className:"flex-1",disabled:d,children:"Enregistrer"})]})]})]})}):null},li=$n("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),ii=$n("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),oi=$n("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),ci=$n("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),di="https://react-reborn.preview.emergentagent.com",ui=e=>{const t=e.image_url||e.image;return t?t.startsWith("http")?t:t.startsWith("/")?"".concat(di).concat(t):"".concat(di,"/").concat(t):null},mi=e=>{let{products:t,categories:r,onEdit:n,onDelete:a,onDuplicate:s,onStockClick:l}=e;const i=e=>{const t=r.find(t=>t.id===e);return(null===t||void 0===t?void 0:t.name)||"Sans cat\xe9gorie"},o=e=>e.is_out_of_stock?"2h"===e.stock_status?(0,Fn.jsx)("span",{className:"px-2 py-1 bg-orange-100 text-orange-700 text-xs rounded-full font-medium",children:"\u23f1 Rupture 2h"}):"today"===e.stock_status?(0,Fn.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs rounded-full font-medium",children:"\ud83d\udcc5 Rupture journ\xe9e"}):(0,Fn.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full font-medium",children:"\u26d4 Indisponible"}):(0,Fn.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full font-medium",children:"\u2713 Disponible"});return(0,Fn.jsx)("div",{className:"overflow-x-auto bg-white rounded-lg shadow",children:(0,Fn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Fn.jsx)("thead",{className:"bg-gray-50",children:(0,Fn.jsxs)("tr",{children:[(0,Fn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Image"}),(0,Fn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),(0,Fn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cat\xe9gorie"}),(0,Fn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prix"}),(0,Fn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),(0,Fn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Promo"}),(0,Fn.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Fn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,Fn.jsxs)("tr",{onClick:()=>n(e),className:"hover:bg-blue-50 cursor-pointer transition-colors",children:[(0,Fn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:ui(e)?(0,Fn.jsx)("img",{src:ui(e),alt:e.name,className:"h-12 w-12 rounded-lg object-cover"}):(0,Fn.jsx)("div",{className:"h-12 w-12 bg-gray-200 rounded-lg flex items-center justify-center",children:(0,Fn.jsx)(Vs,{className:"w-6 h-6 text-gray-400"})})}),(0,Fn.jsxs)("td",{className:"px-6 py-4",children:[(0,Fn.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),e.description&&(0,Fn.jsx)("div",{className:"text-xs text-gray-500 truncate max-w-xs",children:e.description})]}),(0,Fn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fn.jsx)("span",{className:"text-sm text-gray-700",children:i(e.category)})}),(0,Fn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fn.jsxs)("span",{className:"text-sm font-semibold text-gray-900",children:[(e.price||e.base_price||e.basePrice||0).toFixed(2),"\u20ac"]})}),(0,Fn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fn.jsx)("button",{onClick:()=>l(e.id),className:"focus:outline-none",children:o(e)})}),(0,Fn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.isPromo?(0,Fn.jsx)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-xs rounded-full font-medium",children:"\ud83c\udff7 Promo"}):(0,Fn.jsx)("span",{className:"text-xs text-gray-400",children:"-"})}),(0,Fn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",onClick:e=>e.stopPropagation(),children:(0,Fn.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,Fn.jsx)(is,{size:"sm",variant:"outline",onClick:()=>n(e),children:(0,Fn.jsx)(Hs,{className:"w-4 h-4"})}),(0,Fn.jsx)(is,{size:"sm",variant:"outline",onClick:()=>s(e),children:(0,Fn.jsx)(Ws,{className:"w-4 h-4"})}),(0,Fn.jsx)(is,{size:"sm",variant:"outline",onClick:()=>a(e.id),className:"text-red-600 border-red-300 hover:bg-red-50",children:(0,Fn.jsx)($s,{className:"w-4 h-4"})})]})})]},e.id))})]})})},pi="https://react-reborn.preview.emergentagent.com",hi=e=>{const t=e.image_url||e.image;return t?t.startsWith("http")?t:t.startsWith("/")?"".concat(pi).concat(t):"".concat(pi,"/").concat(t):null},xi=e=>{let{categories:t,products:r,onEdit:n,onDelete:a,onReorder:s,onDuplicate:l}=e;return(0,Fn.jsx)("div",{className:"overflow-x-auto bg-white rounded-lg shadow",children:(0,Fn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Fn.jsx)("thead",{className:"bg-gray-50",children:(0,Fn.jsxs)("tr",{children:[(0,Fn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Image"}),(0,Fn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ordre"}),(0,Fn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),(0,Fn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),(0,Fn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produits"}),(0,Fn.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Fn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((e,i)=>{return(0,Fn.jsxs)("tr",{onClick:()=>n(e),className:"hover:bg-blue-50 cursor-pointer transition-colors",children:[(0,Fn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:hi(e)?(0,Fn.jsx)("img",{src:hi(e),alt:e.name,className:"h-12 w-12 rounded-lg object-cover"}):(0,Fn.jsx)("div",{className:"h-12 w-12 bg-gray-200 rounded-lg flex items-center justify-center",children:(0,Fn.jsx)(Vs,{className:"w-6 h-6 text-gray-400"})})}),(0,Fn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",onClick:e=>e.stopPropagation(),children:(0,Fn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Fn.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["#",e.order||i+1]}),(0,Fn.jsxs)("div",{className:"flex flex-col gap-1",children:[i>0&&(0,Fn.jsx)("button",{onClick:()=>s(e.id,"up"),className:"p-1 hover:bg-gray-100 rounded",children:(0,Fn.jsx)(oi,{className:"w-3 h-3 text-gray-600"})}),i<t.length-1&&(0,Fn.jsx)("button",{onClick:()=>s(e.id,"down"),className:"p-1 hover:bg-gray-100 rounded",children:(0,Fn.jsx)(ci,{className:"w-3 h-3 text-gray-600"})})]})]})}),(0,Fn.jsx)("td",{className:"px-6 py-4",children:(0,Fn.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,Fn.jsx)("td",{className:"px-6 py-4",children:(0,Fn.jsx)("div",{className:"text-sm text-gray-500 max-w-md truncate",children:e.description||"-"})}),(0,Fn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fn.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[(0,Fn.jsx)(Vs,{className:"w-3 h-3 mr-1"}),(o=e.id,r.filter(e=>e.category===o).length)," produit(s)"]})}),(0,Fn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",onClick:e=>e.stopPropagation(),children:(0,Fn.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,Fn.jsx)(is,{size:"sm",variant:"outline",onClick:()=>n(e),children:(0,Fn.jsx)(Hs,{className:"w-4 h-4"})}),(0,Fn.jsx)(is,{size:"sm",variant:"outline",onClick:()=>l(e),children:(0,Fn.jsx)(Ws,{className:"w-4 h-4"})}),(0,Fn.jsx)(is,{size:"sm",variant:"outline",onClick:()=>a(e.id),className:"text-red-600 border-red-300 hover:bg-red-50",children:(0,Fn.jsx)($s,{className:"w-4 h-4"})})]})})]},e.id);var o})})]})})},fi=e=>{let{options:t,onEdit:r,onDelete:n,onDuplicate:a}=e;return(0,Fn.jsx)("div",{className:"overflow-x-auto bg-white rounded-lg shadow",children:(0,Fn.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Fn.jsx)("thead",{className:"bg-gray-50",children:(0,Fn.jsxs)("tr",{children:[(0,Fn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),(0,Fn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,Fn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Choix"}),(0,Fn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Requis"}),(0,Fn.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Fn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>{var t,s;return(0,Fn.jsxs)("tr",{onClick:()=>r(e),className:"hover:bg-blue-50 cursor-pointer transition-colors",children:[(0,Fn.jsx)("td",{className:"px-6 py-4",children:(0,Fn.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,Fn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fn.jsx)("span",{className:"px-2 py-1 text-xs rounded-full font-medium ".concat("single"===e.type?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"),children:"single"===e.type?"Choix unique":"Choix multiple"})}),(0,Fn.jsx)("td",{className:"px-6 py-4",children:(0,Fn.jsxs)("div",{className:"flex flex-wrap gap-1",children:[null===(t=e.choices)||void 0===t?void 0:t.slice(0,3).map((e,t)=>(0,Fn.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-700",children:[e.name,e.price>0&&(0,Fn.jsxs)("span",{className:"ml-1 text-green-600 font-medium",children:["+",e.price,"\u20ac"]})]},t)),(null===(s=e.choices)||void 0===s?void 0:s.length)>3&&(0,Fn.jsxs)("span",{className:"text-xs text-gray-500",children:["+",e.choices.length-3," autres"]})]})}),(0,Fn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.required?(0,Fn.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs rounded-full font-medium",children:"* Requis"}):(0,Fn.jsx)("span",{className:"text-xs text-gray-400",children:"Optionnel"})}),(0,Fn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",onClick:e=>e.stopPropagation(),children:(0,Fn.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,Fn.jsx)(is,{size:"sm",variant:"outline",onClick:()=>r(e),children:(0,Fn.jsx)(Hs,{className:"w-4 h-4"})}),(0,Fn.jsx)(is,{size:"sm",variant:"outline",onClick:()=>a(e),children:(0,Fn.jsx)(Ws,{className:"w-4 h-4"})}),(0,Fn.jsx)(is,{size:"sm",variant:"outline",onClick:()=>n(e.id),className:"text-red-600 border-red-300 hover:bg-red-50",children:(0,Fn.jsx)($s,{className:"w-4 h-4"})})]})})]},e.id)})})]})})},gi="https://react-reborn.preview.emergentagent.com",yi=e=>{let{isOpen:t,onClose:r,choice:n,onSuccess:a}=e;const[l,i]=(0,s.useState)({name:"",default_price:0,image_url:"",description:""}),[o,c]=(0,s.useState)(!1);(0,s.useEffect)(()=>{i(n?{name:n.name||"",default_price:n.default_price||0,image_url:n.image_url||"",description:n.description||""}:{name:"",default_price:0,image_url:"",description:""})},[n,t]);return(0,Fn.jsx)(zs,{isOpen:t,onClose:r,title:n?"\u270f\ufe0f Modifier le choix":"\u2795 Nouveau choix",size:"md",children:(0,Fn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0);try{n?(await pn.put("".concat(gi,"/api/v1/admin/choice-library/").concat(n.id),l),alert("\u2705 Choix modifi\xe9 avec succ\xe8s")):(await pn.post("".concat(gi,"/api/v1/admin/choice-library"),l),alert("\u2705 Choix cr\xe9\xe9 avec succ\xe8s")),null===a||void 0===a||a(),r()}catch(t){console.error("Error saving choice:",t),alert("\u274c Erreur lors de l'enregistrement du choix")}finally{c(!1)}},className:"space-y-4",children:[(0,Fn.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Cr\xe9ez un choix r\xe9utilisable que vous pourrez utiliser dans plusieurs options"}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"name",children:"Nom du choix *"}),(0,Fn.jsx)(ms,{id:"name",type:"text",value:l.name,onChange:e=>i(Gt(Gt({},l),{},{name:e.target.value})),placeholder:"Ex: Chantilly, Ketchup, Bacon...",required:!0})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"default_price",children:"Prix par d\xe9faut"}),(0,Fn.jsx)(ms,{id:"default_price",type:"number",step:"0.01",min:"0",value:l.default_price,onChange:e=>i(Gt(Gt({},l),{},{default_price:parseFloat(e.target.value)||0})),placeholder:"0.00"}),(0,Fn.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Ce prix sera utilis\xe9 par d\xe9faut, mais vous pourrez le modifier pour chaque option"})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"image_file",children:"Image (optionnel)"}),(0,Fn.jsx)("input",{id:"image_file",type:"file",accept:"image/*",onChange:e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){const e=new FileReader;e.onloadend=()=>{i(Gt(Gt({},l),{},{image_url:e.result}))},e.readAsDataURL(r)}},className:"w-full px-3 py-2 border rounded-lg"}),l.image_url&&(0,Fn.jsx)("div",{className:"mt-2",children:(0,Fn.jsx)("img",{src:l.image_url,alt:"Aper\xe7u",className:"h-32 w-32 object-cover rounded-lg border"})})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(ps,{htmlFor:"description",children:"Description (optionnel)"}),(0,Fn.jsx)(xs,{id:"description",value:l.description,onChange:e=>i(Gt(Gt({},l),{},{description:e.target.value})),placeholder:"Description du choix...",rows:2})]}),(0,Fn.jsxs)("div",{className:"flex gap-2 pt-4 border-t",children:[(0,Fn.jsx)(is,{type:"button",variant:"outline",onClick:r,className:"flex-1",disabled:o,children:"Annuler"}),(0,Fn.jsx)(is,{type:"submit",className:"flex-1",disabled:o,children:o?"Enregistrement...":n?"Modifier":"Cr\xe9er"})]})]})})},bi="https://react-reborn.preview.emergentagent.com",vi=()=>{const[e,t]=(0,s.useState)("products"),[r,n]=(0,s.useState)("grid"),[a,l]=(0,s.useState)("grid"),[i,o]=(0,s.useState)(null),[c,d]=(0,s.useState)(null),[u,m]=(0,s.useState)([]),[p,h]=(0,s.useState)(!1),[x,f]=(0,s.useState)(null),[g,y]=(0,s.useState)(""),[b,v]=(0,s.useState)("grid"),[j,N]=(0,s.useState)([]),[w,k]=(0,s.useState)(!1),[_,C]=(0,s.useState)(null),[S,E]=(0,s.useState)(!1),[P,R]=(0,s.useState)(null),[O,T]=(0,s.useState)(null),[z,A]=(0,s.useState)(!1),[F,L]=(0,s.useState)(""),[M,D]=(0,s.useState)(!1),[I,U]=(0,s.useState)("all"),[q,B]=(0,s.useState)("all"),[V,H]=(0,s.useState)(null),[W,$]=(0,s.useState)([]),[G,Q]=(0,s.useState)(!1),[J,K]=(0,s.useState)(null),[X,Y]=(0,s.useState)([]),[Z,ee]=(0,s.useState)(!1),[te,re]=(0,s.useState)(null),[ne,ae]=(0,s.useState)(!0);(0,s.useEffect)(()=>{se()},[]),(0,s.useEffect)(()=>{const e=e=>{O&&!e.target.closest(".relative")&&T(null)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[O]);const se=async()=>{ae(!0);try{await Promise.all([le(),ie(),oe(),ce()])}catch(e){console.error("Error loading data:",e)}finally{ae(!1)}},le=async()=>{try{const e=await gn();N(e.data.products||[])}catch(e){console.error("Error loading products:",e)}},ie=async()=>{try{const e=await jn();$(e.data.categories||[])}catch(e){console.error("Error loading categories:",e)}},oe=async()=>{try{const e=await pn.get("".concat(bi,"/api/v1/admin/options"));Y(e.data.options||[])}catch(e){console.error("Error loading options:",e)}},ce=async()=>{try{const e=await pn.get("".concat(bi,"/api/v1/admin/choice-library"));m(e.data.choices||[])}catch(e){console.error("Error loading choice library:",e)}},de=j.filter(e=>{if(F){var t,r;const n=F.toLowerCase(),a=null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(n),s=null===(r=e.description)||void 0===r?void 0:r.toLowerCase().includes(n);if(!a&&!s)return!1}return!(M&&!e.isPromo)&&(("all"===I||e.category===I)&&(("available"!==q||!e.is_out_of_stock)&&(!("out_of_stock"===q&&!e.is_out_of_stock)&&!(z&&!e.is_out_of_stock))))}),ue=F||M||"all"!==I||"all"!==q||z,me=async e=>{if(window.confirm("\xcates-vous s\xfbr de vouloir supprimer ce produit ?"))try{await vn(e),le()}catch(t){alert("Erreur lors de la suppression")}},pe=async e=>{if(window.confirm('Dupliquer "'.concat(e.name,'" ?')))try{const t=Gt(Gt({},e),{},{name:"".concat(e.name," (copie)")});delete t.id,await yn(t),le(),alert("\u2705 Produit dupliqu\xe9 avec succ\xe8s !")}catch(t){alert("Erreur lors de la duplication")}},he=async(e,t)=>{try{await pn.post("".concat(bi,"/api/v1/admin/products/").concat(e,"/stock-status"),{status:t}),le();alert({"2h":"\u23f0 Produit en rupture pour 2 heures",today:"\ud83d\udcc5 Produit en rupture jusqu'\xe0 minuit",indefinite:"\ud83d\udeab Produit en rupture ind\xe9finie",available:"\u2705 Produit remis en stock"}[t])}catch(r){alert("\u274c Erreur lors de la mise \xe0 jour du stock")}},xe=async e=>{if(window.confirm("Supprimer cette cat\xe9gorie ?"))try{await kn(e),ie(),alert("\u2705 Cat\xe9gorie supprim\xe9e!")}catch(t){alert("Erreur lors de la suppression")}},fe=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},ge=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},ye=async e=>{if(window.confirm("Supprimer cette option ?"))try{await pn.delete("".concat(bi,"/api/v1/admin/options/").concat(e)),oe(),alert("\u2705 Option supprim\xe9e!")}catch(t){alert("Erreur lors de la suppression")}},be=async e=>{if(window.confirm("Dupliquer l'option \"".concat(e.name,'" ?')))try{const t=Gt(Gt({},e),{},{name:"".concat(e.name," (copie)")});delete t.id,await pn.post("".concat(bi,"/api/v1/admin/options"),t),oe(),alert("\u2705 Option dupliqu\xe9e avec succ\xe8s !")}catch(t){alert("Erreur lors de la duplication")}},ve=async e=>{if(window.confirm("Supprimer ce choix de la biblioth\xe8que ?"))try{await pn.delete("".concat(bi,"/api/v1/admin/choice-library/").concat(e)),ce(),alert("\u2705 Choix supprim\xe9!")}catch(t){alert("Erreur lors de la suppression")}},je=[{id:"products",label:"\ud83c\udf54 Produits",icon:Vs,count:j.length},{id:"categories",label:"\ud83d\udcc1 Cat\xe9gories",icon:dl,count:W.length},{id:"options",label:"\ud83c\udf9b\ufe0f Options",icon:ta,count:X.length},{id:"choice-library",label:"\ud83d\udcda Biblioth\xe8que",icon:Vs,count:u.length}];return ne?(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(_s,{title:"\ud83d\udccb Gestion du Menu",subtitle:"G\xe9rez vos produits, cat\xe9gories et options"}),(0,Fn.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,Fn.jsxs)("div",{className:"text-center",children:[(0,Fn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,Fn.jsx)("p",{className:"text-gray-600",children:"Chargement..."})]})})]}):(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(_s,{title:"\ud83d\udccb Gestion du Menu",subtitle:"G\xe9rez vos produits, cat\xe9gories et options"}),(0,Fn.jsx)("div",{className:"bg-white border-b sticky top-0 z-10 shadow-sm",children:(0,Fn.jsx)("div",{className:"px-6 py-4",children:(0,Fn.jsx)("div",{className:"flex space-x-2",children:je.map(r=>{const n=r.icon;return(0,Fn.jsxs)("button",{onClick:()=>t(r.id),className:"flex items-center space-x-3 px-6 py-3 rounded-lg font-bold transition-all ".concat(e===r.id?"bg-primary text-white shadow-lg scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[(0,Fn.jsx)(n,{className:"w-5 h-5"}),(0,Fn.jsx)("span",{children:r.label}),(0,Fn.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-bold ".concat(e===r.id?"bg-white/20":"bg-gray-200"),children:r.count})]},r.id)})})})}),(0,Fn.jsxs)("div",{className:"p-6",children:["products"===e&&(0,Fn.jsxs)("div",{children:[(0,Fn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Fn.jsx)("div",{children:(0,Fn.jsxs)("h2",{className:"text-2xl font-bold",children:["\ud83c\udf54 Produits (",de.length,")"]})}),(0,Fn.jsxs)("div",{className:"flex gap-2",children:[(0,Fn.jsx)(is,{variant:"outline",size:"sm",onClick:()=>n("grid"===r?"list":"grid"),children:"grid"===r?(0,Fn.jsx)(sl,{className:"w-4 h-4"}):(0,Fn.jsx)(li,{className:"w-4 h-4"})}),(0,Fn.jsxs)(is,{onClick:()=>{C(null),k(!0)},children:[(0,Fn.jsx)(Bs,{className:"w-4 h-4 mr-2"}),"Nouveau produit"]})]})]}),(0,Fn.jsx)("div",{className:"mb-4 p-4 bg-white rounded-lg shadow",children:(0,Fn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[(0,Fn.jsxs)("div",{className:"relative",children:[(0,Fn.jsx)(ii,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Fn.jsx)("input",{type:"text",placeholder:"Rechercher...",value:F,onChange:e=>L(e.target.value),className:"w-full pl-10 pr-8 py-2 border rounded-lg text-sm"})]}),(0,Fn.jsxs)("select",{value:I,onChange:e=>U(e.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[(0,Fn.jsx)("option",{value:"all",children:"Toutes cat\xe9gories"}),W.map(e=>(0,Fn.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,Fn.jsxs)("select",{value:q,onChange:e=>B(e.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[(0,Fn.jsx)("option",{value:"all",children:"Tous stocks"}),(0,Fn.jsx)("option",{value:"available",children:"Disponibles"}),(0,Fn.jsx)("option",{value:"out_of_stock",children:"En rupture"})]}),(0,Fn.jsxs)("div",{className:"flex gap-2",children:[(0,Fn.jsx)(is,{variant:M?"default":"outline",size:"sm",onClick:()=>D(!M),className:"flex-1",children:"Promo"}),ue&&(0,Fn.jsx)(is,{variant:"outline",size:"sm",onClick:()=>{L(""),D(!1),U("all"),B("all"),A(!1)},children:(0,Fn.jsx)(Ts,{className:"w-4 h-4"})})]})]})}),"list"===r?(0,Fn.jsx)(mi,{products:de,categories:W,onEdit:e=>{C(e),k(!0)},onDelete:me,onDuplicate:pe,onStockClick:e=>T(O===e?null:e)}):(0,Fn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:de.map((e,t)=>{const r=e.base_price||e.basePrice||0;let n=e.image_url||e.image;if(n)if(n.includes(".preview.emergentagent.com/uploads/")){const e=n.match(/\/uploads\/.+$/);e&&(n="".concat(bi).concat(e[0]))}else n.startsWith("http")||n.startsWith("http")||(n=n.startsWith("/")?"".concat(bi).concat(n):"".concat(bi,"/").concat(n));return(0,Fn.jsxs)(vs,{draggable:!0,onDragStart:e=>((e,t)=>{d(t),e.dataTransfer.effectAllowed="move"})(e,t),onDragOver:ge,onDrop:e=>(async(e,t)=>{if(e.preventDefault(),null===c||c===t)return void d(null);const r=[...de].sort((e,t)=>(e.order||0)-(t.order||0)),n=r[c],a=r[t];try{await bn(n.id,{order:a.order||t}),await bn(a.id,{order:n.order||c}),await le(),d(null)}catch(s){alert("Erreur lors du d\xe9placement"),d(null)}})(e,t),className:"cursor-move transition-all ".concat(c===t?"opacity-50 scale-95":""),children:[(0,Fn.jsxs)("div",{className:"cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>{C(e),k(!0)},children:[n?(0,Fn.jsx)("img",{src:n,alt:e.name,className:"w-full h-48 object-cover rounded-lg mb-4"}):(0,Fn.jsx)("div",{className:"w-full h-48 bg-gray-100 rounded-lg mb-4 flex items-center justify-center",children:(0,Fn.jsx)(Vs,{className:"w-12 h-12 text-gray-400"})}),(0,Fn.jsx)("h4",{className:"font-bold text-lg mb-2",children:e.name}),(0,Fn.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:e.description})]}),(0,Fn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Fn.jsxs)("span",{className:"text-2xl font-black text-primary",children:[r.toFixed(2),"\u20ac"]}),e.is_out_of_stock?(0,Fn.jsx)("div",{className:"flex flex-col items-end",children:(()=>{const t=new Date,r=e.stock_resume_at?new Date(e.stock_resume_at):null;if(!r)return(0,Fn.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-gray-700 text-white",children:"\u26d4 Rupture ind\xe9finie"});const n=(r-t)/36e5,a=r.toDateString()===t.toDateString(),s=r.toDateString()===new Date(t.getTime()+864e5).toDateString();return n<=2.5&&n>0?(0,Fn.jsxs)(Fn.Fragment,{children:[(0,Fn.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-orange-100 text-orange-700",children:"\u23f0 Rupture 2H"}),(0,Fn.jsxs)("span",{className:"text-xs text-gray-500 mt-1",children:["Retour ",r.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]}):a||s&&0===r.getHours()?(0,Fn.jsxs)(Fn.Fragment,{children:[(0,Fn.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-blue-100 text-blue-700",children:"\ud83d\udcc5 Rupture journ\xe9e"}),(0,Fn.jsx)("span",{className:"text-xs text-gray-500 mt-1",children:"Retour demain"})]}):(0,Fn.jsxs)(Fn.Fragment,{children:[(0,Fn.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-purple-100 text-purple-700",children:"\ud83d\udeab Rupture"}),(0,Fn.jsxs)("span",{className:"text-xs text-gray-500 mt-1",children:[r.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})," ",r.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]})})()}):(0,Fn.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-green-100 text-green-700",children:"\u2705 En stock"})]}),(0,Fn.jsxs)("div",{className:"space-y-2 mb-2",children:[(0,Fn.jsxs)(is,{size:"sm",variant:"outline",onClick:()=>{R(e),E(!0)},className:"w-full bg-blue-50 hover:bg-blue-100 border-blue-200",title:"Image & Badge",children:[(0,Fn.jsx)(ni,{className:"w-4 h-4 mr-2"}),"Image & Badge"]}),(0,Fn.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Fn.jsx)(is,{size:"sm",variant:"outline",onClick:()=>{C(e),k(!0)},title:"Modifier",children:(0,Fn.jsx)(Hs,{className:"w-4 h-4"})}),(0,Fn.jsx)(is,{size:"sm",variant:"outline",onClick:()=>pe(e),title:"Dupliquer",children:(0,Fn.jsx)(Ws,{className:"w-4 h-4"})})]})]}),(0,Fn.jsxs)("div",{className:"relative mb-2",children:[(0,Fn.jsxs)(is,{size:"sm",variant:"outline",onClick:()=>T(O===e.id?null:e.id),className:"w-full",title:"G\xe9rer le stock",children:[(0,Fn.jsx)(el,{className:"w-4 h-4 mr-2"}),"G\xe9rer le stock"]}),O===e.id&&(0,Fn.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg",children:[(0,Fn.jsxs)("button",{onClick:()=>{he(e.id,"2h"),T(null)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 flex items-center",children:[(0,Fn.jsx)(el,{className:"w-4 h-4 mr-2 text-orange-500"}),"Rupture 2 heures"]}),(0,Fn.jsxs)("button",{onClick:()=>{he(e.id,"today"),T(null)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 flex items-center",children:[(0,Fn.jsx)(aa,{className:"w-4 h-4 mr-2 text-blue-500"}),"Rupture aujourd'hui"]}),(0,Fn.jsxs)("button",{onClick:()=>{he(e.id,"indefinite"),T(null)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 flex items-center border-b",children:[(0,Fn.jsx)(rl,{className:"w-4 h-4 mr-2 text-red-500"}),"Rupture ind\xe9finie"]}),(0,Fn.jsxs)("button",{onClick:()=>{he(e.id,"available"),T(null)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 flex items-center text-green-600 font-bold",children:[(0,Fn.jsx)(Ks,{className:"w-4 h-4 mr-2"}),"Remettre en stock"]})]})]}),(0,Fn.jsxs)(is,{size:"sm",variant:"danger",onClick:()=>me(e.id),title:"Supprimer",className:"w-full",children:[(0,Fn.jsx)($s,{className:"w-4 h-4 mr-2"}),"Supprimer"]})]},e.id)})})]}),"categories"===e&&(0,Fn.jsxs)("div",{children:[(0,Fn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Fn.jsxs)("h2",{className:"text-2xl font-bold",children:["\ud83d\udcc1 Cat\xe9gories (",W.length,")"]}),(0,Fn.jsxs)("div",{className:"flex gap-2",children:[(0,Fn.jsx)(is,{variant:"outline",size:"sm",onClick:()=>n("grid"===r?"list":"grid"),children:"grid"===r?(0,Fn.jsx)(sl,{className:"w-4 h-4"}):(0,Fn.jsx)(li,{className:"w-4 h-4"})}),(0,Fn.jsxs)(is,{onClick:()=>{K(null),Q(!0)},children:[(0,Fn.jsx)(Bs,{className:"w-4 h-4 mr-2"}),"Nouvelle cat\xe9gorie"]})]})]}),"list"===r?(0,Fn.jsx)(xi,{categories:[...W].sort((e,t)=>(e.order||0)-(t.order||0)),products:j,onEdit:e=>{K(e),Q(!0)},onDelete:xe,onReorder:async(e,t)=>{const r=[...W].sort((e,t)=>(e.order||0)-(t.order||0)),n=r.findIndex(t=>t.id===e);if(-1===n)return;const a="up"===t?n-1:n+1;if(!(a<0||a>=r.length))try{const e=r[n],t=r[a];await pn.put("".concat(bi,"/api/v1/admin/categories/").concat(e.id),Gt(Gt({},e),{},{order:t.order||a})),await pn.put("".concat(bi,"/api/v1/admin/categories/").concat(t.id),Gt(Gt({},t),{},{order:e.order||n})),await ie()}catch(s){console.error("Error reordering:",s),alert("Erreur lors du r\xe9ordonnancement")}},onDuplicate:async e=>{if(window.confirm('Dupliquer la cat\xe9gorie "'.concat(e.name,'" ?')))try{const t=Gt(Gt({},e),{},{name:"".concat(e.name," (copie)")});delete t.id,delete t.order,await Nn(t),ie(),alert("\u2705 Cat\xe9gorie dupliqu\xe9e avec succ\xe8s !")}catch(t){alert("Erreur lors de la duplication"),console.error(t)}}}):(0,Fn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...W].sort((e,t)=>(e.order||0)-(t.order||0)).map((e,t)=>{let r=e.image_url||e.image;if(r)if(r.includes(".preview.emergentagent.com/uploads/")){const e=r.match(/\/uploads\/.+$/);e&&(r="".concat(bi).concat(e[0]))}else r.startsWith("http")||r.startsWith("http")||(r=r.startsWith("/")?"".concat(bi).concat(r):"".concat(bi,"/").concat(r));const n=[...W].sort((e,t)=>(e.order||0)-(t.order||0)),a=0===t,s=t===n.length-1;return(0,Fn.jsxs)(vs,{draggable:!0,onDragStart:e=>((e,t)=>{o(t),e.dataTransfer.effectAllowed="move"})(e,t),onDragOver:fe,onDrop:e=>(async(e,t)=>{if(e.preventDefault(),null===i||i===t)return void o(null);const r=[...W].sort((e,t)=>(e.order||0)-(t.order||0)),n=r[i],a=r[t];try{await wn(n.id,{order:a.order||t}),await wn(a.id,{order:n.order||i}),await ie(),o(null)}catch(s){alert("Erreur lors du d\xe9placement"),o(null)}})(e,t),className:"cursor-move transition-all ".concat(i===t?"opacity-50 scale-95":""),children:[(0,Fn.jsxs)("div",{className:"cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>{H(V===e.id?null:e.id)},children:[r?(0,Fn.jsx)("img",{src:r,alt:e.name,className:"w-full h-40 object-cover rounded-lg mb-4"}):(0,Fn.jsx)("div",{className:"w-full h-40 bg-gradient-to-br from-orange-100 to-red-100 rounded-lg mb-4 flex items-center justify-center",children:(0,Fn.jsx)(dl,{className:"w-12 h-12 text-orange-400"})}),(0,Fn.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,Fn.jsx)("h4",{className:"font-bold text-lg",children:e.name}),(0,Fn.jsxs)("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:["#",t+1]})]}),(0,Fn.jsx)("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:e.description})]}),(0,Fn.jsxs)("div",{className:"mb-2",children:[(0,Fn.jsxs)("div",{className:"text-sm text-gray-600 font-medium mb-2",children:[(0,Fn.jsx)(Vs,{className:"w-4 h-4 inline mr-1"}),j.filter(t=>t.category===e.name).length," produit(s)"]}),V===e.id&&(0,Fn.jsxs)("div",{className:"space-y-2 mt-3 p-3 bg-gray-50 rounded-lg",children:[j.filter(t=>t.category===e.name).map(e=>{var t;let r=e.image_url||e.image;if(r)if(r.includes(".preview.emergentagent.com/uploads/")){const e=r.match(/\/uploads\/.+$/);e&&(r="".concat(bi).concat(e[0]))}else r.startsWith("http")||r.startsWith("http")||(r=r.startsWith("/")?"".concat(bi).concat(r):"".concat(bi,"/").concat(r));return(0,Fn.jsxs)("div",{onClick:()=>{C(e),k(!0)},className:"flex items-center justify-between p-2 bg-white rounded hover:bg-blue-50 cursor-pointer transition-colors",children:[(0,Fn.jsxs)("div",{className:"flex items-center space-x-2",children:[r?(0,Fn.jsx)("img",{src:r,alt:e.name,className:"w-10 h-10 object-cover rounded"}):(0,Fn.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded flex items-center justify-center",children:(0,Fn.jsx)(Vs,{className:"w-5 h-5 text-gray-400"})}),(0,Fn.jsx)("span",{className:"text-sm font-medium",children:e.name})]}),(0,Fn.jsxs)("span",{className:"text-sm font-bold text-primary",children:[null===(t=e.base_price)||void 0===t?void 0:t.toFixed(2),"\u20ac"]})]},e.id)}),0===j.filter(t=>t.category===e.name).length&&(0,Fn.jsx)("p",{className:"text-xs text-gray-400 italic text-center",children:"Aucun produit dans cette cat\xe9gorie"})]})]}),(0,Fn.jsxs)("div",{className:"flex space-x-2 mb-2",children:[(0,Fn.jsx)(is,{size:"sm",variant:"outline",onClick:()=>(async(e,t)=>{if(0===t)return;const r=[...W].sort((e,t)=>(e.order||0)-(t.order||0))[t-1];try{await wn(e.id,{order:r.order||0}),await wn(r.id,{order:e.order||0}),ie()}catch(n){alert("Erreur lors du d\xe9placement")}})(e,t),disabled:a,className:"flex-1",title:"Monter",children:(0,Fn.jsx)(oi,{className:"w-4 h-4"})}),(0,Fn.jsx)(is,{size:"sm",variant:"outline",onClick:()=>(async(e,t)=>{const r=[...W].sort((e,t)=>(e.order||0)-(t.order||0));if(t===r.length-1)return;const n=r[t+1];try{await wn(e.id,{order:n.order||0}),await wn(n.id,{order:e.order||0}),ie()}catch(a){alert("Erreur lors du d\xe9placement")}})(e,t),disabled:s,className:"flex-1",title:"Descendre",children:(0,Fn.jsx)(ci,{className:"w-4 h-4"})})]}),(0,Fn.jsxs)("div",{className:"flex space-x-2",children:[(0,Fn.jsx)(is,{size:"sm",variant:"outline",onClick:()=>{K(e),Q(!0)},className:"flex-1",children:(0,Fn.jsx)(Hs,{className:"w-4 h-4"})}),(0,Fn.jsx)(is,{size:"sm",variant:"danger",onClick:()=>xe(e.id),className:"flex-1",children:(0,Fn.jsx)($s,{className:"w-4 h-4"})})]})]},e.id)})})]}),"options"===e&&(0,Fn.jsxs)("div",{children:[(0,Fn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Fn.jsxs)("h2",{className:"text-2xl font-bold",children:["\ud83c\udf9b\ufe0f Options (",X.length,")"]}),(0,Fn.jsxs)("div",{className:"flex gap-2",children:[(0,Fn.jsx)(is,{variant:"outline",size:"sm",onClick:()=>l("grid"===a?"list":"grid"),children:"grid"===a?(0,Fn.jsx)(sl,{className:"w-4 h-4"}):(0,Fn.jsx)(li,{className:"w-4 h-4"})}),(0,Fn.jsxs)(is,{onClick:()=>{re(null),ee(!0)},children:[(0,Fn.jsx)(Bs,{className:"w-4 h-4 mr-2"}),"Nouvelle option"]})]})]}),"list"===a?(0,Fn.jsx)(fi,{options:X,onEdit:e=>{re(e),ee(!0)},onDelete:ye,onDuplicate:be}):(0,Fn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:X.map(e=>{var t,r,n;return(0,Fn.jsxs)(vs,{children:[(0,Fn.jsx)(js,{className:"bg-gradient-to-r from-purple-50 to-pink-50",children:(0,Fn.jsxs)(Ns,{className:"flex items-center justify-between",children:[(0,Fn.jsxs)("div",{className:"flex-1",children:[(0,Fn.jsx)("span",{className:"text-lg font-bold",children:e.name}),e.internal_comment&&(0,Fn.jsxs)("p",{className:"text-xs text-yellow-700 mt-1 font-normal",children:["\ud83d\udcac ",e.internal_comment]})]}),(0,Fn.jsxs)("div",{className:"flex space-x-1",children:[(0,Fn.jsx)("button",{onClick:()=>{re(e),ee(!0)},className:"p-2 hover:bg-white rounded-lg transition-colors",title:"Modifier",children:(0,Fn.jsx)(ei,{className:"w-4 h-4 text-blue-600"})}),(0,Fn.jsx)("button",{onClick:()=>be(e),className:"p-2 hover:bg-white rounded-lg transition-colors",title:"Dupliquer",children:(0,Fn.jsx)(Ws,{className:"w-4 h-4 text-green-600"})}),(0,Fn.jsx)("button",{onClick:()=>ye(e.id),className:"p-2 hover:bg-white rounded-lg transition-colors",title:"Supprimer",children:(0,Fn.jsx)($s,{className:"w-4 h-4 text-red-600"})})]})]})}),(0,Fn.jsxs)(ws,{className:"space-y-3 cursor-pointer hover:bg-gray-50 transition-colors rounded-lg",onClick:()=>{re(e),ee(!0)},children:[e.description&&(0,Fn.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),(0,Fn.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,Fn.jsx)("span",{className:"px-3 py-1 rounded-full font-bold ".concat(e.is_required?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"),children:e.is_required?"Obligatoire":"Optionnel"}),(0,Fn.jsx)("span",{className:"px-3 py-1 rounded-full bg-blue-100 text-blue-700 font-bold",children:"single"===e.type?"Choix unique":"Choix multiple"})]}),"multiple"===e.type&&e.max_choices&&(0,Fn.jsxs)("p",{className:"text-xs text-gray-500",children:["Maximum ",e.max_choices," choix"]}),(0,Fn.jsxs)("div",{className:"pt-3 border-t",children:[(0,Fn.jsxs)("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:["Choix disponibles (",(null===(t=e.choices)||void 0===t?void 0:t.length)||0,")"]}),(0,Fn.jsxs)("div",{className:"space-y-1",children:[null===(r=e.choices)||void 0===r?void 0:r.slice(0,3).map((e,t)=>(0,Fn.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Fn.jsx)("span",{className:"text-gray-700",children:e.name}),e.price_modifier>0&&(0,Fn.jsxs)("span",{className:"text-green-600 font-semibold",children:["+",e.price_modifier.toFixed(2),"\u20ac"]})]},t)),(null===(n=e.choices)||void 0===n?void 0:n.length)>3&&(0,Fn.jsxs)("p",{className:"text-xs text-gray-400 italic",children:["+",e.choices.length-3," autres choix..."]})]})]})]})]},e.id)})})]}),"choice-library"===e&&(0,Fn.jsxs)("div",{children:[(0,Fn.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsxs)("h2",{className:"text-2xl font-bold",children:["\ud83d\udcda Biblioth\xe8que de Choix (",u.filter(e=>e.name.toLowerCase().includes(g.toLowerCase())).length,")"]}),(0,Fn.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Cr\xe9ez des choix r\xe9utilisables avec images pour vos options"})]}),(0,Fn.jsxs)(is,{onClick:()=>{f(null),h(!0)},children:[(0,Fn.jsx)(Bs,{className:"w-4 h-4 mr-2"}),"Nouveau choix"]})]}),(0,Fn.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,Fn.jsxs)("div",{className:"flex-1 relative",children:[(0,Fn.jsx)(ii,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,Fn.jsx)("input",{type:"text",placeholder:"Rechercher un choix (nom, cat\xe9gorie, prix...)",value:g,onChange:e=>y(e.target.value),className:"w-full pl-10 pr-4 py-2 border-2 border-gray-200 rounded-lg focus:border-primary focus:outline-none"}),g&&(0,Fn.jsx)("button",{onClick:()=>y(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:(0,Fn.jsx)(Ts,{className:"w-5 h-5"})})]}),(0,Fn.jsxs)("div",{className:"flex gap-2",children:[(0,Fn.jsx)(is,{variant:"grid"===b?"default":"outline",size:"sm",onClick:()=>v("grid"),title:"Vue grille",children:(0,Fn.jsx)(al,{className:"w-4 h-4"})}),(0,Fn.jsx)(is,{variant:"list"===b?"default":"outline",size:"sm",onClick:()=>v("list"),title:"Vue liste",children:(0,Fn.jsx)(sl,{className:"w-4 h-4"})})]})]}),(()=>{const e=u.filter(e=>e.name.toLowerCase().includes(g.toLowerCase()));return 0===u.length?(0,Fn.jsxs)("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-6 text-center",children:[(0,Fn.jsx)(Vs,{className:"w-16 h-16 text-blue-400 mx-auto mb-4"}),(0,Fn.jsx)("h3",{className:"text-lg font-bold text-blue-900 mb-2",children:"Biblioth\xe8que vide"}),(0,Fn.jsx)("p",{className:"text-sm text-blue-700 mb-4",children:"Cr\xe9ez vos premiers choix r\xe9utilisables (Chantilly, Ketchup, Bacon...)"}),(0,Fn.jsxs)(is,{onClick:()=>h(!0),children:[(0,Fn.jsx)(Bs,{className:"w-4 h-4 mr-2"}),"Cr\xe9er mon premier choix"]})]}):0===e.length?(0,Fn.jsxs)("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-lg p-6 text-center",children:[(0,Fn.jsx)(ii,{className:"w-16 h-16 text-yellow-400 mx-auto mb-4"}),(0,Fn.jsx)("h3",{className:"text-lg font-bold text-yellow-900 mb-2",children:"Aucun r\xe9sultat"}),(0,Fn.jsxs)("p",{className:"text-sm text-yellow-700 mb-4",children:['Aucun choix ne correspond \xe0 votre recherche "',g,'"']}),(0,Fn.jsx)(is,{variant:"outline",onClick:()=>y(""),children:"Effacer la recherche"})]}):"list"===b?(0,Fn.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,Fn.jsx)("div",{className:"overflow-x-auto",children:(0,Fn.jsxs)("table",{className:"w-full",children:[(0,Fn.jsx)("thead",{className:"bg-gray-50",children:(0,Fn.jsxs)("tr",{children:[(0,Fn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Choix"}),(0,Fn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),(0,Fn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prix"}),(0,Fn.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Fn.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,Fn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Fn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fn.jsxs)("div",{className:"flex items-center",children:[e.image_url?(0,Fn.jsx)("img",{src:e.image_url,alt:e.name,className:"w-12 h-12 object-cover rounded-lg mr-4",onError:e=>{e.target.style.display="none"}}):(0,Fn.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-lg mr-4 flex items-center justify-center",children:(0,Fn.jsx)(Vs,{className:"w-6 h-6 text-gray-400"})}),(0,Fn.jsx)("div",{children:(0,Fn.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})})]})}),(0,Fn.jsx)("td",{className:"px-6 py-4",children:(0,Fn.jsx)("div",{className:"text-sm text-gray-600 max-w-xs truncate",children:e.description||"-"})}),(0,Fn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fn.jsxs)("span",{className:"text-sm font-bold text-primary",children:[e.default_price.toFixed(2),"\u20ac"]})}),(0,Fn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Fn.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,Fn.jsx)(is,{size:"sm",variant:"outline",onClick:()=>{f(e),h(!0)},children:(0,Fn.jsx)(ei,{className:"w-4 h-4"})}),(0,Fn.jsx)(is,{size:"sm",variant:"danger",onClick:()=>ve(e.id),children:(0,Fn.jsx)($s,{className:"w-4 h-4"})})]})})]},e.id))})]})})}):(0,Fn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:e.map(e=>(0,Fn.jsx)(vs,{children:(0,Fn.jsxs)(ws,{className:"p-4",children:[e.image_url&&(0,Fn.jsx)("img",{src:e.image_url,alt:e.name,className:"w-full h-32 object-cover rounded-lg mb-3",onError:e=>{e.target.style.display="none"}}),(0,Fn.jsx)("h3",{className:"font-bold text-lg mb-1",children:e.name}),e.description&&(0,Fn.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,Fn.jsxs)("p",{className:"text-lg font-bold text-primary mb-3",children:[e.default_price.toFixed(2),"\u20ac"]}),(0,Fn.jsxs)("div",{className:"flex gap-2",children:[(0,Fn.jsxs)(is,{size:"sm",variant:"outline",onClick:()=>{f(e),h(!0)},children:[(0,Fn.jsx)(ei,{className:"w-4 h-4 mr-1"}),"Modifier"]}),(0,Fn.jsx)(is,{size:"sm",variant:"danger",onClick:()=>ve(e.id),children:(0,Fn.jsx)($s,{className:"w-4 h-4"})})]})]})},e.id))})})()]})]}),(0,Fn.jsx)(qs,{isOpen:w,onClose:()=>{k(!1),C(null)},product:_,onSuccess:le}),(0,Fn.jsx)(si,{isOpen:S,onClose:()=>{E(!1),R(null)},product:P,onSave:e=>{le(),E(!1),R(null)}}),(0,Fn.jsx)(cl,{isOpen:G,onClose:()=>{Q(!1),K(null)},category:J,onSuccess:ie}),(0,Fn.jsx)(Zl,{isOpen:Z,onClose:()=>{ee(!1),re(null)},option:te,onSuccess:oe}),(0,Fn.jsx)(yi,{isOpen:p,onClose:()=>{h(!1),f(null)},choice:x,onSuccess:ce})]})},ji=()=>({playNotificationSound:(0,s.useCallback)(()=>{try{const e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),r=e.createGain();t.connect(r),r.connect(e.destination),t.frequency.value=800,t.type="sine",r.gain.setValueAtTime(.3,e.currentTime),r.gain.exponentialRampToValueAtTime(.01,e.currentTime+.5),t.start(e.currentTime),t.stop(e.currentTime+.5)}catch(e){console.log("Could not play notification sound:",e)}},[])}),Ni="https://react-reborn.preview.emergentagent.com",wi=()=>{const[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)("new"),[a,l]=(0,s.useState)(0),{playNotificationSound:i}=ji();(0,s.useEffect)(()=>{o();const e=setInterval(o,1e4);return()=>clearInterval(e)},[]),(0,s.useEffect)(()=>{const t=e.filter(e=>"new"===e.status).length;t>a&&a>0&&i(),l(t)},[e]);const o=async()=>{try{const e=await pn.get("".concat(Ni,"/api/v1/admin/orders"));t(e.data.orders||[])}catch(e){console.error("Error loading orders:",e)}},c=async(e,r)=>{try{t(t=>t.map(t=>t.id===e?Gt(Gt({},t),{},{status:r}):t)),await pn.patch("".concat(Ni,"/api/v1/admin/orders/").concat(e,"/status"),{status:r})}catch(n){console.error("Error updating order:",n),o()}},d=[{id:"new",label:"Nouvelles",icon:Vs,status:"new",color:"bg-red-500"},{id:"in_preparation",label:"En cours",icon:el,status:"in_preparation",color:"bg-orange-500"},{id:"ready",label:"Pr\xeates",icon:Ks,status:"ready",color:"bg-green-500"}],u=e.filter(e=>{var t;return e.status===(null===(t=d.find(e=>e.id===r))||void 0===t?void 0:t.status)});return(0,Fn.jsxs)("div",{className:"h-screen bg-gray-100 flex flex-col",children:[(0,Fn.jsx)("div",{className:"bg-white shadow-md p-4",children:(0,Fn.jsx)("h1",{className:"text-3xl font-black text-center",children:"\ud83c\udf54 COMMANDES EN DIRECT"})}),(0,Fn.jsx)("div",{className:"flex p-4 gap-4",children:d.map(t=>{const a=t.icon,s=e.filter(e=>e.status===t.status).length;return(0,Fn.jsxs)("button",{onClick:()=>n(t.id),className:"flex-1 p-8 rounded-2xl shadow-lg transition-all transform ".concat(r===t.id?"".concat(t.color," text-white scale-105"):"bg-white text-gray-700 hover:scale-102"),children:[(0,Fn.jsx)(a,{className:"w-16 h-16 mx-auto mb-4"}),(0,Fn.jsx)("div",{className:"text-2xl font-bold",children:t.label}),(0,Fn.jsx)("div",{className:"text-5xl font-black mt-2",children:s})]},t.id)})}),(0,Fn.jsx)("div",{className:"flex-1 overflow-auto p-4",children:0===u.length?(0,Fn.jsx)("div",{className:"text-center py-20 text-gray-400 text-2xl",children:"Aucune commande"}):(0,Fn.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:u.map(e=>{var t,n;return(0,Fn.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl p-6 border-4 border-gray-200",children:[(0,Fn.jsxs)("div",{className:"flex items-center justify-between mb-6 pb-4 border-b-4 border-gray-200",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsxs)("div",{className:"text-4xl font-black text-primary",children:["#",e.order_number||(null===(t=e.id)||void 0===t?void 0:t.slice(0,8))]}),(0,Fn.jsx)("div",{className:"text-sm text-gray-500 mt-1",children:new Date(e.created_at).toLocaleTimeString("fr-FR")})]}),(0,Fn.jsx)("div",{className:"px-4 py-2 rounded-full ".concat("delivery"===e.order_type?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"," font-bold text-lg"),children:"delivery"===e.order_type?(0,Fn.jsxs)(Fn.Fragment,{children:[(0,Fn.jsx)(tl,{className:"w-5 h-5 inline mr-1"})," Livraison"]}):(0,Fn.jsxs)(Fn.Fragment,{children:[(0,Fn.jsx)(Vs,{className:"w-5 h-5 inline mr-1"})," \xc0 emporter"]})})]}),(0,Fn.jsx)("div",{className:"mb-6",children:null===(n=e.items)||void 0===n?void 0:n.map((e,t)=>(0,Fn.jsxs)("div",{className:"mb-3 p-3 bg-gray-50 rounded-xl",children:[(0,Fn.jsx)("div",{className:"flex items-start justify-between",children:(0,Fn.jsxs)("div",{className:"flex-1",children:[(0,Fn.jsxs)("span",{className:"inline-block bg-primary text-white px-3 py-1 rounded-full text-lg font-bold mr-2",children:["x",e.quantity]}),(0,Fn.jsx)("span",{className:"text-xl font-bold",children:e.name})]})}),e.notes&&(0,Fn.jsxs)("div",{className:"mt-2 ml-12 text-sm text-gray-600 bg-yellow-50 p-2 rounded",children:["\ud83d\udcdd ",e.notes]})]},t))}),e.notes&&(0,Fn.jsxs)("div",{className:"mb-4 p-4 bg-yellow-50 border-l-4 border-yellow-400 rounded",children:[(0,Fn.jsx)("p",{className:"font-bold text-yellow-800 mb-1",children:"\ud83d\udcdd Notes:"}),(0,Fn.jsx)("p",{className:"text-yellow-700",children:e.notes})]}),(0,Fn.jsxs)("div",{className:"mb-6 text-center p-4 bg-gray-100 rounded-xl",children:[(0,Fn.jsx)("div",{className:"text-sm text-gray-600",children:"TOTAL"}),(0,Fn.jsxs)("div",{className:"text-4xl font-black text-primary",children:[e.total.toFixed(2),"\u20ac"]})]}),(0,Fn.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Fn.jsxs)("button",{onClick:()=>(e=>{var t,r;const n="\nCOMMANDE #".concat(e.order_number||(null===(t=e.id)||void 0===t?void 0:t.slice(0,8)),"\n").concat(new Date(e.created_at).toLocaleString("fr-FR"),"\n-----------------------------------\n").concat(null===(r=e.items)||void 0===r?void 0:r.map(e=>"".concat(e.quantity,"x ").concat(e.name)).join("\n"),"\n-----------------------------------\nTOTAL: ").concat(e.total.toFixed(2),"\u20ac\n").concat(e.notes?"\nNOTES: ".concat(e.notes):"","\n    "),a=window.open("","","width=300,height=600");a.document.write('<pre style="font-family: monospace; font-size: 12px;">'.concat(n,"</pre>")),a.print(),a.close()})(e),className:"py-4 px-6 bg-blue-500 hover:bg-blue-600 text-white rounded-xl font-bold text-lg flex items-center justify-center gap-2 transition-all",children:[(0,Fn.jsx)(ll,{className:"w-6 h-6"}),"Imprimer"]}),"new"===r&&(0,Fn.jsx)("button",{onClick:()=>c(e.id,"in_preparation"),className:"py-4 px-6 bg-orange-500 hover:bg-orange-600 text-white rounded-xl font-bold text-lg transition-all",children:"\ud83d\udd25 EN COURS"}),"in_preparation"===r&&(0,Fn.jsx)("button",{onClick:()=>c(e.id,"ready"),className:"py-4 px-6 bg-green-500 hover:bg-green-600 text-white rounded-xl font-bold text-lg transition-all",children:"\u2705 PR\xcaTE"}),"ready"===r&&(0,Fn.jsx)("button",{onClick:()=>c(e.id,"completed"),className:"py-4 px-6 bg-gray-500 hover:bg-gray-600 text-white rounded-xl font-bold text-lg transition-all",children:"\ud83c\udf89 TERMIN\xc9E"})]})]},e.id)})})})]})},ki=$n("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),_i=$n("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),Ci=()=>{const[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)(!0),[a,l]=(0,s.useState)("today"),[i,o]=(0,s.useState)(""),[c,d]=(0,s.useState)(""),[u,m]=(0,s.useState)({total:0,cash:0,card:0,mobile:0,online:0,orderCount:0});(0,s.useEffect)(()=>{p()},[a,i,c]);const p=async()=>{n(!0);try{const e=localStorage.getItem("token"),r=await pn.get("".concat("https://react-reborn.preview.emergentagent.com","/api/v1/admin/orders"),{headers:e?{Authorization:"Bearer ".concat(e)}:{}}),n=(r.data.orders||[]).filter(e=>"paid"===e.payment_status&&["completed","ready","in_preparation","out_for_delivery"].includes(e.status)),a=h(n);x(a),t(a)}catch(e){console.error("Error loading revenue:",e)}finally{n(!1)}},h=e=>{const t=new Date;let r,n;switch(a){case"today":r=new Date(t.setHours(0,0,0,0)),n=new Date(t.setHours(23,59,59,999));break;case"yesterday":const a=new Date(t);a.setDate(a.getDate()-1),r=new Date(a.setHours(0,0,0,0)),n=new Date(a.setHours(23,59,59,999));break;case"week":r=new Date(t),r.setDate(r.getDate()-7),n=new Date;break;case"month":r=new Date(t),r.setDate(r.getDate()-30),n=new Date;break;case"custom":if(!i||!c)return e;r=new Date(i),n=new Date(c),n.setHours(23,59,59,999);break;default:return e}return e.filter(e=>{const t=new Date(e.created_at);return t>=r&&t<=n})},x=e=>{const t={total:0,cash:0,card_restaurant:0,ticket_resto:0,check:0,online:0,orderCount:e.length};e.forEach(e=>{var r;const n=e.total||0;t.total+=n;const a="paid"===e.payment_status,s=(null===(r=e.payment_method)||void 0===r?void 0:r.toLowerCase())||"cash";a?t.online+=n:"cash"===s||"espece"===s?t.cash+=n:"card"===s||"cb"===s||"card_restaurant"===s?t.card_restaurant+=n:"ticket_resto"===s||"ticket_restaurant"===s?t.ticket_resto+=n:"check"===s||"cheque"===s?t.check+=n:t.card_restaurant+=n}),m(t)},f=[{value:"today",label:"Aujourd'hui"},{value:"yesterday",label:"Hier"},{value:"week",label:"7 derniers jours"},{value:"month",label:"30 derniers jours"},{value:"custom",label:"P\xe9riode personnalis\xe9e"}],g=[{key:"online",label:"Paiement en ligne",icon:ki,color:"purple",amount:u.online},{key:"card_restaurant",label:"CB (restaurant)",icon:Ps,color:"blue",amount:u.card_restaurant},{key:"ticket_resto",label:"Ticket restaurant",icon:_i,color:"orange",amount:u.ticket_resto},{key:"check",label:"Ch\xe8que bancaire",icon:Ps,color:"indigo",amount:u.check},{key:"cash",label:"Esp\xe8ce",icon:_i,color:"green",amount:u.cash}];return r?(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(_s,{title:"\ud83d\udcb0 Chiffre d'Affaires",subtitle:"Analysez vos revenus"}),(0,Fn.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,Fn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})]}):(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)(_s,{title:"\ud83d\udcb0 Chiffre d'Affaires",subtitle:"Analysez vos revenus"}),(0,Fn.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Fn.jsx)(vs,{children:(0,Fn.jsxs)(ws,{className:"p-4",children:[(0,Fn.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,Fn.jsx)(aa,{className:"w-5 h-5 text-gray-600"}),(0,Fn.jsx)("div",{className:"flex gap-2 flex-wrap flex-1",children:f.map(e=>(0,Fn.jsx)(is,{size:"sm",variant:a===e.value?"primary":"outline",onClick:()=>l(e.value),children:e.label},e.value))})]}),"custom"===a&&(0,Fn.jsxs)("div",{className:"flex gap-4 mt-4",children:[(0,Fn.jsxs)("div",{className:"flex-1",children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Date d\xe9but"}),(0,Fn.jsx)("input",{type:"date",value:i,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border rounded-lg"})]}),(0,Fn.jsxs)("div",{className:"flex-1",children:[(0,Fn.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Date fin"}),(0,Fn.jsx)("input",{type:"date",value:c,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border rounded-lg"})]})]})]})}),(0,Fn.jsx)(vs,{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white",children:(0,Fn.jsx)(ws,{className:"p-6",children:(0,Fn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"text-green-100 text-sm mb-1",children:"Chiffre d'Affaires Total"}),(0,Fn.jsxs)("p",{className:"text-5xl font-black",children:[u.total.toFixed(2),"\u20ac"]}),(0,Fn.jsxs)("p",{className:"text-green-100 text-sm mt-2",children:[u.orderCount," commandes"]})]}),(0,Fn.jsxs)("div",{className:"flex flex-col items-end gap-3",children:[(0,Fn.jsx)(Yn,{className:"w-20 h-20 text-white/30"}),(0,Fn.jsxs)(is,{onClick:()=>{var t;let r="";r+="\x1b@",r+="\x1ba\x01",r+="\x1bE\x01",r+="\x1d!\x11",r+="CHIFFRE D'AFFAIRES\n",r+="\x1d!\0",r+="\x1bE\0",r+="\n",r+="\x1ba\x01";const n=(null===(t=f.find(e=>e.value===a))||void 0===t?void 0:t.label)||"Personnalis\xe9";r+=n+"\n","custom"===a&&i&&c&&(r+="".concat(i," - ").concat(c,"\n")),r+="\n",r+="\x1ba\0",r+="--------------------------------\n",r+="\x1bE\x01",r+="\x1d!\x11",r+="TOTAL: "+u.total.toFixed(2)+" EUR\n",r+="\x1d!\0",r+="\x1bE\0",r+="--------------------------------\n\n",r+="\x1bE\x01",r+="REPARTITION PAR MOYEN:\n",r+="\x1bE\0",r+="\n",g.forEach(e=>{if(e.amount>0){const t=e.label.padEnd(20," "),n=e.amount.toFixed(2).padStart(10," ");r+=t+n+" EUR\n"}}),r+="\n--------------------------------\n\n",r+="Nombre de commandes: "+e.length+"\n",r+="\n--------------------------------\n\n",r+="\x1bE\x01",r+="DERNIERES COMMANDES:\n",r+="\x1bE\0",r+="\n";const s=e.slice(0,10);s.forEach((e,t)=>{r+="#".concat(e.order_number||e.id.substring(0,8),"\n"),r+="  ".concat(e.customer_name||"Client","\n"),r+="  ".concat(e.total.toFixed(2)," EUR\n"),t<s.length-1&&(r+="\n")}),r+="\n--------------------------------\n",r+="\x1ba\x01",r+="\n";const l=new Date;r+="Imprime le ".concat(l.toLocaleDateString("fr-FR")," a ").concat(l.toLocaleTimeString("fr-FR"),"\n"),r+="\n\n\n",r+="\x1dVA\x03";const o=new Blob([r],{type:"text/plain"}),d=URL.createObjectURL(o),m=window.open(d,"_blank","width=302,height=500");m?m.onload=()=>{m.print(),setTimeout(()=>{URL.revokeObjectURL(d),m.close()},100)}:alert("Veuillez autoriser les pop-ups pour imprimer")},variant:"outline",size:"sm",className:"bg-white/20 border-white/30 text-white hover:bg-white/30",children:[(0,Fn.jsx)(ll,{className:"w-4 h-4 mr-2"}),"Imprimer"]})]})]})})}),(0,Fn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:g.map(e=>{const t=e.icon,r=u.total>0?e.amount/u.total*100:0;return(0,Fn.jsx)(vs,{children:(0,Fn.jsxs)(ws,{className:"p-4",children:[(0,Fn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Fn.jsx)(t,{className:"w-8 h-8 text-".concat(e.color,"-500")}),(0,Fn.jsxs)("span",{className:"text-xs font-bold px-2 py-1 rounded-full bg-".concat(e.color,"-100 text-").concat(e.color,"-700"),children:[r.toFixed(0),"%"]})]}),(0,Fn.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:e.label}),(0,Fn.jsxs)("p",{className:"text-2xl font-black text-gray-800",children:[e.amount.toFixed(2),"\u20ac"]})]})},e.key)})}),(0,Fn.jsx)(vs,{children:(0,Fn.jsx)(ws,{className:"p-0",children:(0,Fn.jsx)("div",{className:"overflow-x-auto",children:(0,Fn.jsxs)("table",{className:"w-full",children:[(0,Fn.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,Fn.jsxs)("tr",{children:[(0,Fn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-700 uppercase",children:"Date"}),(0,Fn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-700 uppercase",children:"N\xb0 Commande"}),(0,Fn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-700 uppercase",children:"Client"}),(0,Fn.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-700 uppercase",children:"Mode Paiement"}),(0,Fn.jsx)("th",{className:"px-6 py-3 text-right text-xs font-bold text-gray-700 uppercase",children:"Montant"})]})}),(0,Fn.jsx)("tbody",{className:"divide-y divide-gray-200",children:e.map(e=>{var t;return(0,Fn.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Fn.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[new Date(e.created_at).toLocaleDateString("fr-FR"),(0,Fn.jsx)("br",{}),(0,Fn.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})})]}),(0,Fn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fn.jsxs)("span",{className:"text-sm font-bold text-primary",children:["#",e.order_number||(null===(t=e.id)||void 0===t?void 0:t.slice(0,8))]})}),(0,Fn.jsx)("td",{className:"px-6 py-4 text-sm",children:e.customer_name||e.customer_email||"Client"}),(0,Fn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Fn.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold ".concat("cash"===e.payment_method?"bg-green-100 text-green-700":"card_restaurant"===e.payment_method?"bg-blue-100 text-blue-700":"online"===e.payment_method?"bg-purple-100 text-purple-700":"ticket_resto"===e.payment_method?"bg-orange-100 text-orange-700":"check"===e.payment_method?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-700"),children:"cash"===e.payment_method?"\ud83d\udcb5 Esp\xe8ce":"card_restaurant"===e.payment_method?"\ud83d\udcb3 CB (restaurant)":"online"===e.payment_method?"\ud83c\udf10 Paiement en ligne":"ticket_resto"===e.payment_method?"\ud83c\udfab Ticket Restaurant":"check"===e.payment_method?"\ud83d\udcdd Ch\xe8que bancaire":e.payment_method})}),(0,Fn.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:(0,Fn.jsxs)("span",{className:"text-lg font-black text-gray-800",children:[e.total.toFixed(2),"\u20ac"]})})]},e.id)})}),(0,Fn.jsx)("tfoot",{className:"bg-gray-50 border-t-2 border-gray-300",children:(0,Fn.jsxs)("tr",{children:[(0,Fn.jsx)("td",{colSpan:"4",className:"px-6 py-4 text-right text-sm font-bold text-gray-700",children:"TOTAL"}),(0,Fn.jsx)("td",{className:"px-6 py-4 text-right",children:(0,Fn.jsxs)("span",{className:"text-2xl font-black text-green-600",children:[u.total.toFixed(2),"\u20ac"]})})]})})]})})})})]})]})},Si="https://react-reborn.preview.emergentagent.com",Ei=()=>{const[e,t]=(0,s.useState)(null),[r,n]=(0,s.useState)([]),[a,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(null),c=(new Date).toISOString().split("T")[0];(0,s.useEffect)(()=>{d(),u()},[]);const d=async()=>{try{const e=localStorage.getItem("token"),r=await fetch("".concat(Si,"/api/v1/admin/ticket-z/daily-status/").concat(c),{headers:e?{Authorization:"Bearer ".concat(e)}:{}});if(!r.ok)return void console.error("Failed to load daily status:",r.status);const n=await r.json();t(n)}catch(e){console.error("Error loading daily status:",e)}},u=async()=>{try{const e=localStorage.getItem("token"),t=await fetch("".concat(Si,"/api/v1/admin/ticket-z"),{headers:e?{Authorization:"Bearer ".concat(e)}:{}});if(!t.ok)return void console.error("Failed to load tickets:",t.status);const r=await t.json();n(r)}catch(e){console.error("Error loading tickets:",e)}};return(0,Fn.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,Fn.jsxs)("div",{className:"mb-8",children:[(0,Fn.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"\ud83d\udcca Ticket Z - Cl\xf4ture de Journ\xe9e"}),(0,Fn.jsx)("p",{className:"text-gray-600",children:"G\xe9rez la cl\xf4ture quotidienne de votre \xe9tablissement"})]}),e&&(0,Fn.jsx)("div",{className:"mb-8",children:(0,Fn.jsxs)("div",{className:"p-6 rounded-lg border-2 ".concat(e.is_closed?"bg-green-50 border-green-500":e.needs_closure?"bg-red-50 border-red-500":"bg-blue-50 border-blue-500"),children:[(0,Fn.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("h2",{className:"text-2xl font-bold mb-2 flex items-center",children:e.is_closed?(0,Fn.jsxs)(Fn.Fragment,{children:[(0,Fn.jsx)(Ks,{className:"w-6 h-6 text-green-600 mr-2"})," Journ\xe9e cl\xf4tur\xe9e"]}):e.needs_closure?(0,Fn.jsxs)(Fn.Fragment,{children:[(0,Fn.jsx)(Ys,{className:"w-6 h-6 text-red-600 mr-2"})," \u26a0\ufe0f Cl\xf4ture requise"]}):(0,Fn.jsxs)(Fn.Fragment,{children:[(0,Fn.jsx)(el,{className:"w-6 h-6 text-blue-600 mr-2"})," Journ\xe9e en cours"]})}),(0,Fn.jsxs)("p",{className:"text-gray-700 mb-3",children:["Date : ",e.date]}),!e.is_closed&&(0,Fn.jsxs)("div",{className:"space-y-2",children:[e.pending_orders>0?(0,Fn.jsxs)("div",{className:"flex items-center text-red-700 font-semibold",children:[(0,Fn.jsx)(Ys,{className:"w-5 h-5 mr-2"}),e.pending_orders," commande(s) en attente"]}):(0,Fn.jsxs)("div",{className:"flex items-center text-green-700 font-semibold",children:[(0,Fn.jsx)(Ks,{className:"w-5 h-5 mr-2"}),"Toutes les commandes sont trait\xe9es"]}),e.needs_closure&&(0,Fn.jsxs)("div",{className:"flex items-center text-red-700 font-bold mt-2",children:[(0,Fn.jsx)(Ys,{className:"w-5 h-5 mr-2"}),"La cl\xf4ture de la veille n'a pas \xe9t\xe9 effectu\xe9e"]})]})]}),!e.is_closed&&(0,Fn.jsx)(is,{onClick:async()=>{if(window.confirm("\u26a0\ufe0f Confirmer la cl\xf4ture de journ\xe9e ? Cette action est irr\xe9versible.")){l(!0);try{const e=localStorage.getItem("token"),t=await fetch("".concat(Si,"/api/v1/admin/ticket-z"),{method:"POST",headers:Gt({"Content-Type":"application/json"},e?{Authorization:"Bearer ".concat(e)}:{}),body:JSON.stringify({date:c})});if(!t.ok){const e=await t.json();throw new Error(e.detail||"Erreur lors de la cl\xf4ture")}alert("\u2705 Journ\xe9e cl\xf4tur\xe9e avec succ\xe8s !"),d(),u()}catch(e){alert("\u274c ".concat(e.message))}finally{l(!1)}}},disabled:!e.can_close||a,className:"".concat(e.can_close?"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700":"bg-gray-400"," text-white font-bold px-6 py-3 shadow-lg"),children:a?"Cl\xf4ture en cours...":"\ud83d\udd12 Cl\xf4turer la journ\xe9e"})]}),e.is_closed&&e.ticket_z&&(0,Fn.jsx)("div",{className:"mt-4 pt-4 border-t border-green-300",children:(0,Fn.jsxs)(is,{onClick:()=>o(e.ticket_z),className:"bg-white text-green-700 border-2 border-green-500 hover:bg-green-100",children:[(0,Fn.jsx)(nl,{className:"w-4 h-4 mr-2"}),"Voir le Ticket Z"]})})]})}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"\ud83d\udcdc Historique des cl\xf4tures"}),(0,Fn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(e=>(0,Fn.jsxs)("div",{onClick:()=>o(e),className:"p-4 bg-white rounded-lg border-2 border-gray-200 hover:border-blue-500 hover:shadow-lg cursor-pointer transition-all",children:[(0,Fn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Fn.jsx)("span",{className:"font-bold text-lg",children:e.date}),(0,Fn.jsx)(nl,{className:"w-5 h-5 text-blue-600"})]}),(0,Fn.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,Fn.jsxs)("div",{className:"flex justify-between",children:[(0,Fn.jsx)("span",{className:"text-gray-600",children:"Ventes:"}),(0,Fn.jsxs)("span",{className:"font-bold text-green-600",children:[e.total_sales.toFixed(2),"\u20ac"]})]}),(0,Fn.jsxs)("div",{className:"flex justify-between",children:[(0,Fn.jsx)("span",{className:"text-gray-600",children:"Commandes:"}),(0,Fn.jsx)("span",{className:"font-bold",children:e.total_orders})]}),(0,Fn.jsxs)("div",{className:"flex justify-between",children:[(0,Fn.jsx)("span",{className:"text-gray-600",children:"Couverts:"}),(0,Fn.jsx)("span",{className:"font-bold",children:e.covers_count})]})]})]},e.id))})]}),i&&(0,Fn.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,Fn.jsxs)("div",{className:"bg-white rounded-lg p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Fn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Fn.jsxs)("h2",{className:"text-2xl font-bold",children:["\ud83d\udcca Ticket Z - ",i.date]}),(0,Fn.jsx)("button",{onClick:()=>o(null),className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",children:"\xd7"})]}),(0,Fn.jsxs)("div",{className:"space-y-6",children:[(0,Fn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Fn.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg",children:[(0,Fn.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Fn.jsx)(Yn,{className:"w-5 h-5 text-green-600 mr-2"}),(0,Fn.jsx)("span",{className:"text-sm text-gray-600",children:"Ventes totales"})]}),(0,Fn.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:[i.total_sales.toFixed(2),"\u20ac"]})]}),(0,Fn.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[(0,Fn.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Fn.jsx)(ra,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,Fn.jsx)("span",{className:"text-sm text-gray-600",children:"Couverts"})]}),(0,Fn.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:i.covers_count})]})]}),(0,Fn.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,Fn.jsx)("h3",{className:"font-bold mb-3",children:"\ud83d\udce6 Commandes"}),(0,Fn.jsxs)("div",{className:"grid grid-cols-3 gap-3 text-center",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"text-2xl font-bold",children:i.total_orders}),(0,Fn.jsx)("p",{className:"text-xs text-gray-600",children:"Total"})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"text-2xl font-bold text-green-600",children:i.completed_orders}),(0,Fn.jsx)("p",{className:"text-xs text-gray-600",children:"Termin\xe9es"})]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"text-2xl font-bold text-red-600",children:i.cancelled_orders}),(0,Fn.jsx)("p",{className:"text-xs text-gray-600",children:"Annul\xe9es"})]})]})]}),(0,Fn.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,Fn.jsx)("h3",{className:"font-bold mb-3",children:"\ud83d\udcb3 R\xe9partition des paiements"}),(0,Fn.jsxs)("div",{className:"space-y-2",children:[i.payment_breakdown.espece>0&&(0,Fn.jsxs)("div",{className:"flex justify-between p-2 bg-green-100 rounded",children:[(0,Fn.jsx)("span",{className:"font-medium",children:"\ud83d\udcb5 Esp\xe8ce"}),(0,Fn.jsxs)("span",{className:"font-bold",children:[i.payment_breakdown.espece.toFixed(2),"\u20ac"]})]}),i.payment_breakdown.cb>0&&(0,Fn.jsxs)("div",{className:"flex justify-between p-2 bg-blue-100 rounded",children:[(0,Fn.jsx)("span",{className:"font-medium",children:"\ud83d\udcb3 CB"}),(0,Fn.jsxs)("span",{className:"font-bold",children:[i.payment_breakdown.cb.toFixed(2),"\u20ac"]})]}),i.payment_breakdown.cheque>0&&(0,Fn.jsxs)("div",{className:"flex justify-between p-2 bg-purple-100 rounded",children:[(0,Fn.jsx)("span",{className:"font-medium",children:"\ud83d\udcdd Ch\xe8que"}),(0,Fn.jsxs)("span",{className:"font-bold",children:[i.payment_breakdown.cheque.toFixed(2),"\u20ac"]})]}),i.payment_breakdown.ticket_restaurant>0&&(0,Fn.jsxs)("div",{className:"flex justify-between p-2 bg-orange-100 rounded",children:[(0,Fn.jsx)("span",{className:"font-medium",children:"\ud83c\udf9f\ufe0f Ticket restaurant"}),(0,Fn.jsxs)("span",{className:"font-bold",children:[i.payment_breakdown.ticket_restaurant.toFixed(2),"\u20ac"]})]}),i.payment_breakdown.online>0&&(0,Fn.jsxs)("div",{className:"flex justify-between p-2 bg-indigo-100 rounded",children:[(0,Fn.jsx)("span",{className:"font-medium",children:"\ud83c\udf10 Paiement en ligne"}),(0,Fn.jsxs)("span",{className:"font-bold",children:[i.payment_breakdown.online.toFixed(2),"\u20ac"]})]})]})]}),(0,Fn.jsx)("div",{className:"p-4 bg-yellow-50 rounded-lg",children:(0,Fn.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Fn.jsx)("span",{className:"font-bold",children:"\ud83d\udcb0 TVA collect\xe9e"}),(0,Fn.jsxs)("span",{className:"text-2xl font-bold text-yellow-700",children:[i.tva_collected.toFixed(2),"\u20ac"]})]})}),(0,Fn.jsxs)("div",{className:"pt-4 border-t text-xs text-gray-500",children:[(0,Fn.jsxs)("p",{children:["Cl\xf4tur\xe9 par: ",i.closed_by]}),(0,Fn.jsxs)("p",{children:["Le: ",new Date(i.closed_at).toLocaleString("fr-FR")]})]})]})]})})]})},Pi="https://react-reborn.preview.emergentagent.com",Ri={padding:"12px",textAlign:"left",fontWeight:"bold",fontSize:"14px",color:"#333"},Oi={padding:"12px",fontSize:"13px",verticalAlign:"top"},Ti=()=>{const[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)(!0),[a,l]=(0,s.useState)(null),[i,o]=(0,s.useState)({}),c=async()=>{n(!0),l(null);try{const e=await pn.get("".concat(Pi,"/api/v1/admin/ai-marketing/campaigns/all?status=pending"));t(e.data.campaigns||[])}catch(a){var e,r;l((null===(e=a.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.detail)||"Erreur chargement campagnes"),console.error("Error loading campaigns:",a)}finally{n(!1)}},d=async(e,t)=>{o(t=>Gt(Gt({},t),{},{[e]:!0}));try{const r=await pn.post("".concat(Pi,"/api/v1/admin/ai-marketing/campaigns/").concat(e,"/validate"),{accepted:t,notes:t?"Valid\xe9 via page temp":"Refus\xe9 via page temp"},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("adminToken"))}});r.data.success&&(alert(t?"\u2705 Campagne valid\xe9e ! Promo cr\xe9\xe9e en brouillon (ID: ".concat(r.data.promotion_id,")"):"\u274c Campagne refus\xe9e"),await c())}catch(a){var r,n;alert("Erreur: "+((null===(r=a.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.detail)||a.message)),console.error("Error validating campaign:",a)}finally{o(t=>Gt(Gt({},t),{},{[e]:!1}))}};return(0,s.useEffect)(()=>{c()},[]),r&&0===e.length?(0,Fn.jsx)("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:(0,Fn.jsx)("h1",{children:"\u23f3 Chargement des campagnes IA..."})}):(0,Fn.jsxs)("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif",maxWidth:"1400px",margin:"0 auto"},children:[(0,Fn.jsxs)("div",{style:{marginBottom:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Fn.jsx)("h1",{style:{margin:0},children:"\ud83e\udd16 IA Marketing - Campagnes Propos\xe9es (Page Test)"}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("button",{onClick:async()=>{n(!0),l(null);try{await pn.post("".concat(Pi,"/api/v1/admin/ai-marketing/campaigns/generate"),{force_regenerate:!1}),await c()}catch(r){var e,t;l((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Erreur g\xe9n\xe9ration campagnes"),console.error("Error generating campaigns:",r),n(!1)}},disabled:r,style:{padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"5px",cursor:r?"not-allowed":"pointer",fontSize:"14px",marginRight:"10px"},children:r?"\u23f3 G\xe9n\xe9ration...":"\u26a1 G\xe9n\xe9rer Nouvelles Campagnes"}),(0,Fn.jsx)("button",{onClick:c,disabled:r,style:{padding:"10px 20px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"5px",cursor:r?"not-allowed":"pointer",fontSize:"14px"},children:"\ud83d\udd04 Rafra\xeechir"})]})]}),a&&(0,Fn.jsxs)("div",{style:{padding:"15px",backgroundColor:"#ffebee",color:"#c62828",borderRadius:"5px",marginBottom:"20px",border:"1px solid #ef5350"},children:[(0,Fn.jsx)("strong",{children:"\u26a0\ufe0f Erreur:"})," ",a]}),0===e.length&&!r&&(0,Fn.jsxs)("div",{style:{padding:"40px",textAlign:"center",backgroundColor:"#f5f5f5",borderRadius:"10px",border:"2px dashed #ccc"},children:[(0,Fn.jsx)("h2",{children:"\ud83d\udced Aucune campagne en attente"}),(0,Fn.jsx)("p",{children:'Cliquez sur "G\xe9n\xe9rer Nouvelles Campagnes" pour cr\xe9er des propositions IA.'})]}),e.length>0&&(0,Fn.jsx)("div",{style:{overflowX:"auto"},children:(0,Fn.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,Fn.jsx)("thead",{children:(0,Fn.jsxs)("tr",{style:{backgroundColor:"#f5f5f5",borderBottom:"2px solid #ddd"},children:[(0,Fn.jsx)("th",{style:Ri,children:"Nom Campagne"}),(0,Fn.jsx)("th",{style:Ri,children:"Type"}),(0,Fn.jsx)("th",{style:Ri,children:"Ciblage"}),(0,Fn.jsx)("th",{style:Ri,children:"P\xe9riode"}),(0,Fn.jsx)("th",{style:Ri,children:"Impact Estim\xe9"}),(0,Fn.jsx)("th",{style:Ri,children:"Message IA"}),(0,Fn.jsx)("th",{style:Ri,children:"Actions"})]})}),(0,Fn.jsx)("tbody",{children:e.map((e,t)=>{var r,n,a;const s=i[e.id],l=e.promo_type_v2||e.type||"N/A",o=(null===(r=e.product_ids)||void 0===r?void 0:r.length)||0,c=(null===(n=e.category_ids)||void 0===n?void 0:n.length)||0,u=o>0?"".concat(o," produit(s)"):c>0?"".concat(c," cat\xe9gorie(s)"):"Tous",m=e.impact_estimate||{},p=("".concat(m.ca_increase||"N/A"," | ").concat(m.difficulty||"N/A"," | ").concat(m.duration||"N/A"),"".concat(e.start_date||"N/A"," \u2192 ").concat(e.end_date||"N/A")),h=e.start_time&&e.end_time?" | ".concat(e.start_time,"-").concat(e.end_time):"",x=(null===(a=e.days_active)||void 0===a?void 0:a.length)>0?" | ".concat(e.days_active.join(", ")):"";return(0,Fn.jsxs)("tr",{style:{borderBottom:"1px solid #eee",backgroundColor:t%2===0?"white":"#fafafa"},children:[(0,Fn.jsxs)("td",{style:Oi,children:[(0,Fn.jsx)("strong",{children:e.name}),e.badge_text&&(0,Fn.jsx)("div",{style:{display:"inline-block",marginLeft:"8px",padding:"2px 8px",backgroundColor:e.badge_color||"#FF6B35",color:"white",borderRadius:"12px",fontSize:"11px",fontWeight:"bold"},children:e.badge_text})]}),(0,Fn.jsx)("td",{style:Oi,children:(0,Fn.jsx)("code",{style:{backgroundColor:"#e3f2fd",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",color:"#1565c0"},children:l})}),(0,Fn.jsx)("td",{style:Oi,children:u}),(0,Fn.jsx)("td",{style:Oi,children:(0,Fn.jsxs)("div",{style:{fontSize:"13px"},children:[p,h&&(0,Fn.jsx)("div",{style:{color:"#666",fontSize:"12px"},children:h}),x&&(0,Fn.jsx)("div",{style:{color:"#666",fontSize:"12px"},children:x})]})}),(0,Fn.jsx)("td",{style:Oi,children:(0,Fn.jsxs)("div",{style:{fontSize:"12px",lineHeight:"1.5"},children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("strong",{children:"CA:"})," ",m.ca_increase||"N/A"]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("strong",{children:"Diff:"})," ",m.difficulty||"N/A"]}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("strong",{children:"Dur\xe9e:"})," ",m.duration||"N/A"]}),m.target_customers&&(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("strong",{children:"Cibles:"})," ",m.target_customers]})]})}),(0,Fn.jsxs)("td",{style:Gt(Gt({},Oi),{},{maxWidth:"300px"}),children:[(0,Fn.jsx)("div",{style:{fontSize:"13px",lineHeight:"1.4",color:"#333"},children:e.message}),e.source_promo_analysis&&(0,Fn.jsxs)("div",{style:{marginTop:"8px",padding:"6px",backgroundColor:"#fff3e0",borderLeft:"3px solid #ff9800",fontSize:"11px",color:"#666"},children:[(0,Fn.jsx)("strong",{children:"\ud83d\udcca Analyse:"})," ",e.source_promo_analysis]})]}),(0,Fn.jsx)("td",{style:Oi,children:(0,Fn.jsxs)("div",{style:{display:"flex",gap:"8px",flexDirection:"column"},children:[(0,Fn.jsx)("button",{onClick:()=>d(e.id,!0),disabled:s,style:{padding:"8px 16px",backgroundColor:s?"#ccc":"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer",fontSize:"13px",fontWeight:"bold"},children:s?"\u23f3":"\u2705 Valider"}),(0,Fn.jsx)("button",{onClick:()=>d(e.id,!1),disabled:s,style:{padding:"8px 16px",backgroundColor:s?"#ccc":"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer",fontSize:"13px",fontWeight:"bold"},children:s?"\u23f3":"\u274c Refuser"})]})})]},e.id)})})]})}),(0,Fn.jsxs)("div",{style:{marginTop:"30px",padding:"15px",backgroundColor:"#e3f2fd",borderRadius:"8px",border:"1px solid #90caf9"},children:[(0,Fn.jsx)("h3",{style:{marginTop:0},children:"\u2139\ufe0f Info"}),(0,Fn.jsxs)("ul",{style:{fontSize:"14px",lineHeight:"1.8",color:"#333"},children:[(0,Fn.jsxs)("li",{children:[(0,Fn.jsx)("strong",{children:"Campagnes affich\xe9es:"})," ",e.length]}),(0,Fn.jsxs)("li",{children:[(0,Fn.jsx)("strong",{children:"Status:"})," Pending (en attente de validation)"]}),(0,Fn.jsxs)("li",{children:[(0,Fn.jsx)("strong",{children:"\u2705 Valider:"})," Cr\xe9e automatiquement une promo V2 en brouillon dans le moteur"]}),(0,Fn.jsxs)("li",{children:[(0,Fn.jsx)("strong",{children:"\u274c Refuser:"})," Marque la campagne comme refus\xe9e (pas de promo cr\xe9\xe9e)"]}),(0,Fn.jsxs)("li",{children:[(0,Fn.jsx)("strong",{children:"Fallback actif:"})," Si OpenAI indisponible, g\xe9n\xe9ration intelligente bas\xe9e sur donn\xe9es"]})]})]})]})},zi=$n("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),Ai=$n("pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),Fi="https://react-reborn.preview.emergentagent.com",Li=()=>{const[e,t]=(0,s.useState)("dashboard"),[r,n]=(0,s.useState)(null),[a,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(null),[u,m]=(0,s.useState)(!1),[p,h]=(0,s.useState)(!1),[x,f]=(0,s.useState)("30");(0,s.useEffect)(()=>{g(),y(),b();const e=setInterval(()=>{g(),y()},3e4);return()=>clearInterval(e)},[]);const g=async()=>{try{const e=await pn.get("".concat(Fi,"/api/v1/admin/dashboard/simple"));n(e.data)}catch(e){console.error("Error loading dashboard:",e)}},y=async()=>{try{const e=await pn.get("".concat(Fi,"/api/v1/admin/pause/status"));l(e.data.is_paused),o(e.data.no_more_orders_today)}catch(e){console.error("Error loading pause status:",e)}},b=async()=>{try{const e=await pn.get("".concat(Fi,"/api/v1/admin/settings"));d(e.data)}catch(e){console.error("Error loading settings:",e)}},v=async()=>{try{await pn.post("".concat(Fi,"/api/v1/admin/pause"),{is_paused:!1}),y(),alert("\u2705 Restaurant r\xe9ouvert")}catch(e){alert("\u274c Erreur")}},j=async e=>{try{await pn.post("".concat(Fi,"/api/v1/admin/no-more-orders-today"),{no_more_orders_today:e}),h(!1),y(),alert(e?"\ud83d\udeab Plus de commandes pour aujourd'hui":"\u2705 Commandes r\xe9ouvertes")}catch(t){alert("\u274c Erreur")}},N=e=>{const t=prompt("Code PIN pour Mode ".concat("delivery"===e?"Livraison":"R\xe9servation"," :"));t&&pn.post("".concat(Fi,"/api/v1/admin/verify-pin"),{pin:t,mode:e}).then(()=>{window.location.href="/admin/".concat(e,"-mode")}).catch(()=>{alert("\u274c Code PIN incorrect")})};return(0,Fn.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Fn.jsx)(_s,{title:"\ud83c\udf7d\ufe0f Mode Commande",subtitle:"Gestion simplifi\xe9e pour le personnel"}),(0,Fn.jsxs)("div",{className:"p-6 space-y-6",children:[(a||i)&&(0,Fn.jsx)(vs,{className:"bg-red-50 border-2 border-red-500",children:(0,Fn.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,Fn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Fn.jsx)(Ys,{className:"w-6 h-6 text-red-600"}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("h3",{className:"font-bold text-red-900",children:i?"\ud83d\udeab PLUS DE COMMANDES AUJOURD'HUI":"\u23f8\ufe0f RESTAURANT EN PAUSE"}),a&&(0,Fn.jsx)("p",{className:"text-sm text-red-700",children:"Les clients ne peuvent pas commander actuellement"})]})]}),a&&(0,Fn.jsxs)(is,{onClick:v,className:"bg-green-600 hover:bg-green-700",children:[(0,Fn.jsx)(zi,{className:"w-4 h-4 mr-2"}),"Reprendre"]}),i&&(0,Fn.jsx)(is,{onClick:()=>j(!1),className:"bg-green-600 hover:bg-green-700",children:"R\xe9ouvrir"})]})}),(0,Fn.jsxs)("div",{className:"flex gap-2 border-b",children:[(0,Fn.jsx)("button",{onClick:()=>t("dashboard"),className:"px-4 py-2 font-medium ".concat("dashboard"===e?"border-b-2 border-primary text-primary":"text-gray-600"),children:"\ud83d\udcca Dashboard"}),(0,Fn.jsx)("button",{onClick:()=>t("pause"),className:"px-4 py-2 font-medium ".concat("pause"===e?"border-b-2 border-primary text-primary":"text-gray-600"),children:"\u23f8\ufe0f Pause & Fermeture"}),(0,Fn.jsx)("button",{onClick:()=>t("stock"),className:"px-4 py-2 font-medium ".concat("stock"===e?"border-b-2 border-primary text-primary":"text-gray-600"),children:"\ud83d\udce6 Rupture"}),(0,Fn.jsx)("button",{onClick:()=>window.location.href="/admin/orders",className:"px-4 py-2 font-medium text-gray-600 hover:text-primary",children:"\ud83d\udccb Commandes"})]}),"dashboard"===e&&r&&(0,Fn.jsxs)("div",{children:[(0,Fn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,Fn.jsx)(vs,{className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white",children:(0,Fn.jsxs)("div",{className:"p-6",children:[(0,Fn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Fn.jsx)(Ks,{className:"w-12 h-12 text-white/80"}),(0,Fn.jsx)("span",{className:"text-5xl font-black",children:r.orders_completed_today})]}),(0,Fn.jsx)("p",{className:"text-xl font-bold",children:"Commandes trait\xe9es"}),(0,Fn.jsx)("p",{className:"text-sm text-white/80",children:"Aujourd'hui"})]})}),(0,Fn.jsx)(vs,{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white",children:(0,Fn.jsxs)("div",{className:"p-6",children:[(0,Fn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Fn.jsx)(Ss,{className:"w-12 h-12 text-white/80"}),(0,Fn.jsxs)("span",{className:"text-5xl font-black",children:[r.revenue_today.toFixed(0),"\u20ac"]})]}),(0,Fn.jsx)("p",{className:"text-xl font-bold",children:"Chiffre d'affaires"}),(0,Fn.jsx)("p",{className:"text-sm text-white/80",children:"Aujourd'hui"})]})})]}),(0,Fn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(null===c||void 0===c?void 0:c.enable_delivery)&&(0,Fn.jsx)(vs,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>N("delivery"),children:(0,Fn.jsxs)("div",{className:"p-6 flex items-center gap-4",children:[(0,Fn.jsx)("div",{className:"bg-orange-100 p-4 rounded-full",children:(0,Fn.jsx)(tl,{className:"w-8 h-8 text-orange-600"})}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("h3",{className:"text-xl font-bold",children:"Mode Livraison"}),(0,Fn.jsx)("p",{className:"text-sm text-gray-600",children:"G\xe9rer les livraisons en cours"})]})]})}),(null===c||void 0===c?void 0:c.enable_reservations)&&(0,Fn.jsx)(vs,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>N("reservation"),children:(0,Fn.jsxs)("div",{className:"p-6 flex items-center gap-4",children:[(0,Fn.jsx)("div",{className:"bg-purple-100 p-4 rounded-full",children:(0,Fn.jsx)(aa,{className:"w-8 h-8 text-purple-600"})}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("h3",{className:"text-xl font-bold",children:"Mode R\xe9servation"}),(0,Fn.jsx)("p",{className:"text-sm text-gray-600",children:"G\xe9rer les r\xe9servations"})]})]})})]})]}),"pause"===e&&(0,Fn.jsxs)("div",{className:"space-y-4",children:[(0,Fn.jsx)(vs,{children:(0,Fn.jsxs)("div",{className:"p-6",children:[(0,Fn.jsx)("h3",{className:"text-xl font-bold mb-4",children:"\u23f8\ufe0f Mettre en pause les commandes"}),(0,Fn.jsx)("p",{className:"text-gray-600 mb-4",children:"Emp\xeache temporairement les clients de passer commande"}),a?(0,Fn.jsxs)(is,{onClick:v,className:"bg-green-600 hover:bg-green-700",children:[(0,Fn.jsx)(zi,{className:"w-4 h-4 mr-2"}),"Reprendre les commandes"]}):(0,Fn.jsxs)(is,{onClick:()=>m(!0),className:"bg-orange-500 hover:bg-orange-600",children:[(0,Fn.jsx)(Ai,{className:"w-4 h-4 mr-2"}),"Mettre en pause"]})]})}),(0,Fn.jsx)(vs,{children:(0,Fn.jsxs)("div",{className:"p-6",children:[(0,Fn.jsx)("h3",{className:"text-xl font-bold mb-4",children:"\ud83d\udeab Plus de commandes pour aujourd'hui"}),(0,Fn.jsx)("p",{className:"text-gray-600 mb-4",children:"Bloque toutes les nouvelles commandes jusqu'\xe0 demain"}),i?(0,Fn.jsxs)(is,{onClick:()=>j(!1),className:"bg-green-600 hover:bg-green-700",children:[(0,Fn.jsx)(Ks,{className:"w-4 h-4 mr-2"}),"R\xe9ouvrir les commandes"]}):(0,Fn.jsxs)(is,{onClick:()=>h(!0),className:"bg-red-600 hover:bg-red-700",children:[(0,Fn.jsx)(rl,{className:"w-4 h-4 mr-2"}),"Plus de commandes aujourd'hui"]})]})})]}),"stock"===e&&(0,Fn.jsx)(vs,{children:(0,Fn.jsxs)("div",{className:"p-6",children:[(0,Fn.jsx)("h3",{className:"text-xl font-bold mb-4",children:"\ud83d\udce6 Gestion des ruptures"}),(0,Fn.jsx)("p",{className:"text-gray-600 mb-4",children:"Cette fonctionnalit\xe9 sera disponible via le module de gestion des stocks"}),(0,Fn.jsx)(is,{onClick:()=>window.location.href="/admin/stock",children:"Ouvrir gestion des stocks"})]})})]}),u&&(0,Fn.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Fn.jsx)(vs,{className:"w-full max-w-md",children:(0,Fn.jsxs)("div",{className:"p-6",children:[(0,Fn.jsx)("h3",{className:"text-xl font-bold mb-4",children:"\u23f8\ufe0f Mettre en pause"}),(0,Fn.jsx)("p",{className:"text-gray-600 mb-4",children:"Pendant combien de temps ?"}),(0,Fn.jsxs)("select",{value:x,onChange:e=>f(e.target.value),className:"w-full px-4 py-2 border rounded-lg mb-4",children:[(0,Fn.jsx)("option",{value:"30",children:"30 minutes"}),(0,Fn.jsx)("option",{value:"60",children:"1 heure"}),(0,Fn.jsx)("option",{value:"120",children:"2 heures"}),(0,Fn.jsx)("option",{value:"until_tonight",children:"Jusqu'\xe0 ce soir"}),(0,Fn.jsx)("option",{value:"indefinite",children:"Ind\xe9fini"})]}),(0,Fn.jsxs)("div",{className:"flex gap-2",children:[(0,Fn.jsx)(is,{variant:"outline",onClick:()=>m(!1),className:"flex-1",children:"Annuler"}),(0,Fn.jsx)(is,{onClick:async()=>{try{const e="until_tonight"===x?null:parseInt(x);await pn.post("".concat(Fi,"/api/v1/admin/pause"),{is_paused:!0,pause_reason:"Trop de commandes",pause_duration_minutes:e}),m(!1),y(),alert("\u2705 Restaurant mis en pause")}catch(e){alert("\u274c Erreur lors de la mise en pause")}},className:"flex-1 bg-orange-500 hover:bg-orange-600",children:"Confirmer"})]})]})})}),p&&(0,Fn.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Fn.jsx)(vs,{className:"w-full max-w-md",children:(0,Fn.jsxs)("div",{className:"p-6",children:[(0,Fn.jsx)("h3",{className:"text-xl font-bold mb-4",children:"\ud83d\udeab Plus de commandes"}),(0,Fn.jsx)("p",{className:"text-gray-600 mb-4",children:"\xcates-vous s\xfbr de ne plus vouloir accepter de commandes aujourd'hui ?"}),(0,Fn.jsx)("p",{className:"text-sm text-red-600 mb-4",children:"Les clients verront un message \xe0 l'ouverture de l'app"}),(0,Fn.jsxs)("div",{className:"flex gap-2",children:[(0,Fn.jsx)(is,{variant:"outline",onClick:()=>h(!1),className:"flex-1",children:"Annuler"}),(0,Fn.jsx)(is,{onClick:()=>j(!0),className:"flex-1 bg-red-600 hover:bg-red-700",children:"Confirmer"})]})]})})})]})},Mi="https://react-reborn.preview.emergentagent.com",Di=()=>{const[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)(!0);(0,s.useEffect)(()=>{a();const e=setInterval(a,15e3);return()=>clearInterval(e)},[]);const a=async()=>{try{const e=(await pn.get("".concat(Mi,"/api/v1/admin/orders"))).data.orders.filter(e=>"delivery"===e.order_type&&["ready","out_for_delivery"].includes(e.status));t(e)}catch(e){console.error("Error loading orders:",e)}finally{n(!1)}},l=async(e,t)=>{try{await pn.post("".concat(Mi,"/api/v1/admin/orders/").concat(e,"/payment"),{payment_method:t,payment_status:"paid"}),a(),alert("\u2705 Paiement enregistr\xe9")}catch(r){alert("\u274c Erreur")}};return r?(0,Fn.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Fn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):(0,Fn.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Fn.jsx)(_s,{title:"\ud83d\ude9a Mode Livraison",subtitle:"Gestion des livraisons en cours"}),(0,Fn.jsxs)("div",{className:"p-6",children:[0===e.length?(0,Fn.jsx)(vs,{children:(0,Fn.jsxs)("div",{className:"p-12 text-center",children:[(0,Fn.jsx)(tl,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Fn.jsx)("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"Aucune livraison en cours"}),(0,Fn.jsx)("p",{className:"text-gray-500",children:"Les commandes pr\xeates \xe0 livrer appara\xeetront ici"})]})}):(0,Fn.jsx)("div",{className:"space-y-4",children:e.map(e=>{var t,r;return(0,Fn.jsx)(vs,{className:"hover:shadow-lg transition-shadow",children:(0,Fn.jsxs)("div",{className:"p-6",children:[(0,Fn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsxs)("h3",{className:"text-2xl font-black text-primary mb-1",children:["#",e.order_number]}),(0,Fn.jsx)("p",{className:"text-sm text-gray-600",children:new Date(e.created_at).toLocaleTimeString("fr-FR")})]}),(0,Fn.jsx)("div",{className:"px-4 py-2 rounded-full font-bold ".concat("ready"===e.status?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"),children:"ready"===e.status?"\u2705 Pr\xeate":"\ud83d\ude9a En livraison"})]}),(0,Fn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,Fn.jsxs)("div",{className:"space-y-2",children:[(0,Fn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Fn.jsx)(Ll,{className:"w-5 h-5 text-gray-400"}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"font-bold",children:e.customer_name}),(0,Fn.jsx)("p",{className:"text-sm text-gray-600",children:e.delivery_address})]})]}),(0,Fn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Fn.jsx)(Fl,{className:"w-5 h-5 text-gray-400"}),(0,Fn.jsx)("p",{className:"text-sm text-gray-600",children:e.customer_phone})]})]}),(0,Fn.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Fn.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Articles :"}),(0,Fn.jsxs)("ul",{className:"text-sm space-y-1",children:[null===(t=e.items)||void 0===t?void 0:t.slice(0,3).map((e,t)=>(0,Fn.jsxs)("li",{children:[e.quantity,"x ",e.name]},t)),(null===(r=e.items)||void 0===r?void 0:r.length)>3&&(0,Fn.jsxs)("li",{className:"text-gray-500",children:["+",e.items.length-3," autres..."]})]}),(0,Fn.jsxs)("p",{className:"text-xl font-black text-primary mt-3",children:[e.total,"\u20ac"]})]})]}),(0,Fn.jsxs)("div",{className:"flex gap-2 flex-wrap",children:["ready"===e.status&&(0,Fn.jsxs)(is,{onClick:()=>(async e=>{if(window.confirm("Commande r\xe9cup\xe9r\xe9e ?"))try{await pn.put("".concat(Mi,"/api/v1/admin/orders/").concat(e,"/status"),{status:"out_for_delivery"}),a()}catch(t){alert("Erreur")}})(e.id),className:"flex-1",children:[(0,Fn.jsx)(tl,{className:"w-4 h-4 mr-2"}),"R\xe9cup\xe9rer et partir"]}),"out_for_delivery"===e.status&&(0,Fn.jsxs)(Fn.Fragment,{children:[(0,Fn.jsxs)(is,{onClick:()=>(async e=>{if(window.confirm("Commande livr\xe9e ?"))try{await pn.put("".concat(Mi,"/api/v1/admin/orders/").concat(e,"/status"),{status:"completed"}),a()}catch(t){alert("Erreur")}})(e.id),className:"flex-1 bg-green-600 hover:bg-green-700",children:[(0,Fn.jsx)(Ks,{className:"w-4 h-4 mr-2"}),"Livr\xe9"]}),"paid"!==e.payment_status&&(0,Fn.jsxs)("div",{className:"flex gap-2 w-full",children:[(0,Fn.jsxs)(is,{onClick:()=>l(e.id,"card"),variant:"outline",className:"flex-1",children:[(0,Fn.jsx)(Yn,{className:"w-4 h-4 mr-2"}),"CB"]}),(0,Fn.jsxs)(is,{onClick:()=>l(e.id,"cash"),variant:"outline",className:"flex-1",children:[(0,Fn.jsx)(Yn,{className:"w-4 h-4 mr-2"}),"Esp\xe8ces"]})]})]})]})]})},e.id)})}),(0,Fn.jsx)("div",{className:"mt-6 text-center",children:(0,Fn.jsx)("button",{onClick:()=>window.location.href="/admin/orders-mode",className:"text-gray-600 hover:text-primary",children:"\u2190 Retour au Mode Commande"})})]})]})},Ii="https://react-reborn.preview.emergentagent.com",Ui=()=>{const[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)(!0),[a,l]=(0,s.useState)("today");(0,s.useEffect)(()=>{i();const e=setInterval(i,3e4);return()=>clearInterval(e)},[a]);const i=async()=>{try{let e=(await pn.get("".concat(Ii,"/api/v1/admin/reservations"))).data.reservations||[];const r=(new Date).toISOString().split("T")[0];"today"===a?e=e.filter(e=>e.date===r):"upcoming"===a?e=e.filter(e=>e.date>=r&&"confirmed"===e.status):"pending"===a&&(e=e.filter(e=>"pending"===e.status)),t(e)}catch(e){console.error("Error loading reservations:",e)}finally{n(!1)}},o=async e=>{if(window.confirm("Annuler cette r\xe9servation ?"))try{await pn.put("".concat(Ii,"/api/v1/admin/reservations/").concat(e),{status:"cancelled"}),i(),alert("\u2705 R\xe9servation annul\xe9e")}catch(t){alert("\u274c Erreur")}};return r?(0,Fn.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Fn.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):(0,Fn.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Fn.jsx)(_s,{title:"\ud83d\udcc5 Mode R\xe9servation",subtitle:"Gestion des r\xe9servations"}),(0,Fn.jsxs)("div",{className:"p-6",children:[(0,Fn.jsxs)("div",{className:"flex gap-2 mb-6",children:[(0,Fn.jsx)(is,{onClick:()=>l("today"),variant:"today"===a?"primary":"outline",children:"Aujourd'hui"}),(0,Fn.jsx)(is,{onClick:()=>l("upcoming"),variant:"upcoming"===a?"primary":"outline",children:"\xc0 venir"}),(0,Fn.jsx)(is,{onClick:()=>l("pending"),variant:"pending"===a?"primary":"outline",children:"En attente"})]}),0===e.length?(0,Fn.jsx)(vs,{children:(0,Fn.jsxs)("div",{className:"p-12 text-center",children:[(0,Fn.jsx)(aa,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Fn.jsx)("h3",{className:"text-xl font-bold text-gray-700 mb-2",children:"Aucune r\xe9servation"}),(0,Fn.jsx)("p",{className:"text-gray-500",children:"Les r\xe9servations appara\xeetront ici"})]})}):(0,Fn.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,Fn.jsx)(vs,{className:"hover:shadow-lg transition-shadow",children:(0,Fn.jsxs)("div",{className:"p-6",children:[(0,Fn.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("h3",{className:"text-2xl font-black text-primary mb-1",children:e.customer_name}),(0,Fn.jsx)("p",{className:"text-sm text-gray-600",children:e.customer_phone})]}),(0,Fn.jsx)("div",{className:"px-4 py-2 rounded-full font-bold ".concat("confirmed"===e.status?"bg-green-100 text-green-700":"pending"===e.status?"bg-orange-100 text-orange-700":"completed"===e.status?"bg-blue-100 text-blue-700":"bg-red-100 text-red-700"),children:"confirmed"===e.status?"\u2705 Confirm\xe9e":"pending"===e.status?"\u23f3 En attente":"completed"===e.status?"\ud83c\udf89 Termin\xe9e":"\u274c Annul\xe9e"})]}),(0,Fn.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4 bg-gray-50 p-4 rounded-lg",children:[(0,Fn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Fn.jsx)(aa,{className:"w-5 h-5 text-gray-400"}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"text-xs text-gray-500",children:"Date"}),(0,Fn.jsx)("p",{className:"font-bold",children:new Date(e.date).toLocaleDateString("fr-FR")})]})]}),(0,Fn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Fn.jsx)(el,{className:"w-5 h-5 text-gray-400"}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"text-xs text-gray-500",children:"Heure"}),(0,Fn.jsx)("p",{className:"font-bold",children:e.time})]})]}),(0,Fn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Fn.jsx)(ra,{className:"w-5 h-5 text-gray-400"}),(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("p",{className:"text-xs text-gray-500",children:"Personnes"}),(0,Fn.jsx)("p",{className:"font-bold",children:e.party_size})]})]})]}),e.notes&&(0,Fn.jsx)("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded",children:(0,Fn.jsx)("p",{className:"text-sm",children:e.notes})}),(0,Fn.jsxs)("div",{className:"flex gap-2 flex-wrap",children:["pending"===e.status&&(0,Fn.jsxs)(Fn.Fragment,{children:[(0,Fn.jsxs)(is,{onClick:()=>(async e=>{try{await pn.put("".concat(Ii,"/api/v1/admin/reservations/").concat(e),{status:"confirmed"}),i(),alert("\u2705 R\xe9servation confirm\xe9e")}catch(t){alert("\u274c Erreur")}})(e.id),className:"flex-1 bg-green-600 hover:bg-green-700",children:[(0,Fn.jsx)(Ks,{className:"w-4 h-4 mr-2"}),"Confirmer"]}),(0,Fn.jsxs)(is,{onClick:()=>o(e.id),variant:"outline",className:"flex-1",children:[(0,Fn.jsx)(rl,{className:"w-4 h-4 mr-2"}),"Refuser"]})]}),"confirmed"===e.status&&(0,Fn.jsxs)(Fn.Fragment,{children:[(0,Fn.jsxs)(is,{onClick:()=>(async e=>{try{await pn.put("".concat(Ii,"/api/v1/admin/reservations/").concat(e),{status:"completed"}),i(),alert("\u2705 Client arriv\xe9")}catch(t){alert("\u274c Erreur")}})(e.id),className:"flex-1",children:[(0,Fn.jsx)(Ks,{className:"w-4 h-4 mr-2"}),"Client arriv\xe9"]}),(0,Fn.jsxs)(is,{onClick:()=>o(e.id),variant:"outline",className:"flex-1",children:[(0,Fn.jsx)(rl,{className:"w-4 h-4 mr-2"}),"Annuler"]})]})]})]})},e.id))}),(0,Fn.jsx)("div",{className:"mt-6 text-center",children:(0,Fn.jsx)("button",{onClick:()=>window.location.href="/admin/orders-mode",className:"text-gray-600 hover:text-primary",children:"\u2190 Retour au Mode Commande"})})]})]})},qi=e=>{let{mode:t="orders",onSuccess:r}=e;const[n,a]=(0,s.useState)(""),[l,i]=(0,s.useState)(""),[o,c]=(0,s.useState)(!1);return(0,Fn.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary to-orange-500 flex items-center justify-center p-4",children:(0,Fn.jsx)(vs,{className:"w-full max-w-md",children:(0,Fn.jsxs)("div",{className:"p-8",children:[(0,Fn.jsxs)("div",{className:"text-center mb-8",children:[(0,Fn.jsx)("div",{className:"inline-block p-4 bg-primary/10 rounded-full mb-4",children:(0,Fn.jsx)(fl,{className:"w-12 h-12 text-primary"})}),(0,Fn.jsxs)("h1",{className:"text-3xl font-black text-gray-900 mb-2",children:["Mode ",{orders:"Commande",delivery:"Livraison",reservation:"R\xe9servation"}[t]]}),(0,Fn.jsx)("p",{className:"text-gray-600",children:"Entrez votre code PIN \xe0 4 chiffres"})]}),(0,Fn.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(""),c(!0);try{await pn.post("".concat("https://react-reborn.preview.emergentagent.com","/api/v1/admin/verify-pin"),{pin:n,mode:t}),sessionStorage.setItem("".concat(t,"_mode_auth"),"true"),r?r():window.location.href="/admin/".concat(t,"-mode")}catch(s){i("Code PIN incorrect"),a("")}finally{c(!1)}},className:"space-y-6",children:[(0,Fn.jsxs)("div",{children:[(0,Fn.jsx)("input",{type:"text",inputMode:"numeric",pattern:"\\d{4}",maxLength:"4",value:n,onChange:e=>{var t;(t=e.target.value).length<=4&&/^\d*$/.test(t)&&(a(t),i(""))},placeholder:"\u2022\u2022\u2022\u2022",className:"w-full text-center text-4xl font-bold tracking-widest px-4 py-4 border-2 rounded-lg ".concat(l?"border-red-500":"border-gray-300"," focus:border-primary focus:outline-none"),autoFocus:!0}),l&&(0,Fn.jsx)("p",{className:"text-red-600 text-sm mt-2 text-center",children:l})]}),(0,Fn.jsx)(is,{type:"submit",className:"w-full py-4 text-lg",disabled:4!==n.length||o,children:o?"V\xe9rification...":"Acc\xe9der"}),(0,Fn.jsx)("div",{className:"text-center",children:(0,Fn.jsx)("button",{type:"button",onClick:()=>window.location.href="/admin",className:"text-sm text-gray-600 hover:text-primary",children:"\u2190 Retour \xe0 l'admin"})})]})]})})})};const Bi=function(){return(0,Fn.jsx)(Dn,{children:(0,Fn.jsx)(Oe,{basename:"/admin",children:(0,Fn.jsxs)(we,{children:[(0,Fn.jsx)(je,{path:"/admin/login",element:(0,Fn.jsx)(ks,{})}),(0,Fn.jsx)(je,{path:"/admin/kiosk",element:(0,Fn.jsx)(wi,{})}),(0,Fn.jsx)(je,{path:"/admin/orders-mode-login",element:(0,Fn.jsx)(qi,{mode:"orders"})}),(0,Fn.jsx)(je,{path:"/admin/orders-mode",element:(0,Fn.jsx)(Li,{})}),(0,Fn.jsx)(je,{path:"/admin/delivery-mode-login",element:(0,Fn.jsx)(qi,{mode:"delivery"})}),(0,Fn.jsx)(je,{path:"/admin/delivery-mode",element:(0,Fn.jsx)(Di,{})}),(0,Fn.jsx)(je,{path:"/admin/reservation-mode-login",element:(0,Fn.jsx)(qi,{mode:"reservation"})}),(0,Fn.jsx)(je,{path:"/admin/reservation-mode",element:(0,Fn.jsx)(Ui,{})}),(0,Fn.jsxs)(je,{path:"/admin",element:(0,Fn.jsx)(ss,{}),children:[(0,Fn.jsx)(je,{index:!0,element:(0,Fn.jsx)(Os,{})}),(0,Fn.jsx)(je,{path:"ai",element:(0,Fn.jsx)(kl,{})}),(0,Fn.jsx)(je,{path:"ai-marketing/campaigns",element:(0,Fn.jsx)(Gl,{})}),(0,Fn.jsx)(je,{path:"ai-marketing/history",element:(0,Fn.jsx)(Kl,{})}),(0,Fn.jsx)(je,{path:"ai-marketing/settings",element:(0,Fn.jsx)(Yl,{})}),(0,Fn.jsx)(je,{path:"ai-marketing-temp",element:(0,Fn.jsx)(Ti,{})}),(0,Fn.jsx)(je,{path:"menu",element:(0,Fn.jsx)(vi,{})}),(0,Fn.jsx)(je,{path:"products",element:(0,Fn.jsx)(Gs,{})}),(0,Fn.jsx)(je,{path:"options",element:(0,Fn.jsx)(ri,{})}),(0,Fn.jsx)(je,{path:"orders",element:(0,Fn.jsx)(ol,{})}),(0,Fn.jsx)(je,{path:"revenue",element:(0,Fn.jsx)(Ci,{})}),(0,Fn.jsx)(je,{path:"categories",element:(0,Fn.jsx)(ul,{})}),(0,Fn.jsx)(je,{path:"promotions",element:(0,Fn.jsx)(zl,{})}),(0,Fn.jsx)(je,{path:"customers",element:(0,Fn.jsx)(Ul,{})}),(0,Fn.jsx)(je,{path:"notifications",element:(0,Fn.jsx)(Hl,{})}),(0,Fn.jsx)(je,{path:"reservations",element:(0,Fn.jsx)(Wl,{})}),(0,Fn.jsx)(je,{path:"settings",element:(0,Fn.jsx)(jl,{})}),(0,Fn.jsx)(je,{path:"ticket-z",element:(0,Fn.jsx)(Ei,{})})]}),(0,Fn.jsx)(je,{path:"*",element:(0,Fn.jsx)(be,{to:"/admin",replace:!0})})]})})})};i.createRoot(document.getElementById("root")).render((0,Fn.jsx)(s.StrictMode,{children:(0,Fn.jsx)(Bi,{})}))})();
//# sourceMappingURL=main.f7f477b4.js.map