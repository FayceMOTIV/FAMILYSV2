/*! For license information please see main.d497b4ac.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,r)&&!o.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:d,props:s,_owner:i.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,f={};function g(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var v=b.prototype=new y;v.constructor=b,x(v,g.prototype),v.isPureReactComponent=!0;var j=Array.isArray,w=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var a,s={},l=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(l=""+t.key),t)w.call(t,a)&&!k.hasOwnProperty(a)&&(s[a]=t[a]);var o=arguments.length-2;if(1===o)s.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(a in o=e.defaultProps)void 0===s[a]&&(s[a]=o[a]);return{$$typeof:n,type:e,key:l,ref:i,props:s,_owner:N.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,a,s,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case n:case r:o=!0}}if(o)return l=l(o=e),e=""===s?"."+E(o,0):s,j(l)?(a="",null!=e&&(a=e.replace(S,"$&/")+"/"),P(l,t,a,"",function(e){return e})):null!=l&&(C(l)&&(l=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,a+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(S,"$&/")+"/")+e)),t.push(l)),1;if(o=0,s=""===s?".":s+":",j(e))for(var c=0;c<e.length;c++){var d=s+E(i=e[c],c);o+=P(i,t,a,d,l)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(i=e.next()).done;)o+=P(i=i.value,t,a,d=s+E(i,c++),l);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function O(e,t,n){if(null==e)return e;var r=[],a=0;return P(e,r,"","",function(e){return t.call(n,e,a++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},z={transition:null},A={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:z,ReactCurrentOwner:N};function F(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:O,forEach:function(e,t,n){O(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return O(e,function(){t++}),t},toArray:function(e){return O(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=l,t.PureComponent=b,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.act=F,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=x({},e.props),s=e.key,l=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,i=N.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)w.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];a.children=o}return{$$typeof:n,type:e.type,key:s,ref:l,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=z.transition;z.transition={};try{e()}finally{z.transition=t}},t.unstable_act=F,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,n){return T.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,n){return T.current.useReducer(e,t,n)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,l=a>>>1;r<l;){var i=2*(r+1)-1,o=e[i],c=i+1,d=e[c];if(0>s(o,n))c<a&&0>s(d,o)?(e[r]=d,e[c]=n,r=c):(e[r]=o,e[i]=n,r=i);else{if(!(c<a&&0>s(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,m=null,p=3,h=!1,x=!1,f=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=r(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function j(e){if(f=!1,v(e),!x)if(null!==r(c))x=!0,z(w);else{var t=r(d);null!==t&&A(j,t.startTime-e)}}function w(e,n){x=!1,f&&(f=!1,y(C),C=-1),h=!0;var s=p;try{for(v(n),m=r(c);null!==m&&(!(m.expirationTime>n)||e&&!P());){var l=m.callback;if("function"===typeof l){m.callback=null,p=m.priorityLevel;var i=l(m.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?m.callback=i:m===r(c)&&a(c),v(n)}else a(c);m=r(c)}if(null!==m)var o=!0;else{var u=r(d);null!==u&&A(j,u.startTime-n),o=!1}return o}finally{m=null,p=s,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,_=null,C=-1,S=5,E=-1;function P(){return!(t.unstable_now()-E<S)}function O(){if(null!==_){var e=t.unstable_now();E=e;var n=!0;try{n=_(!0,e)}finally{n?N():(k=!1,_=null)}}else k=!1}if("function"===typeof b)N=function(){b(O)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,T=R.port2;R.port1.onmessage=O,N=function(){T.postMessage(null)}}else N=function(){g(O,0)};function z(e){_=e,k||(k=!0,N())}function A(e,n){C=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){x||h||(x=!0,z(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,a,s){var l=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?l+s:l:s=l,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>l?(e.sortIndex=s,n(d,e),null===r(c)&&e===r(d)&&(f?(y(C),C=-1):f=!0,A(j,s-l))):(e.sortIndex=i,n(c,e),x||h||(x=!0,z(w))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),a=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,i={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)l.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function x(e,t,n,r,a,s,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){f[e]=new x(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];f[t]=new x(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){f[e]=new x(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){f[e]=new x(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){f[e]=new x(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){f[e]=new x(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){f[e]=new x(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){f[e]=new x(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){f[e]=new x(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=f.hasOwnProperty(t)?f[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!u.call(h,e)||!u.call(p,e)&&(m.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,y);f[t]=new x(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,y);f[t]=new x(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,y);f[t]=new x(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){f[e]=new x(e,1,!1,e.toLowerCase(),null,!1,!1)}),f.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){f[e]=new x(e,1,!1,e.toLowerCase(),null,!0,!0)});var v=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),w=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),S=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var z=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var L,M=Object.assign;function D(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var I=!1;function q(e,t){if(!e||I)return"";I=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=r.stack.split("\n"),l=a.length-1,i=s.length-1;1<=l&&0<=i&&a[l]!==s[i];)i--;for(;1<=l&&0<=i;l--,i--)if(a[l]!==s[i]){if(1!==l||1!==i)do{if(l--,0>--i||a[l]!==s[i]){var o="\n"+a[l].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=l&&0<=i);break}}}finally{I=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function U(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=q(e.type,!1);case 11:return e=q(e.type.render,!1);case 1:return e=q(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case w:return"Portal";case _:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Y(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function xe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function fe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=xe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(pe).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ne=null,ke=null;function _e(e){if(e=va(e)){if("function"!==typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=wa(t),we(e.stateNode,e.type,t))}}function Ce(e){Ne?ke?ke.push(e):ke=[e]:Ne=e}function Se(){if(Ne){var e=Ne,t=ke;if(ke=Ne=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ee(e,t){return e(t)}function Pe(){}var Oe=!1;function Re(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Ee(e,t,n)}finally{Oe=!1,(null!==Ne||null!==ke)&&(Pe(),Se())}}function Te(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var ze=!1;if(d)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(de){ze=!1}function Fe(e,t,n,r,a,s,l,i,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Le=!1,Me=null,De=!1,Ie=null,qe={onError:function(e){Le=!0,Me=e}};function Ue(e,t,n,r,a,s,l,i,o){Le=!1,Me=null,Fe.apply(qe,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(s(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var l=a.alternate;if(null===l){if(null!==(r=a.return)){n=r;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return He(a),e;if(l===r)return He(a),t;l=l.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=l;else{for(var i=!1,o=a.child;o;){if(o===n){i=!0,n=a,r=l;break}if(o===r){i=!0,r=a,n=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===n){i=!0,n=l,r=a;break}if(o===r){i=!0,r=l,n=a;break}o=o.sibling}if(!i)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Qe=a.unstable_scheduleCallback,Ge=a.unstable_cancelCallback,Je=a.unstable_shouldYield,Ke=a.unstable_requestPaint,Xe=a.unstable_now,Ye=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,st=null;var lt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/ot|0)|0},it=Math.log,ot=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,l=268435455&n;if(0!==l){var i=l&~a;0!==i?r=ut(i):0!==(s&=l)&&(r=ut(s))}else 0!==(l=n&~a)?r=ut(l):0!==s&&(r=ut(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-lt(t)),r|=e[n],t&=~a;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function xt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function ft(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-lt(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,wt,Nt,kt,_t,Ct=!1,St=[],Et=null,Pt=null,Ot=null,Rt=new Map,Tt=new Map,zt=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Lt(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=va(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Mt(e){var t=ba(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void _t(e.priority,function(){Nt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=va(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ve=r,n.target.dispatchEvent(r),ve=null,t.shift()}return!0}function It(e,t,n){Dt(e)&&n.delete(t)}function qt(){Ct=!1,null!==Et&&Dt(Et)&&(Et=null),null!==Pt&&Dt(Pt)&&(Pt=null),null!==Ot&&Dt(Ot)&&(Ot=null),Rt.forEach(It),Tt.forEach(It)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,qt)))}function Bt(e){function t(t){return Ut(t,e)}if(0<St.length){Ut(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Ut(Et,e),null!==Pt&&Ut(Pt,e),null!==Ot&&Ut(Ot,e),Rt.forEach(t),Tt.forEach(t),n=0;n<zt.length;n++)(r=zt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<zt.length&&null===(n=zt[0]).blockedOn;)Mt(n),null===n.blockedOn&&zt.shift()}var Vt=v.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var a=bt,s=Vt.transition;Vt.transition=null;try{bt=1,Qt(e,t,n,r)}finally{bt=a,Vt.transition=s}}function $t(e,t,n,r){var a=bt,s=Vt.transition;Vt.transition=null;try{bt=4,Qt(e,t,n,r)}finally{bt=a,Vt.transition=s}}function Qt(e,t,n,r){if(Ht){var a=Jt(e,t,n,r);if(null===a)Hr(e,t,r,Gt,n),Ft(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Et=Lt(Et,e,t,n,r,a),!0;case"dragenter":return Pt=Lt(Pt,e,t,n,r,a),!0;case"mouseover":return Ot=Lt(Ot,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Rt.set(s,Lt(Rt.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Tt.set(s,Lt(Tt.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Ft(e,r),4&t&&-1<At.indexOf(e)){for(;null!==a;){var s=va(a);if(null!==s&&jt(s),null===(s=Jt(e,t,n,r))&&Hr(e,t,r,Gt,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Gt=null;function Jt(e,t,n,r){if(Gt=null,null!==(e=ba(e=je(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Yt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Yt,r=n.length,a="value"in Xt?Xt.value:Xt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var l=r-e;for(t=1;t<=l&&n[r-t]===a[s-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,s){for(var l in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(a):a[l]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,ln,on,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(cn),un=M({},cn,{view:0,detail:0}),mn=an(un),pn=M({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(sn=e.screenX-on.screenX,ln=e.screenY-on.screenY):ln=sn=0,on=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),hn=an(pn),xn=an(M({},pn,{dataTransfer:0})),fn=an(M({},un,{relatedTarget:0})),gn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),vn=an(M({},cn,{data:0})),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function _n(){return kn}var Cn=M({},un,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=an(Cn),En=an(M({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=an(M({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),On=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=M({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=an(Rn),zn=[9,13,27,32],An=d&&"CompositionEvent"in window,Fn=null;d&&"documentMode"in document&&(Fn=document.documentMode);var Ln=d&&"TextEvent"in window&&!Fn,Mn=d&&(!An||Fn&&8<Fn&&11>=Fn),Dn=String.fromCharCode(32),In=!1;function qn(e,t){switch(e){case"keyup":return-1!==zn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ce(r),0<(t=$r(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Qn=null;function Gn(e){Dr(e,0)}function Jn(e){if(Q(ja(e)))return e}function Kn(e,t){if("change"===e)return t}var Xn=!1;if(d){var Yn;if(d){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Yn=Zn}else Yn=!1;Xn=Yn&&(!document.documentMode||9<document.documentMode)}function tr(){$n&&($n.detachEvent("onpropertychange",nr),Qn=$n=null)}function nr(e){if("value"===e.propertyName&&Jn(Qn)){var t=[];Wn(t,Qn,e,je(e)),Re(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,($n=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Qn)}function sr(e,t){if("click"===e)return Jn(t)}function lr(e,t){if("input"===e||"change"===e)return Jn(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!u.call(t,a)||!ir(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=mr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=dr(n,s);var l=dr(n,r);a&&l&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xr=d&&"documentMode"in document&&11>=document.documentMode,fr=null,gr=null,yr=null,br=!1;function vr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==fr||fr!==G(r)||("selectionStart"in(r=fr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&or(yr,r)||(yr=r,0<(r=$r(gr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=fr)))}function jr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionend:jr("Transition","TransitionEnd")},Nr={},kr={};function _r(e){if(Nr[e])return Nr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Nr[e]=n[t];return e}d&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Cr=_r("animationend"),Sr=_r("animationiteration"),Er=_r("animationstart"),Pr=_r("transitionend"),Or=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){Or.set(e,t),o(t,[e])}for(var zr=0;zr<Rr.length;zr++){var Ar=Rr[zr];Tr(Ar.toLowerCase(),"on"+(Ar[0].toUpperCase()+Ar.slice(1)))}Tr(Cr,"onAnimationEnd"),Tr(Sr,"onAnimationIteration"),Tr(Er,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,l,i,o,c){if(Ue.apply(this,arguments),Le){if(!Le)throw Error(s(198));var d=Me;Le=!1,Me=null,De||(De=!0,Ie=d)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var l=r.length-1;0<=l;l--){var i=r[l],o=i.instance,c=i.currentTarget;if(i=i.listener,o!==s&&a.isPropagationStopped())break e;Mr(a,i,c),s=o}else for(l=0;l<r.length;l++){if(o=(i=r[l]).instance,c=i.currentTarget,i=i.listener,o!==s&&a.isPropagationStopped())break e;Mr(a,i,c),s=o}}}if(De)throw e=Ie,De=!1,Ie=null,e}function Ir(e,t){var n=t[fa];void 0===n&&(n=t[fa]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function qr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Ur]){e[Ur]=!0,l.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||qr(t,!1,e),qr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,qr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Kt(t)){case 1:var a=Wt;break;case 4:a=$t;break;default:a=Qt}n=a.bind(null,t,n,e),a=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var l=r.tag;if(3===l||4===l){var i=r.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===l)for(l=r.return;null!==l;){var o=l.tag;if((3===o||4===o)&&((o=l.stateNode.containerInfo)===a||8===o.nodeType&&o.parentNode===a))return;l=l.return}for(;null!==i;){if(null===(l=ba(i)))return;if(5===(o=l.tag)||6===o){r=s=l;continue e}i=i.parentNode}}r=r.return}Re(function(){var r=s,a=je(n),l=[];e:{var i=Or.get(e);if(void 0!==i){var o=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":o=Sn;break;case"focusin":c="focus",o=fn;break;case"focusout":c="blur",o=fn;break;case"beforeblur":case"afterblur":o=fn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=xn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Pn;break;case Cr:case Sr:case Er:o=gn;break;case Pr:o=On;break;case"scroll":o=mn;break;case"wheel":o=Tn;break;case"copy":case"cut":case"paste":o=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=En}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==i?i+"Capture":null:i;d=[];for(var p,h=r;null!==h;){var x=(p=h).stateNode;if(5===p.tag&&null!==x&&(p=x,null!==m&&(null!=(x=Te(h,m))&&d.push(Wr(h,x,p)))),u)break;h=h.return}0<d.length&&(i=new o(i,c,null,n,a),l.push({event:i,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===ve||!(c=n.relatedTarget||n.fromElement)||!ba(c)&&!c[xa])&&(o||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=r,null!==(c=(c=n.relatedTarget||n.toElement)?ba(c):null)&&(c!==(u=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=r),o!==c)){if(d=hn,x="onMouseLeave",m="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=En,x="onPointerLeave",m="onPointerEnter",h="pointer"),u=null==o?i:ja(o),p=null==c?i:ja(c),(i=new d(x,h+"leave",o,n,a)).target=u,i.relatedTarget=p,x=null,ba(a)===r&&((d=new d(m,h+"enter",c,n,a)).target=p,d.relatedTarget=u,x=d),u=x,o&&c)e:{for(m=c,h=0,p=d=o;p;p=Qr(p))h++;for(p=0,x=m;x;x=Qr(x))p++;for(;0<h-p;)d=Qr(d),h--;for(;0<p-h;)m=Qr(m),p--;for(;h--;){if(d===m||null!==m&&d===m.alternate)break e;d=Qr(d),m=Qr(m)}d=null}else d=null;null!==o&&Gr(l,i,o,d,!1),null!==c&&null!==u&&Gr(l,u,c,d,!0)}if("select"===(o=(i=r?ja(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===o&&"file"===i.type)var f=Kn;else if(Hn(i))if(Xn)f=lr;else{f=ar;var g=rr}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(f=sr);switch(f&&(f=f(e,r))?Wn(l,f,n,a):(g&&g(e,i,r),"focusout"===e&&(g=i._wrapperState)&&g.controlled&&"number"===i.type&&ee(i,"number",i.value)),g=r?ja(r):window,e){case"focusin":(Hn(g)||"true"===g.contentEditable)&&(fr=g,gr=r,yr=null);break;case"focusout":yr=gr=fr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,vr(l,n,a);break;case"selectionchange":if(xr)break;case"keydown":case"keyup":vr(l,n,a)}var y;if(An)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?qn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Yt="value"in(Xt=a)?Xt.value:Xt.textContent,Bn=!0)),0<(g=$r(r,b)).length&&(b=new vn(b,e,null,n,a),l.push({event:b,listeners:g}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(In=!0,Dn);case"textInput":return(e=t.data)===Dn&&In?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!An&&qn(e,t)?(e=en(),Zt=Yt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=$r(r,"onBeforeInput")).length&&(a=new vn("onBeforeInput","beforeinput",null,n,a),l.push({event:a,listeners:r}),a.data=y))}Dr(l,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $r(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Te(e,n))&&r.unshift(Wr(e,s,a)),null!=(s=Te(e,t))&&r.push(Wr(e,s,a))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,a){for(var s=t._reactName,l=[];null!==n&&n!==r;){var i=n,o=i.alternate,c=i.stateNode;if(null!==o&&o===r)break;5===i.tag&&null!==c&&(i=c,a?null!=(o=Te(n,s))&&l.unshift(Wr(n,o,i)):a||null!=(o=Te(n,s))&&l.push(Wr(n,o,i))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var Jr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Kr,"")}function Yr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,la="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(ia)}:ra;function ia(e){setTimeout(function(){throw e})}function oa(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Bt(t)}function da(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ma=Math.random().toString(36).slice(2),pa="__reactFiber$"+ma,ha="__reactProps$"+ma,xa="__reactContainer$"+ma,fa="__reactEvents$"+ma,ga="__reactListeners$"+ma,ya="__reactHandles$"+ma;function ba(e){var t=e[pa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xa]||n[pa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[pa])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function va(e){return!(e=e[pa]||e[xa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ja(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wa(e){return e[ha]||null}var Na=[],ka=-1;function _a(e){return{current:e}}function Ca(e){0>ka||(e.current=Na[ka],Na[ka]=null,ka--)}function Sa(e,t){ka++,Na[ka]=e.current,e.current=t}var Ea={},Pa=_a(Ea),Oa=_a(!1),Ra=Ea;function Ta(e,t){var n=e.type.contextTypes;if(!n)return Ea;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function za(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Aa(){Ca(Oa),Ca(Pa)}function Fa(e,t,n){if(Pa.current!==Ea)throw Error(s(168));Sa(Pa,t),Sa(Oa,n)}function La(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,V(e)||"Unknown",a));return M({},n,r)}function Ma(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ea,Ra=Pa.current,Sa(Pa,e),Sa(Oa,Oa.current),!0}function Da(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=La(e,t,Ra),r.__reactInternalMemoizedMergedChildContext=e,Ca(Oa),Ca(Pa),Sa(Pa,e)):Ca(Oa),Sa(Oa,n)}var Ia=null,qa=!1,Ua=!1;function Ba(e){null===Ia?Ia=[e]:Ia.push(e)}function Va(){if(!Ua&&null!==Ia){Ua=!0;var e=0,t=bt;try{var n=Ia;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ia=null,qa=!1}catch(a){throw null!==Ia&&(Ia=Ia.slice(e+1)),Qe(Ze,Va),a}finally{bt=t,Ua=!1}}return null}var Ha=[],Wa=0,$a=null,Qa=0,Ga=[],Ja=0,Ka=null,Xa=1,Ya="";function Za(e,t){Ha[Wa++]=Qa,Ha[Wa++]=$a,$a=e,Qa=t}function es(e,t,n){Ga[Ja++]=Xa,Ga[Ja++]=Ya,Ga[Ja++]=Ka,Ka=e;var r=Xa;e=Ya;var a=32-lt(r)-1;r&=~(1<<a),n+=1;var s=32-lt(t)+a;if(30<s){var l=a-a%5;s=(r&(1<<l)-1).toString(32),r>>=l,a-=l,Xa=1<<32-lt(t)+a|n<<a|r,Ya=s+e}else Xa=1<<s|n<<a|r,Ya=e}function ts(e){null!==e.return&&(Za(e,1),es(e,1,0))}function ns(e){for(;e===$a;)$a=Ha[--Wa],Ha[Wa]=null,Qa=Ha[--Wa],Ha[Wa]=null;for(;e===Ka;)Ka=Ga[--Ja],Ga[Ja]=null,Ya=Ga[--Ja],Ga[Ja]=null,Xa=Ga[--Ja],Ga[Ja]=null}var rs=null,as=null,ss=!1,ls=null;function is(e,t){var n=Tc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,rs=e,as=da(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,rs=e,as=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ka?{id:Xa,overflow:Ya}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Tc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,rs=e,as=null,!0);default:return!1}}function cs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ds(e){if(ss){var t=as;if(t){var n=t;if(!os(e,t)){if(cs(e))throw Error(s(418));t=da(n.nextSibling);var r=rs;t&&os(e,t)?is(r,n):(e.flags=-4097&e.flags|2,ss=!1,rs=e)}}else{if(cs(e))throw Error(s(418));e.flags=-4097&e.flags|2,ss=!1,rs=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rs=e}function ms(e){if(e!==rs)return!1;if(!ss)return us(e),ss=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=as)){if(cs(e))throw ps(),Error(s(418));for(;t;)is(e,t),t=da(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){as=da(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}as=null}}else as=rs?da(e.stateNode.nextSibling):null;return!0}function ps(){for(var e=as;e;)e=da(e.nextSibling)}function hs(){as=rs=null,ss=!1}function xs(e){null===ls?ls=[e]:ls.push(e)}var fs=v.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,l=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=a.refs;null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bs(e){return(0,e._init)(e._payload)}function vs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ac(e,t)).index=0,e.sibling=null,e}function l(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,r){return null===t||6!==t.tag?((t=Dc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===N?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===T&&bs(s)===t.type)?((r=a(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Fc(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ic(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function u(e,t,n,r,s){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(n=Fc(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case w:return(t=Ic(t,e.mode,n)).return=e,t;case T:return m(e,(0,t._init)(t._payload),n)}if(te(t)||F(t))return(t=Lc(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:o(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return n.key===a?c(e,t,n,r):null;case w:return n.key===a?d(e,t,n,r):null;case T:return p(e,t,(a=n._init)(n._payload),r)}if(te(n)||F(n))return null!==a?null:u(e,t,n,r,null);ys(e,n)}return null}function h(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return o(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case j:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case w:return d(t,e=e.get(null===r.key?n:r.key)||null,r,a);case T:return h(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||F(r))return u(t,e=e.get(n)||null,r,a,null);ys(t,r)}return null}function x(a,s,i,o){for(var c=null,d=null,u=s,x=s=0,f=null;null!==u&&x<i.length;x++){u.index>x?(f=u,u=null):f=u.sibling;var g=p(a,u,i[x],o);if(null===g){null===u&&(u=f);break}e&&u&&null===g.alternate&&t(a,u),s=l(g,s,x),null===d?c=g:d.sibling=g,d=g,u=f}if(x===i.length)return n(a,u),ss&&Za(a,x),c;if(null===u){for(;x<i.length;x++)null!==(u=m(a,i[x],o))&&(s=l(u,s,x),null===d?c=u:d.sibling=u,d=u);return ss&&Za(a,x),c}for(u=r(a,u);x<i.length;x++)null!==(f=h(u,a,x,i[x],o))&&(e&&null!==f.alternate&&u.delete(null===f.key?x:f.key),s=l(f,s,x),null===d?c=f:d.sibling=f,d=f);return e&&u.forEach(function(e){return t(a,e)}),ss&&Za(a,x),c}function f(a,i,o,c){var d=F(o);if("function"!==typeof d)throw Error(s(150));if(null==(o=d.call(o)))throw Error(s(151));for(var u=d=null,x=i,f=i=0,g=null,y=o.next();null!==x&&!y.done;f++,y=o.next()){x.index>f?(g=x,x=null):g=x.sibling;var b=p(a,x,y.value,c);if(null===b){null===x&&(x=g);break}e&&x&&null===b.alternate&&t(a,x),i=l(b,i,f),null===u?d=b:u.sibling=b,u=b,x=g}if(y.done)return n(a,x),ss&&Za(a,f),d;if(null===x){for(;!y.done;f++,y=o.next())null!==(y=m(a,y.value,c))&&(i=l(y,i,f),null===u?d=y:u.sibling=y,u=y);return ss&&Za(a,f),d}for(x=r(a,x);!y.done;f++,y=o.next())null!==(y=h(x,a,f,y.value,c))&&(e&&null!==y.alternate&&x.delete(null===y.key?f:y.key),i=l(y,i,f),null===u?d=y:u.sibling=y,u=y);return e&&x.forEach(function(e){return t(a,e)}),ss&&Za(a,f),d}return function e(r,s,l,o){if("object"===typeof l&&null!==l&&l.type===N&&null===l.key&&(l=l.props.children),"object"===typeof l&&null!==l){switch(l.$$typeof){case j:e:{for(var c=l.key,d=s;null!==d;){if(d.key===c){if((c=l.type)===N){if(7===d.tag){n(r,d.sibling),(s=a(d,l.props.children)).return=r,r=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===T&&bs(c)===d.type){n(r,d.sibling),(s=a(d,l.props)).ref=gs(r,d,l),s.return=r,r=s;break e}n(r,d);break}t(r,d),d=d.sibling}l.type===N?((s=Lc(l.props.children,r.mode,o,l.key)).return=r,r=s):((o=Fc(l.type,l.key,l.props,null,r.mode,o)).ref=gs(r,s,l),o.return=r,r=o)}return i(r);case w:e:{for(d=l.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===l.containerInfo&&s.stateNode.implementation===l.implementation){n(r,s.sibling),(s=a(s,l.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Ic(l,r.mode,o)).return=r,r=s}return i(r);case T:return e(r,s,(d=l._init)(l._payload),o)}if(te(l))return x(r,s,l,o);if(F(l))return f(r,s,l,o);ys(r,l)}return"string"===typeof l&&""!==l||"number"===typeof l?(l=""+l,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,l)).return=r,r=s):(n(r,s),(s=Dc(l,r.mode,o)).return=r,r=s),i(r)):n(r,s)}}var js=vs(!0),ws=vs(!1),Ns=_a(null),ks=null,_s=null,Cs=null;function Ss(){Cs=_s=ks=null}function Es(e){var t=Ns.current;Ca(Ns),e._currentValue=t}function Ps(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Os(e,t){ks=e,Cs=_s=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bi=!0),e.firstContext=null)}function Rs(e){var t=e._currentValue;if(Cs!==e)if(e={context:e,memoizedValue:t,next:null},null===_s){if(null===ks)throw Error(s(308));_s=e,ks.dependencies={lanes:0,firstContext:e}}else _s=_s.next=e;return t}var Ts=null;function zs(e){null===Ts?Ts=[e]:Ts.push(e)}function As(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,zs(t)):(n.next=a.next,a.next=n),t.interleaved=n,Fs(e,r)}function Fs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ls=!1;function Ms(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ds(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Is(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Po)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Fs(e,n)}return null===(a=r.interleaved)?(t.next=t,zs(r)):(t.next=a.next,a.next=t),r.interleaved=t,Fs(e,n)}function Us(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Bs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=l:s=s.next=l,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vs(e,t,n,r){var a=e.updateQueue;Ls=!1;var s=a.firstBaseUpdate,l=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var o=i,c=o.next;o.next=null,null===l?s=c:l.next=c,l=o;var d=e.alternate;null!==d&&((i=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===i?d.firstBaseUpdate=c:i.next=c,d.lastBaseUpdate=o))}if(null!==s){var u=a.baseState;for(l=0,d=c=o=null,i=s;;){var m=i.lane,p=i.eventTime;if((r&m)===m){null!==d&&(d=d.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var h=e,x=i;switch(m=t,p=n,x.tag){case 1:if("function"===typeof(h=x.payload)){u=h.call(p,u,m);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(m="function"===typeof(h=x.payload)?h.call(p,u,m):h)||void 0===m)break e;u=M({},u,m);break e;case 2:Ls=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(m=a.effects)?a.effects=[i]:m.push(i))}else p={eventTime:p,lane:m,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===d?(c=d=p,o=u):d=d.next=p,l|=m;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(m=i).next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}if(null===d&&(o=u),a.baseState=o,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{l|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Mo|=l,e.lanes=l,e.memoizedState=u}}function Hs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var Ws={},$s=_a(Ws),Qs=_a(Ws),Gs=_a(Ws);function Js(e){if(e===Ws)throw Error(s(174));return e}function Ks(e,t){switch(Sa(Gs,t),Sa(Qs,e),Sa($s,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ca($s),Sa($s,t)}function Xs(){Ca($s),Ca(Qs),Ca(Gs)}function Ys(e){Js(Gs.current);var t=Js($s.current),n=oe(t,e.type);t!==n&&(Sa(Qs,e),Sa($s,n))}function Zs(e){Qs.current===e&&(Ca($s),Ca(Qs))}var el=_a(0);function tl(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nl=[];function rl(){for(var e=0;e<nl.length;e++)nl[e]._workInProgressVersionPrimary=null;nl.length=0}var al=v.ReactCurrentDispatcher,sl=v.ReactCurrentBatchConfig,ll=0,il=null,ol=null,cl=null,dl=!1,ul=!1,ml=0,pl=0;function hl(){throw Error(s(321))}function xl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function fl(e,t,n,r,a,l){if(ll=l,il=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,al.current=null===e||null===e.memoizedState?Zl:ei,e=n(r,a),ul){l=0;do{if(ul=!1,ml=0,25<=l)throw Error(s(301));l+=1,cl=ol=null,t.updateQueue=null,al.current=ti,e=n(r,a)}while(ul)}if(al.current=Yl,t=null!==ol&&null!==ol.next,ll=0,cl=ol=il=null,dl=!1,t)throw Error(s(300));return e}function gl(){var e=0!==ml;return ml=0,e}function yl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cl?il.memoizedState=cl=e:cl=cl.next=e,cl}function bl(){if(null===ol){var e=il.alternate;e=null!==e?e.memoizedState:null}else e=ol.next;var t=null===cl?il.memoizedState:cl.next;if(null!==t)cl=t,ol=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ol=e).memoizedState,baseState:ol.baseState,baseQueue:ol.baseQueue,queue:ol.queue,next:null},null===cl?il.memoizedState=cl=e:cl=cl.next=e}return cl}function vl(e,t){return"function"===typeof t?t(e):t}function jl(e){var t=bl(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ol,a=r.baseQueue,l=n.pending;if(null!==l){if(null!==a){var i=a.next;a.next=l.next,l.next=i}r.baseQueue=a=l,n.pending=null}if(null!==a){l=a.next,r=r.baseState;var o=i=null,c=null,d=l;do{var u=d.lane;if((ll&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=m,i=r):c=c.next=m,il.lanes|=u,Mo|=u}d=d.next}while(null!==d&&d!==l);null===c?i=r:c.next=o,ir(r,t.memoizedState)||(bi=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{l=a.lane,il.lanes|=l,Mo|=l,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wl(e){var t=bl(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,l=t.memoizedState;if(null!==a){n.pending=null;var i=a=a.next;do{l=e(l,i.action),i=i.next}while(i!==a);ir(l,t.memoizedState)||(bi=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Nl(){}function kl(e,t){var n=il,r=bl(),a=t(),l=!ir(r.memoizedState,a);if(l&&(r.memoizedState=a,bi=!0),r=r.queue,Ll(Sl.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||null!==cl&&1&cl.memoizedState.tag){if(n.flags|=2048,Rl(9,Cl.bind(null,n,r,a,t),void 0,null),null===Oo)throw Error(s(349));0!==(30&ll)||_l(n,t,a)}return a}function _l(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=il.updateQueue)?(t={lastEffect:null,stores:null},il.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Cl(e,t,n,r){t.value=n,t.getSnapshot=r,El(t)&&Pl(e)}function Sl(e,t,n){return n(function(){El(t)&&Pl(e)})}function El(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(r){return!0}}function Pl(e){var t=Fs(e,1);null!==t&&rc(t,e,1,-1)}function Ol(e){var t=yl();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:e},t.queue=e,e=e.dispatch=Gl.bind(null,il,e),[t.memoizedState,e]}function Rl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=il.updateQueue)?(t={lastEffect:null,stores:null},il.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Tl(){return bl().memoizedState}function zl(e,t,n,r){var a=yl();il.flags|=e,a.memoizedState=Rl(1|t,n,void 0,void 0===r?null:r)}function Al(e,t,n,r){var a=bl();r=void 0===r?null:r;var s=void 0;if(null!==ol){var l=ol.memoizedState;if(s=l.destroy,null!==r&&xl(r,l.deps))return void(a.memoizedState=Rl(t,n,s,r))}il.flags|=e,a.memoizedState=Rl(1|t,n,s,r)}function Fl(e,t){return zl(8390656,8,e,t)}function Ll(e,t){return Al(2048,8,e,t)}function Ml(e,t){return Al(4,2,e,t)}function Dl(e,t){return Al(4,4,e,t)}function Il(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ql(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Al(4,4,Il.bind(null,t,e),n)}function Ul(){}function Bl(e,t){var n=bl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vl(e,t){var n=bl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hl(e,t,n){return 0===(21&ll)?(e.baseState&&(e.baseState=!1,bi=!0),e.memoizedState=n):(ir(n,t)||(n=xt(),il.lanes|=n,Mo|=n,e.baseState=!0),t)}function Wl(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=sl.transition;sl.transition={};try{e(!1),t()}finally{bt=n,sl.transition=r}}function $l(){return bl().memoizedState}function Ql(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jl(e))Kl(t,n);else if(null!==(n=As(e,t,n,r))){rc(n,e,r,tc()),Xl(n,t,r)}}function Gl(e,t,n){var r=nc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jl(e))Kl(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=s(l,n);if(a.hasEagerState=!0,a.eagerState=i,ir(i,l)){var o=t.interleaved;return null===o?(a.next=a,zs(t)):(a.next=o.next,o.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=As(e,t,a,r))&&(rc(n,e,r,a=tc()),Xl(n,t,r))}}function Jl(e){var t=e.alternate;return e===il||null!==t&&t===il}function Kl(e,t){ul=dl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xl(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Yl={readContext:Rs,useCallback:hl,useContext:hl,useEffect:hl,useImperativeHandle:hl,useInsertionEffect:hl,useLayoutEffect:hl,useMemo:hl,useReducer:hl,useRef:hl,useState:hl,useDebugValue:hl,useDeferredValue:hl,useTransition:hl,useMutableSource:hl,useSyncExternalStore:hl,useId:hl,unstable_isNewReconciler:!1},Zl={readContext:Rs,useCallback:function(e,t){return yl().memoizedState=[e,void 0===t?null:t],e},useContext:Rs,useEffect:Fl,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zl(4194308,4,Il.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zl(4194308,4,e,t)},useInsertionEffect:function(e,t){return zl(4,2,e,t)},useMemo:function(e,t){var n=yl();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yl();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ql.bind(null,il,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yl().memoizedState=e},useState:Ol,useDebugValue:Ul,useDeferredValue:function(e){return yl().memoizedState=e},useTransition:function(){var e=Ol(!1),t=e[0];return e=Wl.bind(null,e[1]),yl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=il,a=yl();if(ss){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Oo)throw Error(s(349));0!==(30&ll)||_l(r,t,n)}a.memoizedState=n;var l={value:n,getSnapshot:t};return a.queue=l,Fl(Sl.bind(null,r,l,e),[e]),r.flags|=2048,Rl(9,Cl.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=yl(),t=Oo.identifierPrefix;if(ss){var n=Ya;t=":"+t+"R"+(n=(Xa&~(1<<32-lt(Xa)-1)).toString(32)+n),0<(n=ml++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=pl++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ei={readContext:Rs,useCallback:Bl,useContext:Rs,useEffect:Ll,useImperativeHandle:ql,useInsertionEffect:Ml,useLayoutEffect:Dl,useMemo:Vl,useReducer:jl,useRef:Tl,useState:function(){return jl(vl)},useDebugValue:Ul,useDeferredValue:function(e){return Hl(bl(),ol.memoizedState,e)},useTransition:function(){return[jl(vl)[0],bl().memoizedState]},useMutableSource:Nl,useSyncExternalStore:kl,useId:$l,unstable_isNewReconciler:!1},ti={readContext:Rs,useCallback:Bl,useContext:Rs,useEffect:Ll,useImperativeHandle:ql,useInsertionEffect:Ml,useLayoutEffect:Dl,useMemo:Vl,useReducer:wl,useRef:Tl,useState:function(){return wl(vl)},useDebugValue:Ul,useDeferredValue:function(e){var t=bl();return null===ol?t.memoizedState=e:Hl(t,ol.memoizedState,e)},useTransition:function(){return[wl(vl)[0],bl().memoizedState]},useMutableSource:Nl,useSyncExternalStore:kl,useId:$l,unstable_isNewReconciler:!1};function ni(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ri(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ai={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),a=nc(e),s=Is(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=qs(e,s,a))&&(rc(t,e,a,r),Us(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),a=nc(e),s=Is(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=qs(e,s,a))&&(rc(t,e,a,r),Us(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),a=Is(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=qs(e,a,r))&&(rc(t,e,r,n),Us(t,e,r))}};function si(e,t,n,r,a,s,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,l):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(a,s))}function li(e,t,n){var r=!1,a=Ea,s=t.contextType;return"object"===typeof s&&null!==s?s=Rs(s):(a=za(t)?Ra:Pa.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ta(e,a):Ea),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function ii(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function oi(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Ms(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Rs(s):(s=za(t)?Ra:Pa.current,a.context=Ta(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ri(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ai.enqueueReplaceState(a,a.state,null),Vs(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function ci(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function di(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ui(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var mi="function"===typeof WeakMap?WeakMap:Map;function pi(e,t,n){(n=Is(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wo||(Wo=!0,$o=r),ui(0,t)},n}function hi(e,t,n){(n=Is(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ui(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ui(0,t),"function"!==typeof r&&(null===Qo?Qo=new Set([this]):Qo.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function xi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new mi;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function fi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gi(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Is(-1,1)).tag=2,qs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var yi=v.ReactCurrentOwner,bi=!1;function vi(e,t,n,r){t.child=null===e?ws(t,null,n,r):js(t,e.child,n,r)}function ji(e,t,n,r,a){n=n.render;var s=t.ref;return Os(t,a),r=fl(e,t,n,r,s,a),n=gl(),null===e||bi?(ss&&n&&ts(t),t.flags|=1,vi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hi(e,t,a))}function wi(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||zc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ni(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var l=s.memoizedProps;if((n=null!==(n=n.compare)?n:or)(l,r)&&e.ref===t.ref)return Hi(e,t,a)}return t.flags|=1,(e=Ac(s,r)).ref=t.ref,e.return=t,t.child=e}function Ni(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(or(s,r)&&e.ref===t.ref){if(bi=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,Hi(e,t,a);0!==(131072&e.flags)&&(bi=!0)}}return Ci(e,t,n,r,a)}function ki(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sa(Ao,zo),zo|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sa(Ao,zo),zo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Sa(Ao,zo),zo|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Sa(Ao,zo),zo|=r;return vi(e,t,a,n),t.child}function _i(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ci(e,t,n,r,a){var s=za(n)?Ra:Pa.current;return s=Ta(t,s),Os(t,a),n=fl(e,t,n,r,s,a),r=gl(),null===e||bi?(ss&&r&&ts(t),t.flags|=1,vi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hi(e,t,a))}function Si(e,t,n,r,a){if(za(n)){var s=!0;Ma(t)}else s=!1;if(Os(t,a),null===t.stateNode)Vi(e,t),li(t,n,r),oi(t,n,r,a),r=!0;else if(null===e){var l=t.stateNode,i=t.memoizedProps;l.props=i;var o=l.context,c=n.contextType;"object"===typeof c&&null!==c?c=Rs(c):c=Ta(t,c=za(n)?Ra:Pa.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof l.getSnapshotBeforeUpdate;u||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==r||o!==c)&&ii(t,l,r,c),Ls=!1;var m=t.memoizedState;l.state=m,Vs(t,r,l,a),o=t.memoizedState,i!==r||m!==o||Oa.current||Ls?("function"===typeof d&&(ri(t,n,d,r),o=t.memoizedState),(i=Ls||si(t,n,i,r,m,o,c))?(u||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=o),l.props=r,l.state=o,l.context=c,r=i):("function"===typeof l.componentDidMount&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Ds(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:ni(t.type,i),l.props=c,u=t.pendingProps,m=l.context,"object"===typeof(o=n.contextType)&&null!==o?o=Rs(o):o=Ta(t,o=za(n)?Ra:Pa.current);var p=n.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==u||m!==o)&&ii(t,l,r,o),Ls=!1,m=t.memoizedState,l.state=m,Vs(t,r,l,a);var h=t.memoizedState;i!==u||m!==h||Oa.current||Ls?("function"===typeof p&&(ri(t,n,p,r),h=t.memoizedState),(c=Ls||si(t,n,c,r,m,h,o)||!1)?(d||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(r,h,o),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(r,h,o)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),l.props=r,l.state=h,l.context=o,r=c):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Ei(e,t,n,r,s,a)}function Ei(e,t,n,r,a,s){_i(e,t);var l=0!==(128&t.flags);if(!r&&!l)return a&&Da(t,n,!1),Hi(e,t,s);r=t.stateNode,yi.current=t;var i=l&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&l?(t.child=js(t,e.child,null,s),t.child=js(t,null,i,s)):vi(e,t,i,s),t.memoizedState=r.state,a&&Da(t,n,!0),t.child}function Pi(e){var t=e.stateNode;t.pendingContext?Fa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fa(0,t.context,!1),Ks(e,t.containerInfo)}function Oi(e,t,n,r,a){return hs(),xs(a),t.flags|=256,vi(e,t,n,r),t.child}var Ri,Ti,zi,Ai,Fi={dehydrated:null,treeContext:null,retryLane:0};function Li(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mi(e,t,n){var r,a=t.pendingProps,l=el.current,i=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&l)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),Sa(el,1&l),null===e)return ds(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=a.children,e=a.fallback,i?(a=t.mode,i=t.child,o={mode:"hidden",children:o},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=o):i=Mc(o,a,0,null),e=Lc(e,a,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Li(n),t.memoizedState=Fi,e):Di(t,o));if(null!==(l=e.memoizedState)&&null!==(r=l.dehydrated))return function(e,t,n,r,a,l,i){if(n)return 256&t.flags?(t.flags&=-257,Ii(e,t,i,r=di(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=r.fallback,a=t.mode,r=Mc({mode:"visible",children:r.children},a,0,null),(l=Lc(l,a,i,null)).flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,0!==(1&t.mode)&&js(t,e.child,null,i),t.child.memoizedState=Li(i),t.memoizedState=Fi,l);if(0===(1&t.mode))return Ii(e,t,i,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var o=r.dgst;return r=o,Ii(e,t,i,r=di(l=Error(s(419)),r,void 0))}if(o=0!==(i&e.childLanes),bi||o){if(null!==(r=Oo)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|i))?0:a)&&a!==l.retryLane&&(l.retryLane=a,Fs(e,a),rc(r,e,a,-1))}return fc(),Ii(e,t,i,r=di(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,as=da(a.nextSibling),rs=t,ss=!0,ls=null,null!==e&&(Ga[Ja++]=Xa,Ga[Ja++]=Ya,Ga[Ja++]=Ka,Xa=e.id,Ya=e.overflow,Ka=t),t=Di(t,r.children),t.flags|=4096,t)}(e,t,o,a,r,l,n);if(i){i=a.fallback,o=t.mode,r=(l=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&o)&&t.child!==l?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Ac(l,c)).subtreeFlags=14680064&l.subtreeFlags,null!==r?i=Ac(r,i):(i=Lc(i,o,n,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,o=null===(o=e.child.memoizedState)?Li(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Fi,a}return e=(i=e.child).sibling,a=Ac(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Di(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ii(e,t,n,r){return null!==r&&xs(r),js(t,e.child,null,n),(e=Di(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function qi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ps(e.return,t,n)}function Ui(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Bi(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(vi(e,t,r.children,n),0!==(2&(r=el.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qi(e,n,t);else if(19===e.tag)qi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Sa(el,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===tl(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ui(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===tl(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ui(t,!0,n,null,s);break;case"together":Ui(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mo|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ac(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ac(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wi(e,t){if(!ss)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $i(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qi(e,t,n){var r=t.pendingProps;switch(ns(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $i(t),null;case 1:case 17:return za(t.type)&&Aa(),$i(t),null;case 3:return r=t.stateNode,Xs(),Ca(Oa),Ca(Pa),rl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ms(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ls&&(ic(ls),ls=null))),Ti(e,t),$i(t),null;case 5:Zs(t);var a=Js(Gs.current);if(n=t.type,null!==e&&null!=t.stateNode)zi(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return $i(t),null}if(e=Js($s.current),ms(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[pa]=t,r[ha]=l,e=0!==(1&t.mode),n){case"dialog":Ir("cancel",r),Ir("close",r);break;case"iframe":case"object":case"embed":Ir("load",r);break;case"video":case"audio":for(a=0;a<Fr.length;a++)Ir(Fr[a],r);break;case"source":Ir("error",r);break;case"img":case"image":case"link":Ir("error",r),Ir("load",r);break;case"details":Ir("toggle",r);break;case"input":K(r,l),Ir("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},Ir("invalid",r);break;case"textarea":ae(r,l),Ir("invalid",r)}for(var o in ye(n,l),a=null,l)if(l.hasOwnProperty(o)){var c=l[o];"children"===o?"string"===typeof c?r.textContent!==c&&(!0!==l.suppressHydrationWarning&&Yr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==l.suppressHydrationWarning&&Yr(r.textContent,c,e),a=["children",""+c]):i.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&Ir("scroll",r)}switch(n){case"input":$(r),Z(r,l,!0);break;case"textarea":$(r),le(r);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{o=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),"select"===n&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[pa]=t,e[ha]=r,Ri(e,t,!1,!1),t.stateNode=e;e:{switch(o=be(n,r),n){case"dialog":Ir("cancel",e),Ir("close",e),a=r;break;case"iframe":case"object":case"embed":Ir("load",e),a=r;break;case"video":case"audio":for(a=0;a<Fr.length;a++)Ir(Fr[a],e);a=r;break;case"source":Ir("error",e),a=r;break;case"img":case"image":case"link":Ir("error",e),Ir("load",e),a=r;break;case"details":Ir("toggle",e),a=r;break;case"input":K(e,r),a=J(e,r),Ir("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=M({},r,{value:void 0}),Ir("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Ir("invalid",e)}for(l in ye(n,a),c=a)if(c.hasOwnProperty(l)){var d=c[l];"style"===l?fe(e,d):"dangerouslySetInnerHTML"===l?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===l?"string"===typeof d?("textarea"!==n||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(i.hasOwnProperty(l)?null!=d&&"onScroll"===l&&Ir("scroll",e):null!=d&&b(e,l,d,o))}switch(n){case"input":$(e),Z(e,r,!1);break;case"textarea":$(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(l=r.value)?ne(e,!!r.multiple,l,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $i(t),null;case 6:if(e&&null!=t.stateNode)Ai(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Js(Gs.current),Js($s.current),ms(t)){if(r=t.stateNode,n=t.memoizedProps,r[pa]=t,(l=r.nodeValue!==n)&&null!==(e=rs))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}l&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[pa]=t,t.stateNode=r}return $i(t),null;case 13:if(Ca(el),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ss&&null!==as&&0!==(1&t.mode)&&0===(128&t.flags))ps(),hs(),t.flags|=98560,l=!1;else if(l=ms(t),null!==r&&null!==r.dehydrated){if(null===e){if(!l)throw Error(s(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(s(317));l[pa]=t}else hs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$i(t),l=!1}else null!==ls&&(ic(ls),ls=null),l=!0;if(!l)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&el.current)?0===Fo&&(Fo=3):fc())),null!==t.updateQueue&&(t.flags|=4),$i(t),null);case 4:return Xs(),Ti(e,t),null===e&&Br(t.stateNode.containerInfo),$i(t),null;case 10:return Es(t.type._context),$i(t),null;case 19:if(Ca(el),null===(l=t.memoizedState))return $i(t),null;if(r=0!==(128&t.flags),null===(o=l.rendering))if(r)Wi(l,!1);else{if(0!==Fo||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=tl(e))){for(t.flags|=128,Wi(l,!1),null!==(r=o.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(l=n).flags&=14680066,null===(o=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Sa(el,1&el.current|2),t.child}e=e.sibling}null!==l.tail&&Xe()>Vo&&(t.flags|=128,r=!0,Wi(l,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=tl(o))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wi(l,!0),null===l.tail&&"hidden"===l.tailMode&&!o.alternate&&!ss)return $i(t),null}else 2*Xe()-l.renderingStartTime>Vo&&1073741824!==n&&(t.flags|=128,r=!0,Wi(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=l.last)?n.sibling=o:t.child=o,l.last=o)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Xe(),t.sibling=null,n=el.current,Sa(el,r?1&n|2:1&n),t):($i(t),null);case 22:case 23:return mc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&zo)&&($i(t),6&t.subtreeFlags&&(t.flags|=8192)):$i(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Gi(e,t){switch(ns(t),t.tag){case 1:return za(t.type)&&Aa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),Ca(Oa),Ca(Pa),rl(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zs(t),null;case 13:if(Ca(el),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));hs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ca(el),null;case 4:return Xs(),null;case 10:return Es(t.type._context),null;case 22:case 23:return mc(),null;default:return null}}Ri=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ti=function(){},zi=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Js($s.current);var s,l=null;switch(n){case"input":a=J(e,a),r=J(e,r),l=[];break;case"select":a=M({},a,{value:void 0}),r=M({},r,{value:void 0}),l=[];break;case"textarea":a=re(e,a),r=re(e,r),l=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(d in ye(n,r),n=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var o=a[d];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(i.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var c=r[d];if(o=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(l||(l=[]),l.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(l=l||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(l=l||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(i.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Ir("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}},Ai=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ji=!1,Ki=!1,Xi="function"===typeof WeakSet?WeakSet:Set,Yi=null;function Zi(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function eo(e,t,n){try{n()}catch(r){_c(e,t,r)}}var to=!1;function no(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&eo(t,n,s)}a=a.next}while(a!==r)}}function ro(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ao(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function so(e){var t=e.alternate;null!==t&&(e.alternate=null,so(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pa],delete t[ha],delete t[fa],delete t[ga],delete t[ya])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lo(e){return 5===e.tag||3===e.tag||4===e.tag}function io(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||lo(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function oo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(oo(e,t,n),e=e.sibling;null!==e;)oo(e,t,n),e=e.sibling}function co(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(co(e,t,n),e=e.sibling;null!==e;)co(e,t,n),e=e.sibling}var uo=null,mo=!1;function po(e,t,n){for(n=n.child;null!==n;)ho(e,t,n),n=n.sibling}function ho(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,n)}catch(i){}switch(n.tag){case 5:Ki||Zi(n,t);case 6:var r=uo,a=mo;uo=null,po(e,t,n),mo=a,null!==(uo=r)&&(mo?(e=uo,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):uo.removeChild(n.stateNode));break;case 18:null!==uo&&(mo?(e=uo,n=n.stateNode,8===e.nodeType?oa(e.parentNode,n):1===e.nodeType&&oa(e,n),Bt(e)):oa(uo,n.stateNode));break;case 4:r=uo,a=mo,uo=n.stateNode.containerInfo,mo=!0,po(e,t,n),uo=r,mo=a;break;case 0:case 11:case 14:case 15:if(!Ki&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,l=s.destroy;s=s.tag,void 0!==l&&(0!==(2&s)||0!==(4&s))&&eo(n,t,l),a=a.next}while(a!==r)}po(e,t,n);break;case 1:if(!Ki&&(Zi(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(i){_c(n,t,i)}po(e,t,n);break;case 21:po(e,t,n);break;case 22:1&n.mode?(Ki=(r=Ki)||null!==n.memoizedState,po(e,t,n),Ki=r):po(e,t,n);break;default:po(e,t,n)}}function xo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xi),t.forEach(function(t){var r=Pc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function fo(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var l=e,i=t,o=i;e:for(;null!==o;){switch(o.tag){case 5:uo=o.stateNode,mo=!1;break e;case 3:case 4:uo=o.stateNode.containerInfo,mo=!0;break e}o=o.return}if(null===uo)throw Error(s(160));ho(l,i,a),uo=null,mo=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(d){_c(a,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)go(t,e),t=t.sibling}function go(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fo(t,e),yo(e),4&r){try{no(3,e,e.return),ro(3,e)}catch(f){_c(e,e.return,f)}try{no(5,e,e.return)}catch(f){_c(e,e.return,f)}}break;case 1:fo(t,e),yo(e),512&r&&null!==n&&Zi(n,n.return);break;case 5:if(fo(t,e),yo(e),512&r&&null!==n&&Zi(n,n.return),32&e.flags){var a=e.stateNode;try{me(a,"")}catch(f){_c(e,e.return,f)}}if(4&r&&null!=(a=e.stateNode)){var l=e.memoizedProps,i=null!==n?n.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===l.type&&null!=l.name&&X(a,l),be(o,i);var d=be(o,l);for(i=0;i<c.length;i+=2){var u=c[i],m=c[i+1];"style"===u?fe(a,m):"dangerouslySetInnerHTML"===u?ue(a,m):"children"===u?me(a,m):b(a,u,m,d)}switch(o){case"input":Y(a,l);break;case"textarea":se(a,l);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var h=l.value;null!=h?ne(a,!!l.multiple,h,!1):p!==!!l.multiple&&(null!=l.defaultValue?ne(a,!!l.multiple,l.defaultValue,!0):ne(a,!!l.multiple,l.multiple?[]:"",!1))}a[ha]=l}catch(f){_c(e,e.return,f)}}break;case 6:if(fo(t,e),yo(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(f){_c(e,e.return,f)}}break;case 3:if(fo(t,e),yo(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(f){_c(e,e.return,f)}break;case 4:default:fo(t,e),yo(e);break;case 13:fo(t,e),yo(e),8192&(a=e.child).flags&&(l=null!==a.memoizedState,a.stateNode.isHidden=l,!l||null!==a.alternate&&null!==a.alternate.memoizedState||(Bo=Xe())),4&r&&xo(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Ki=(d=Ki)||u,fo(t,e),Ki=d):fo(t,e),yo(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Yi=e,u=e.child;null!==u;){for(m=Yi=u;null!==Yi;){switch(h=(p=Yi).child,p.tag){case 0:case 11:case 14:case 15:no(4,p,p.return);break;case 1:Zi(p,p.return);var x=p.stateNode;if("function"===typeof x.componentWillUnmount){r=p,n=p.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(f){_c(r,n,f)}}break;case 5:Zi(p,p.return);break;case 22:if(null!==p.memoizedState){wo(m);continue}}null!==h?(h.return=p,Yi=h):wo(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{a=m.stateNode,d?"function"===typeof(l=a.style).setProperty?l.setProperty("display","none","important"):l.display="none":(o=m.stateNode,i=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=xe("display",i))}catch(f){_c(e,e.return,f)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(f){_c(e,e.return,f)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:fo(t,e),yo(e),4&r&&xo(e);case 21:}}function yo(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(lo(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(me(a,""),r.flags&=-33),co(e,io(e),a);break;case 3:case 4:var l=r.stateNode.containerInfo;oo(e,io(e),l);break;default:throw Error(s(161))}}catch(i){_c(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bo(e,t,n){Yi=e,vo(e,t,n)}function vo(e,t,n){for(var r=0!==(1&e.mode);null!==Yi;){var a=Yi,s=a.child;if(22===a.tag&&r){var l=null!==a.memoizedState||Ji;if(!l){var i=a.alternate,o=null!==i&&null!==i.memoizedState||Ki;i=Ji;var c=Ki;if(Ji=l,(Ki=o)&&!c)for(Yi=a;null!==Yi;)o=(l=Yi).child,22===l.tag&&null!==l.memoizedState?No(a):null!==o?(o.return=l,Yi=o):No(a);for(;null!==s;)Yi=s,vo(s,t,n),s=s.sibling;Yi=a,Ji=i,Ki=c}jo(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Yi=s):jo(e)}}function jo(e){for(;null!==Yi;){var t=Yi;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ki||ro(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ki)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ni(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&Hs(t,l,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hs(t,i,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&Bt(m)}}}break;default:throw Error(s(163))}Ki||512&t.flags&&ao(t)}catch(ca){_c(t,t.return,ca)}}if(t===e){Yi=null;break}if(null!==(n=t.sibling)){n.return=t.return,Yi=n;break}Yi=t.return}}function wo(e){for(;null!==Yi;){var t=Yi;if(t===e){Yi=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Yi=n;break}Yi=t.return}}function No(e){for(;null!==Yi;){var t=Yi;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ro(4,t)}catch(o){_c(t,n,o)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(o){_c(t,a,o)}}var s=t.return;try{ao(t)}catch(o){_c(t,s,o)}break;case 5:var l=t.return;try{ao(t)}catch(o){_c(t,l,o)}}}catch(o){_c(t,t.return,o)}if(t===e){Yi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Yi=i;break}Yi=t.return}}var ko,_o=Math.ceil,Co=v.ReactCurrentDispatcher,So=v.ReactCurrentOwner,Eo=v.ReactCurrentBatchConfig,Po=0,Oo=null,Ro=null,To=0,zo=0,Ao=_a(0),Fo=0,Lo=null,Mo=0,Do=0,Io=0,qo=null,Uo=null,Bo=0,Vo=1/0,Ho=null,Wo=!1,$o=null,Qo=null,Go=!1,Jo=null,Ko=0,Xo=0,Yo=null,Zo=-1,ec=0;function tc(){return 0!==(6&Po)?Xe():-1!==Zo?Zo:Zo=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Po)&&0!==To?To&-To:null!==fs.transition?(0===ec&&(ec=xt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function rc(e,t,n,r){if(50<Xo)throw Xo=0,Yo=null,Error(s(185));gt(e,n,r),0!==(2&Po)&&e===Oo||(e===Oo&&(0===(2&Po)&&(Do|=n),4===Fo&&oc(e,To)),ac(e,r),1===n&&0===Po&&0===(1&t.mode)&&(Vo=Xe()+500,qa&&Va()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-lt(s),i=1<<l,o=a[l];-1===o?0!==(i&n)&&0===(i&r)||(a[l]=pt(i,t)):o<=t&&(e.expiredLanes|=i),s&=~i}}(e,t);var r=mt(e,e===Oo?To:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){qa=!0,Ba(e)}(cc.bind(null,e)):Ba(cc.bind(null,e)),la(function(){0===(6&Po)&&Va()}),n=null;else{switch(vt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Oc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zo=-1,ec=0,0!==(6&Po))throw Error(s(327));var n=e.callbackNode;if(Nc()&&e.callbackNode!==n)return null;var r=mt(e,e===Oo?To:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var a=Po;Po|=2;var l=xc();for(Oo===e&&To===t||(Ho=null,Vo=Xe()+500,pc(e,t));;)try{bc();break}catch(o){hc(e,o)}Ss(),Co.current=l,Po=a,null!==Ro?t=0:(Oo=null,To=0,t=Fo)}if(0!==t){if(2===t&&(0!==(a=ht(e))&&(r=a,t=lc(e,a))),1===t)throw n=Lo,pc(e,0),oc(e,r),ac(e,Xe()),n;if(6===t)oc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!ir(s(),a))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,r))&&(0!==(l=ht(e))&&(r=l,t=lc(e,l))),1===t))throw n=Lo,pc(e,0),oc(e,r),ac(e,Xe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,Uo,Ho);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Bo+500-Xe())){if(0!==mt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,Uo,Ho),t);break}wc(e,Uo,Ho);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var i=31-lt(r);l=1<<i,(i=t[i])>a&&(a=i),r&=~l}if(r=a,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_o(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,Uo,Ho),r);break}wc(e,Uo,Ho);break;default:throw Error(s(329))}}}return ac(e,Xe()),e.callbackNode===n?sc.bind(null,e):null}function lc(e,t){var n=qo;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Uo,Uo=n,null!==t&&ic(t)),e}function ic(e){null===Uo?Uo=e:Uo.push.apply(Uo,e)}function oc(e,t){for(t&=~Io,t&=~Do,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lt(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Po))throw Error(s(327));Nc();var t=mt(e,0);if(0===(1&t))return ac(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=lc(e,r))}if(1===n)throw n=Lo,pc(e,0),oc(e,t),ac(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Uo,Ho),ac(e,Xe()),null}function dc(e,t){var n=Po;Po|=1;try{return e(t)}finally{0===(Po=n)&&(Vo=Xe()+500,qa&&Va())}}function uc(e){null!==Jo&&0===Jo.tag&&0===(6&Po)&&Nc();var t=Po;Po|=1;var n=Eo.transition,r=bt;try{if(Eo.transition=null,bt=1,e)return e()}finally{bt=r,Eo.transition=n,0===(6&(Po=t))&&Va()}}function mc(){zo=Ao.current,Ca(Ao)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Ro)for(n=Ro.return;null!==n;){var r=n;switch(ns(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Aa();break;case 3:Xs(),Ca(Oa),Ca(Pa),rl();break;case 5:Zs(r);break;case 4:Xs();break;case 13:case 19:Ca(el);break;case 10:Es(r.type._context);break;case 22:case 23:mc()}n=n.return}if(Oo=e,Ro=e=Ac(e.current,null),To=zo=t,Fo=0,Lo=null,Io=Do=Mo=0,Uo=qo=null,null!==Ts){for(t=0;t<Ts.length;t++)if(null!==(r=(n=Ts[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var l=s.next;s.next=a,r.next=l}n.pending=r}Ts=null}return e}function hc(e,t){for(;;){var n=Ro;try{if(Ss(),al.current=Yl,dl){for(var r=il.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}dl=!1}if(ll=0,cl=ol=il=null,ul=!1,ml=0,So.current=null,null===n||null===n.return){Fo=1,Lo=t,Ro=null;break}e:{var l=e,i=n.return,o=n,c=t;if(t=To,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=fi(i);if(null!==h){h.flags&=-257,gi(h,i,o,0,t),1&h.mode&&xi(l,d,t),c=d;var x=(t=h).updateQueue;if(null===x){var f=new Set;f.add(c),t.updateQueue=f}else x.add(c);break e}if(0===(1&t)){xi(l,d,t),fc();break e}c=Error(s(426))}else if(ss&&1&o.mode){var g=fi(i);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),gi(g,i,o,0,t),xs(ci(c,o));break e}}l=c=ci(c,o),4!==Fo&&(Fo=2),null===qo?qo=[l]:qo.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,Bs(l,pi(0,c,t));break e;case 1:o=c;var y=l.type,b=l.stateNode;if(0===(128&l.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Qo||!Qo.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,Bs(l,hi(l,o,t));break e}}l=l.return}while(null!==l)}jc(n)}catch(v){t=v,Ro===n&&null!==n&&(Ro=n=n.return);continue}break}}function xc(){var e=Co.current;return Co.current=Yl,null===e?Yl:e}function fc(){0!==Fo&&3!==Fo&&2!==Fo||(Fo=4),null===Oo||0===(268435455&Mo)&&0===(268435455&Do)||oc(Oo,To)}function gc(e,t){var n=Po;Po|=2;var r=xc();for(Oo===e&&To===t||(Ho=null,pc(e,t));;)try{yc();break}catch(a){hc(e,a)}if(Ss(),Po=n,Co.current=r,null!==Ro)throw Error(s(261));return Oo=null,To=0,Fo}function yc(){for(;null!==Ro;)vc(Ro)}function bc(){for(;null!==Ro&&!Je();)vc(Ro)}function vc(e){var t=ko(e.alternate,e,zo);e.memoizedProps=e.pendingProps,null===t?jc(e):Ro=t,So.current=null}function jc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qi(n,t,zo)))return void(Ro=n)}else{if(null!==(n=Gi(n,t)))return n.flags&=32767,void(Ro=n);if(null===e)return Fo=6,void(Ro=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ro=t);Ro=t=e}while(null!==t);0===Fo&&(Fo=5)}function wc(e,t,n){var r=bt,a=Eo.transition;try{Eo.transition=null,bt=1,function(e,t,n,r){do{Nc()}while(null!==Jo);if(0!==(6&Po))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-lt(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,l),e===Oo&&(Ro=Oo=null,To=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Go||(Go=!0,Oc(tt,function(){return Nc(),null})),l=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||l){l=Eo.transition,Eo.transition=null;var i=bt;bt=1;var o=Po;Po|=4,So.current=null,function(e,t){if(ea=Ht,pr(e=mr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch(j){n=null;break e}var i=0,o=-1,c=-1,d=0,u=0,m=e,p=null;t:for(;;){for(var h;m!==n||0!==a&&3!==m.nodeType||(o=i+a),m!==l||0!==r&&3!==m.nodeType||(c=i+r),3===m.nodeType&&(i+=m.nodeValue.length),null!==(h=m.firstChild);)p=m,m=h;for(;;){if(m===e)break t;if(p===n&&++d===a&&(o=i),p===l&&++u===r&&(c=i),null!==(h=m.nextSibling))break;p=(m=p).parentNode}m=h}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Ht=!1,Yi=t;null!==Yi;)if(e=(t=Yi).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Yi=e;else for(;null!==Yi;){t=Yi;try{var x=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==x){var f=x.memoizedProps,g=x.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?f:ni(t.type,f),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(s(163))}}catch(j){_c(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Yi=e;break}Yi=t.return}x=to,to=!1}(e,n),go(n,e),hr(ta),Ht=!!ea,ta=ea=null,e.current=n,bo(n,e,a),Ke(),Po=o,bt=i,Eo.transition=l}else e.current=n;if(Go&&(Go=!1,Jo=e,Ko=a),l=e.pendingLanes,0===l&&(Qo=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Wo)throw Wo=!1,e=$o,$o=null,e;0!==(1&Ko)&&0!==e.tag&&Nc(),l=e.pendingLanes,0!==(1&l)?e===Yo?Xo++:(Xo=0,Yo=e):Xo=0,Va()}(e,t,n,r)}finally{Eo.transition=a,bt=r}return null}function Nc(){if(null!==Jo){var e=vt(Ko),t=Eo.transition,n=bt;try{if(Eo.transition=null,bt=16>e?16:e,null===Jo)var r=!1;else{if(e=Jo,Jo=null,Ko=0,0!==(6&Po))throw Error(s(331));var a=Po;for(Po|=4,Yi=e.current;null!==Yi;){var l=Yi,i=l.child;if(0!==(16&Yi.flags)){var o=l.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(Yi=d;null!==Yi;){var u=Yi;switch(u.tag){case 0:case 11:case 15:no(8,u,l)}var m=u.child;if(null!==m)m.return=u,Yi=m;else for(;null!==Yi;){var p=(u=Yi).sibling,h=u.return;if(so(u),u===d){Yi=null;break}if(null!==p){p.return=h,Yi=p;break}Yi=h}}}var x=l.alternate;if(null!==x){var f=x.child;if(null!==f){x.child=null;do{var g=f.sibling;f.sibling=null,f=g}while(null!==f)}}Yi=l}}if(0!==(2064&l.subtreeFlags)&&null!==i)i.return=l,Yi=i;else e:for(;null!==Yi;){if(0!==(2048&(l=Yi).flags))switch(l.tag){case 0:case 11:case 15:no(9,l,l.return)}var y=l.sibling;if(null!==y){y.return=l.return,Yi=y;break e}Yi=l.return}}var b=e.current;for(Yi=b;null!==Yi;){var v=(i=Yi).child;if(0!==(2064&i.subtreeFlags)&&null!==v)v.return=i,Yi=v;else e:for(i=b;null!==Yi;){if(0!==(2048&(o=Yi).flags))try{switch(o.tag){case 0:case 11:case 15:ro(9,o)}}catch(w){_c(o,o.return,w)}if(o===i){Yi=null;break e}var j=o.sibling;if(null!==j){j.return=o.return,Yi=j;break e}Yi=o.return}}if(Po=a,Va(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(w){}r=!0}return r}finally{bt=n,Eo.transition=t}}return!1}function kc(e,t,n){e=qs(e,t=pi(0,t=ci(n,t),1),1),t=tc(),null!==e&&(gt(e,1,t),ac(e,t))}function _c(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Qo||!Qo.has(r))){t=qs(t,e=hi(t,e=ci(n,e),1),1),e=tc(),null!==t&&(gt(t,1,e),ac(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Oo===e&&(To&n)===n&&(4===Fo||3===Fo&&(130023424&To)===To&&500>Xe()-Bo?pc(e,0):Io|=n),ac(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=tc();null!==(e=Fs(e,t))&&(gt(e,t,n),ac(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Pc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Sc(e,n)}function Oc(e,t){return Qe(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(e,t,n,r){return new Rc(e,t,n,r)}function zc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,t){var n=e.alternate;return null===n?((n=Tc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fc(e,t,n,r,a,l){var i=2;if(r=e,"function"===typeof e)zc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case N:return Lc(n.children,a,l,t);case k:i=8,a|=8;break;case _:return(e=Tc(12,n,t,2|a)).elementType=_,e.lanes=l,e;case P:return(e=Tc(13,n,t,a)).elementType=P,e.lanes=l,e;case O:return(e=Tc(19,n,t,a)).elementType=O,e.lanes=l,e;case z:return Mc(n,a,l,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:i=10;break e;case S:i=9;break e;case E:i=11;break e;case R:i=14;break e;case T:i=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Tc(i,n,t,a)).elementType=e,t.type=r,t.lanes=l,t}function Lc(e,t,n,r){return(e=Tc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Tc(22,e,r,t)).elementType=z,e.lanes=n,e.stateNode={isHidden:!1},e}function Dc(e,t,n){return(e=Tc(6,e,null,t)).lanes=n,e}function Ic(e,t,n){return(t=Tc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ft(0),this.expirationTimes=ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,a,s,l,i,o){return e=new qc(e,t,n,i,o),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Tc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ms(s),e}function Bc(e){if(!e)return Ea;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(za(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(za(n))return La(e,n,t)}return t}function Vc(e,t,n,r,a,s,l,i,o){return(e=Uc(n,r,!0,e,0,s,0,i,o)).context=Bc(null),n=e.current,(s=Is(r=tc(),a=nc(n))).callback=void 0!==t&&null!==t?t:null,qs(n,s,a),e.current.lanes=a,gt(e,a,r),ac(e,r),e}function Hc(e,t,n,r){var a=t.current,s=tc(),l=nc(a);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Is(s,l)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=qs(a,t,l))&&(rc(e,a,l,s),Us(e,a,l)),l}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $c(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Qc(e,t){$c(e,t),(e=e.alternate)&&$c(e,t)}ko=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oa.current)bi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bi=!1,function(e,t,n){switch(t.tag){case 3:Pi(t),hs();break;case 5:Ys(t);break;case 1:za(t.type)&&Ma(t);break;case 4:Ks(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Sa(Ns,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Sa(el,1&el.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mi(e,t,n):(Sa(el,1&el.current),null!==(e=Hi(e,t,n))?e.sibling:null);Sa(el,1&el.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bi(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Sa(el,el.current),r)break;return null;case 22:case 23:return t.lanes=0,ki(e,t,n)}return Hi(e,t,n)}(e,t,n);bi=0!==(131072&e.flags)}else bi=!1,ss&&0!==(1048576&t.flags)&&es(t,Qa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vi(e,t),e=t.pendingProps;var a=Ta(t,Pa.current);Os(t,n),a=fl(null,t,r,e,a,n);var l=gl();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,za(r)?(l=!0,Ma(t)):l=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ms(t),a.updater=ai,t.stateNode=a,a._reactInternals=t,oi(t,r,e,n),t=Ei(null,t,r,!0,l,n)):(t.tag=0,ss&&l&&ts(t),vi(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vi(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return zc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===R)return 14}return 2}(r),e=ni(r,e),a){case 0:t=Ci(null,t,r,e,n);break e;case 1:t=Si(null,t,r,e,n);break e;case 11:t=ji(null,t,r,e,n);break e;case 14:t=wi(null,t,r,ni(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Ci(e,t,r,a=t.elementType===r?a:ni(r,a),n);case 1:return r=t.type,a=t.pendingProps,Si(e,t,r,a=t.elementType===r?a:ni(r,a),n);case 3:e:{if(Pi(t),null===e)throw Error(s(387));r=t.pendingProps,a=(l=t.memoizedState).element,Ds(e,t),Vs(t,r,null,n);var i=t.memoizedState;if(r=i.element,l.isDehydrated){if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Oi(e,t,r,n,a=ci(Error(s(423)),t));break e}if(r!==a){t=Oi(e,t,r,n,a=ci(Error(s(424)),t));break e}for(as=da(t.stateNode.containerInfo.firstChild),rs=t,ss=!0,ls=null,n=ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hs(),r===a){t=Hi(e,t,n);break e}vi(e,t,r,n)}t=t.child}return t;case 5:return Ys(t),null===e&&ds(t),r=t.type,a=t.pendingProps,l=null!==e?e.memoizedProps:null,i=a.children,na(r,a)?i=null:null!==l&&na(r,l)&&(t.flags|=32),_i(e,t),vi(e,t,i,n),t.child;case 6:return null===e&&ds(t),null;case 13:return Mi(e,t,n);case 4:return Ks(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=js(t,null,r,n):vi(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,ji(e,t,r,a=t.elementType===r?a:ni(r,a),n);case 7:return vi(e,t,t.pendingProps,n),t.child;case 8:case 12:return vi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,Sa(Ns,r._currentValue),r._currentValue=i,null!==l)if(ir(l.value,i)){if(l.children===a.children&&!Oa.current){t=Hi(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var o=l.dependencies;if(null!==o){i=l.child;for(var c=o.firstContext;null!==c;){if(c.context===r){if(1===l.tag){(c=Is(-1,n&-n)).tag=2;var d=l.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),Ps(l.return,n,t),o.lanes|=n;break}c=c.next}}else if(10===l.tag)i=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(i=l.return))throw Error(s(341));i.lanes|=n,null!==(o=i.alternate)&&(o.lanes|=n),Ps(i,n,t),i=l.sibling}else i=l.child;if(null!==i)i.return=l;else for(i=l;null!==i;){if(i===t){i=null;break}if(null!==(l=i.sibling)){l.return=i.return,i=l;break}i=i.return}l=i}vi(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Os(t,n),r=r(a=Rs(a)),t.flags|=1,vi(e,t,r,n),t.child;case 14:return a=ni(r=t.type,t.pendingProps),wi(e,t,r,a=ni(r.type,a),n);case 15:return Ni(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ni(r,a),Vi(e,t),t.tag=1,za(r)?(e=!0,Ma(t)):e=!1,Os(t,n),li(t,r,a),oi(t,r,a,n),Ei(null,t,r,!0,e,n);case 19:return Bi(e,t,n);case 22:return ki(e,t,n)}throw Error(s(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function ed(e,t,n,r,a){var s=n._reactRootContainer;if(s){var l=s;if("function"===typeof a){var i=a;a=function(){var e=Wc(l);i.call(e)}}Hc(t,l,e,a)}else l=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=Wc(l);s.call(e)}}var l=Vc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=l,e[xa]=l.current,Br(8===e.nodeType?e.parentNode:e),uc(),l}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var i=r;r=function(){var e=Wc(o);i.call(e)}}var o=Uc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=o,e[xa]=o.current,Br(8===e.nodeType?e.parentNode:e),uc(function(){Hc(t,o,n,r)}),o}(n,t,e,a,r);return Wc(l)}Kc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},Kc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Hc(null,e,null,null)}),t[xa]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zt.length&&0!==t&&t<zt[n].priority;n++);zt.splice(n,0,e),0===n&&Mt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(yt(t,1|n),ac(t,Xe()),0===(6&Po)&&(Vo=Xe()+500,Va()))}break;case 13:uc(function(){var t=Fs(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}}),Qc(e,1)}},wt=function(e){if(13===e.tag){var t=Fs(e,134217728);if(null!==t)rc(t,e,134217728,tc());Qc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=nc(e),n=Fs(e,t);if(null!==n)rc(n,e,t,tc());Qc(e,t)}},kt=function(){return bt},_t=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},we=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(s(90));Q(r),Y(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=dc,Pe=uc;var td={usingClientEntryPoint:!1,Events:[va,ja,wa,Ce,Se,dc]},nd={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rd={bundleType:nd.bundleType,version:nd.version,rendererPackageName:nd.rendererPackageName,rendererConfig:nd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nd.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{at=ad.inject(rd),st=ad}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=td,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var n=!1,r="",a=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,a),e[xa]=t.current,Br(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(s(200));return ed(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,l="",i=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(l=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,a,0,l,i),e[xa]=t.current,Br(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Kc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(s(200));return ed(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc(function(){ed(null,null,e,!1,function(){e._reactRootContainer=null,e[xa]=null})}),!0)},t.unstable_batchedUpdates=dc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return ed(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var l={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&r;("object"==typeof i||"function"==typeof i)&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>l[e]=()=>r[e]);return l.default=()=>r,n.d(s,l),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{hasBrowserEnv:()=>Jt,hasStandardBrowserEnv:()=>Xt,hasStandardBrowserWebWorkerEnv:()=>Yt,navigator:()=>Kt,origin:()=>Zt});var a,s=n(43),l=n.t(s,2),i=n(391),o=n(950),c=n.t(o,2);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(a||(a={}));const u="popstate";function m(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function p(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function x(e,t,n,r){return void 0===n&&(n=null),d({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function y(e,t,n,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:l=!1}=r,i=s.history,o=a.Pop,c=null,p=g();function g(){return(i.state||{idx:null}).idx}function y(){o=a.Pop;let e=g(),t=null==e?null:e-p;p=e,c&&c({action:o,location:v.location,delta:t})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),m(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==p&&(p=0,i.replaceState(d({},i.state,{idx:p}),""));let v={get action(){return o},get location(){return e(s,i)},listen(e){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(u,y),c=e,()=>{s.removeEventListener(u,y),c=null}},createHref:e=>t(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o=a.Push;let r=x(v.location,e,t);n&&n(r,e),p=g()+1;let d=h(r,p),u=v.createHref(r);try{i.pushState(d,"",u)}catch(m){if(m instanceof DOMException&&"DataCloneError"===m.name)throw m;s.location.assign(u)}l&&c&&c({action:o,location:v.location,delta:1})},replace:function(e,t){o=a.Replace;let r=x(v.location,e,t);n&&n(r,e),p=g();let s=h(r,p),d=v.createHref(r);i.replaceState(s,"",d),l&&c&&c({action:o,location:v.location,delta:0})},go:e=>i.go(e)};return v}var b;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(b||(b={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),j(e,t,n,!1)}function j(e,t,n,r){let a=F(("string"===typeof t?g(t):t).pathname||"/",n);if(null==a)return null;let s=w(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let l=null;for(let i=0;null==l&&i<s.length;++i){let e=A(a);l=T(s[i],e,r)}return l}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,s)=>{let l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};l.relativePath.startsWith("/")&&(m(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),l.relativePath=l.relativePath.slice(r.length));let i=q([r,l.relativePath]),o=n.concat(l);e.children&&e.children.length>0&&(m(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),w(e.children,t,o,i)),(null!=e.path||e.index)&&t.push({path:i,score:R(i,e.index),routesMeta:o})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of N(e.path))a(e,t,r);else a(e,t)}),t}function N(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return a?[s,""]:[s];let l=N(r.join("/")),i=[];return i.push(...l.map(e=>""===e?s:[s,e].join("/"))),a&&i.push(...l),i.map(t=>e.startsWith("/")&&""===t?"/":t)}const k=/^:[\w-]+$/,_=3,C=2,S=1,E=10,P=-2,O=e=>"*"===e;function R(e,t){let n=e.split("/"),r=n.length;return n.some(O)&&(r+=P),t&&(r+=C),n.filter(e=>!O(e)).reduce((e,t)=>e+(k.test(t)?_:""===t?S:E),r)}function T(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,a={},s="/",l=[];for(let i=0;i<r.length;++i){let e=r[i],o=i===r.length-1,c="/"===s?t:t.slice(s.length)||"/",d=z({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&n&&!r[r.length-1].route.index&&(d=z({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),l.push({params:a,pathname:q([s,d.pathname]),pathnameBase:U(q([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=q([s,d.pathnameBase]))}return l}function z(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);p("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],l=s.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=i[n]||"";l=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const o=i[n];return e[r]=a&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:l,pattern:e}}function A(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return p(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function F(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function L(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function D(e,t){let n=M(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function I(e,t,n,r){let a;void 0===r&&(r=!1),"string"===typeof e?a=g(e):(a=d({},e),m(!a.pathname||!a.pathname.includes("?"),L("?","pathname","search",a)),m(!a.pathname||!a.pathname.includes("#"),L("#","pathname","hash",a)),m(!a.search||!a.search.includes("#"),L("#","search","hash",a)));let s,l=""===e||""===a.pathname,i=l?"/":a.pathname;if(null==i)s=n;else{let e=t.length-1;if(!r&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let o=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"===typeof e?g(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:B(r),hash:V(a)}}(a,s),c=i&&"/"!==i&&i.endsWith("/"),u=(l||"."===i)&&n.endsWith("/");return o.pathname.endsWith("/")||!c&&!u||(o.pathname+="/"),o}const q=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const W=["post","put","patch","delete"],$=(new Set(W),["get",...W]);new Set($),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q.apply(this,arguments)}const G=s.createContext(null);const J=s.createContext(null);const K=s.createContext(null);const X=s.createContext(null);const Y=s.createContext({outlet:null,matches:[],isDataRoute:!1});const Z=s.createContext(null);function ee(){return null!=s.useContext(X)}function te(){return ee()||m(!1),s.useContext(X).location}function ne(e){s.useContext(K).static||s.useLayoutEffect(e)}function re(){let{isDataRoute:e}=s.useContext(Y);return e?function(){let{router:e}=he(me.UseNavigateStable),t=fe(pe.UseNavigateStable),n=s.useRef(!1);return ne(()=>{n.current=!0}),s.useCallback(function(r,a){void 0===a&&(a={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,Q({fromRouteId:t},a)))},[e,t])}():function(){ee()||m(!1);let e=s.useContext(G),{basename:t,future:n,navigator:r}=s.useContext(K),{matches:a}=s.useContext(Y),{pathname:l}=te(),i=JSON.stringify(D(a,n.v7_relativeSplatPath)),o=s.useRef(!1);return ne(()=>{o.current=!0}),s.useCallback(function(n,a){if(void 0===a&&(a={}),!o.current)return;if("number"===typeof n)return void r.go(n);let s=I(n,JSON.parse(i),l,"path"===a.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:q([t,s.pathname])),(a.replace?r.replace:r.push)(s,a.state,a)},[t,r,i,l,e])}()}const ae=s.createContext(null);function se(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=s.useContext(K),{matches:a}=s.useContext(Y),{pathname:l}=te(),i=JSON.stringify(D(a,r.v7_relativeSplatPath));return s.useMemo(()=>I(e,JSON.parse(i),l,"path"===n),[e,i,l,n])}function le(e,t,n,r){ee()||m(!1);let{navigator:l}=s.useContext(K),{matches:i}=s.useContext(Y),o=i[i.length-1],c=o?o.params:{},d=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let u,p=te();if(t){var h;let e="string"===typeof t?g(t):t;"/"===d||(null==(h=e.pathname)?void 0:h.startsWith(d))||m(!1),u=e}else u=p;let x=u.pathname||"/",f=x;if("/"!==d){let e=d.replace(/^\//,"").split("/");f="/"+x.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=v(e,{pathname:f});let b=ue(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:q([d,l.encodeLocation?l.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:q([d,l.encodeLocation?l.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),i,n,r);return t&&b?s.createElement(X.Provider,{value:{location:Q({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:a.Pop}},b):b}function ie(){let e=function(){var e;let t=s.useContext(Z),n=xe(pe.UseRouteError),r=fe(pe.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:a},n):null,null)}const oe=s.createElement(ie,null);class ce extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(Y.Provider,{value:this.props.routeContext},s.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function de(e){let{routeContext:t,match:n,children:r}=e,a=s.useContext(G);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement(Y.Provider,{value:t},r)}function ue(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var l;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(l=r)&&l.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let i=e,o=null==(a=n)?void 0:a.errors;if(null!=o){let e=i.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||m(!1),i=i.slice(0,Math.min(i.length,e+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let s=0;s<i.length;s++){let e=i[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=s),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){c=!0,i=d>=0?i.slice(0,d+1):[i[0]];break}}}return i.reduceRight((e,r,a)=>{let l,u=!1,m=null,p=null;var h;n&&(l=o&&r.route.id?o[r.route.id]:void 0,m=r.route.errorElement||oe,c&&(d<0&&0===a?(h="route-fallback",!1||ge[h]||(ge[h]=!0),u=!0,p=null):d===a&&(u=!0,p=r.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,a+1)),f=()=>{let t;return t=l?m:u?p:r.route.Component?s.createElement(r.route.Component,null):r.route.element?r.route.element:e,s.createElement(de,{match:r,routeContext:{outlet:e,matches:x,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?s.createElement(ce,{location:n.location,revalidation:n.revalidation,component:m,error:l,children:f(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):f()},null)}var me=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(me||{}),pe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(pe||{});function he(e){let t=s.useContext(G);return t||m(!1),t}function xe(e){let t=s.useContext(J);return t||m(!1),t}function fe(e){let t=function(){let e=s.useContext(Y);return e||m(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||m(!1),n.route.id}const ge={};function ye(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}l.startTransition;function be(e){let{to:t,replace:n,state:r,relative:a}=e;ee()||m(!1);let{future:l,static:i}=s.useContext(K),{matches:o}=s.useContext(Y),{pathname:c}=te(),d=re(),u=I(t,D(o,l.v7_relativeSplatPath),c,"path"===a),p=JSON.stringify(u);return s.useEffect(()=>d(JSON.parse(p),{replace:n,state:r,relative:a}),[d,p,a,n,r]),null}function ve(e){return function(e){let t=s.useContext(Y).outlet;return t?s.createElement(ae.Provider,{value:e},t):t}(e.context)}function je(e){m(!1)}function we(e){let{basename:t="/",children:n=null,location:r,navigationType:l=a.Pop,navigator:i,static:o=!1,future:c}=e;ee()&&m(!1);let d=t.replace(/^\/*/,"/"),u=s.useMemo(()=>({basename:d,navigator:i,static:o,future:Q({v7_relativeSplatPath:!1},c)}),[d,c,i,o]);"string"===typeof r&&(r=g(r));let{pathname:p="/",search:h="",hash:x="",state:f=null,key:y="default"}=r,b=s.useMemo(()=>{let e=F(p,d);return null==e?null:{location:{pathname:e,search:h,hash:x,state:f,key:y},navigationType:l}},[d,p,h,x,f,y,l]);return null==b?null:s.createElement(K.Provider,{value:u},s.createElement(X.Provider,{children:n,value:b}))}function Ne(e){let{children:t,location:n}=e;return le(ke(t),n)}new Promise(()=>{});s.Component;function ke(e,t){void 0===t&&(t=[]);let n=[];return s.Children.forEach(e,(e,r)=>{if(!s.isValidElement(e))return;let a=[...t,r];if(e.type===s.Fragment)return void n.push.apply(n,ke(e.props.children,a));e.type!==je&&m(!1),e.props.index&&e.props.children&&m(!1);let l={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(l.children=ke(e.props.children,a)),n.push(l)}),n}function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(this,arguments)}function Ce(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ee=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(Mi){}const Pe=s.createContext({isTransitioning:!1});new Map;const Oe=l.startTransition;c.flushSync,l.useId;function Re(e){let{basename:t,children:n,future:r,window:a}=e,l=s.useRef();var i;null==l.current&&(l.current=(void 0===(i={window:a,v5Compat:!0})&&(i={}),y(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return x("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:f(t)},null,i)));let o=l.current,[c,d]=s.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},m=s.useCallback(e=>{u&&Oe?Oe(()=>d(e)):d(e)},[d,u]);return s.useLayoutEffect(()=>o.listen(m),[o,m]),s.useEffect(()=>ye(r),[r]),s.createElement(we,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:o,future:r})}const Te="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,ze=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=s.forwardRef(function(e,t){let n,{onClick:r,relative:a,reloadDocument:l,replace:i,state:o,target:c,to:d,preventScrollReset:u,viewTransition:p}=e,h=Ce(e,Se),{basename:x}=s.useContext(K),g=!1;if("string"===typeof d&&ze.test(d)&&(n=d,Te))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=F(t.pathname,x);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:g=!0}catch(Mi){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;ee()||m(!1);let{basename:r,navigator:a}=s.useContext(K),{hash:l,pathname:i,search:o}=se(e,{relative:n}),c=i;return"/"!==r&&(c="/"===i?r:q([r,i])),a.createHref({pathname:c,search:o,hash:l})}(d,{relative:a}),b=function(e,t){let{target:n,replace:r,state:a,preventScrollReset:l,relative:i,viewTransition:o}=void 0===t?{}:t,c=re(),d=te(),u=se(e,{relative:i});return s.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:f(d)===f(u);c(e,{replace:n,state:a,preventScrollReset:l,relative:i,viewTransition:o})}},[d,c,u,r,a,n,e,l,i,o])}(d,{replace:i,state:o,target:c,preventScrollReset:u,relative:a,viewTransition:p});return s.createElement("a",_e({},h,{href:n||y,onClick:g||l?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:c}))});const Fe=s.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:a="",end:l=!1,style:i,to:o,viewTransition:c,children:d}=e,u=Ce(e,Ee),p=se(o,{relative:u.relative}),h=te(),x=s.useContext(J),{navigator:f,basename:g}=s.useContext(K),y=null!=x&&function(e,t){void 0===t&&(t={});let n=s.useContext(Pe);null==n&&m(!1);let{basename:r}=De(Le.useViewTransitionState),a=se(e,{relative:t.relative});if(!n.isTransitioning)return!1;let l=F(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=F(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=z(a.pathname,i)||null!=z(a.pathname,l)}(p)&&!0===c,b=f.encodeLocation?f.encodeLocation(p).pathname:p.pathname,v=h.pathname,j=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(v=v.toLowerCase(),j=j?j.toLowerCase():null,b=b.toLowerCase()),j&&g&&(j=F(j,g)||j);const w="/"!==b&&b.endsWith("/")?b.length-1:b.length;let N,k=v===b||!l&&v.startsWith(b)&&"/"===v.charAt(w),_=null!=j&&(j===b||!l&&j.startsWith(b)&&"/"===j.charAt(b.length)),C={isActive:k,isPending:_,isTransitioning:y},S=k?n:void 0;N="function"===typeof a?a(C):[a,k?"active":null,_?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let E="function"===typeof i?i(C):i;return s.createElement(Ae,_e({},u,{"aria-current":S,className:N,ref:t,style:E,to:o,viewTransition:c}),"function"===typeof d?d(C):d)});var Le,Me;function De(e){let t=s.useContext(G);return t||m(!1),t}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Le||(Le={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Me||(Me={}));function Ie(e,t){return function(){return e.apply(t,arguments)}}const{toString:qe}=Object.prototype,{getPrototypeOf:Ue}=Object,{iterator:Be,toStringTag:Ve}=Symbol,He=(We=Object.create(null),e=>{const t=qe.call(e);return We[t]||(We[t]=t.slice(8,-1).toLowerCase())});var We;const $e=e=>(e=e.toLowerCase(),t=>He(t)===e),Qe=e=>t=>typeof t===e,{isArray:Ge}=Array,Je=Qe("undefined");function Ke(e){return null!==e&&!Je(e)&&null!==e.constructor&&!Je(e.constructor)&&Ze(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Xe=$e("ArrayBuffer");const Ye=Qe("string"),Ze=Qe("function"),et=Qe("number"),tt=e=>null!==e&&"object"===typeof e,nt=e=>{if("object"!==He(e))return!1;const t=Ue(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Ve in e)&&!(Be in e)},rt=$e("Date"),at=$e("File"),st=$e("Blob"),lt=$e("FileList"),it=$e("URLSearchParams"),[ot,ct,dt,ut]=["ReadableStream","Request","Response","Headers"].map($e);function mt(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Ge(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(Ke(e))return;const r=a?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let l;for(n=0;n<s;n++)l=r[n],t.call(null,e[l],l,e)}}function pt(e,t){if(Ke(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const ht="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,xt=e=>!Je(e)&&e!==ht;const ft=(gt="undefined"!==typeof Uint8Array&&Ue(Uint8Array),e=>gt&&e instanceof gt);var gt;const yt=$e("HTMLFormElement"),bt=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),vt=$e("RegExp"),jt=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};mt(n,(n,a)=>{let s;!1!==(s=t(n,a,e))&&(r[a]=s||n)}),Object.defineProperties(e,r)};const wt=$e("AsyncFunction"),Nt=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],ht.addEventListener("message",e=>{let{source:t,data:a}=e;t===ht&&a===n&&r.length&&r.shift()()},!1),e=>{r.push(e),ht.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,Ze(ht.postMessage)),kt="undefined"!==typeof queueMicrotask?queueMicrotask.bind(ht):"undefined"!==typeof process&&process.nextTick||Nt,_t={isArray:Ge,isArrayBuffer:Xe,isBuffer:Ke,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Ze(e.append)&&("formdata"===(t=He(e))||"object"===t&&Ze(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Xe(e.buffer),t},isString:Ye,isNumber:et,isBoolean:e=>!0===e||!1===e,isObject:tt,isPlainObject:nt,isEmptyObject:e=>{if(!tt(e)||Ke(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Mi){return!1}},isReadableStream:ot,isRequest:ct,isResponse:dt,isHeaders:ut,isUndefined:Je,isDate:rt,isFile:at,isBlob:st,isRegExp:vt,isFunction:Ze,isStream:e=>tt(e)&&Ze(e.pipe),isURLSearchParams:it,isTypedArray:ft,isFileList:lt,forEach:mt,merge:function e(){const{caseless:t,skipUndefined:n}=xt(this)&&this||{},r={},a=(a,s)=>{const l=t&&pt(r,s)||s;nt(r[l])&&nt(a)?r[l]=e(r[l],a):nt(a)?r[l]=e({},a):Ge(a)?r[l]=a.slice():n&&Je(a)||(r[l]=a)};for(let s=0,l=arguments.length;s<l;s++)arguments[s]&&mt(arguments[s],a);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return mt(t,(t,r)=>{n&&Ze(t)?e[r]=Ie(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,s,l;const i={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)l=a[s],r&&!r(l,e,t)||i[l]||(t[l]=e[l],i[l]=!0);e=!1!==n&&Ue(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:He,kindOfTest:$e,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Ge(e))return e;let t=e.length;if(!et(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Be]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:yt,hasOwnProperty:bt,hasOwnProp:bt,reduceDescriptors:jt,freezeMethods:e=>{jt(e,(t,n)=>{if(Ze(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Ze(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return Ge(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:pt,global:ht,isContextDefined:xt,isSpecCompliantForm:function(e){return!!(e&&Ze(e.append)&&"FormData"===e[Ve]&&e[Be])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(tt(e)){if(t.indexOf(e)>=0)return;if(Ke(e))return e;if(!("toJSON"in e)){t[r]=e;const a=Ge(e)?[]:{};return mt(e,(e,t)=>{const s=n(e,r+1);!Je(s)&&(a[t]=s)}),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:wt,isThenable:e=>e&&(tt(e)||Ze(e))&&Ze(e.then)&&Ze(e.catch),setImmediate:Nt,asap:kt,isIterable:e=>null!=e&&Ze(e[Be])};function Ct(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}_t.inherits(Ct,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_t.toJSONObject(this.config),code:this.code,status:this.status}}});const St=Ct.prototype,Et={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Et[e]={value:e}}),Object.defineProperties(Ct,Et),Object.defineProperty(St,"isAxiosError",{value:!0}),Ct.from=(e,t,n,r,a,s)=>{const l=Object.create(St);_t.toFlatObject(e,l,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const i=e&&e.message?e.message:"Error",o=null==t&&e?e.code:t;return Ct.call(l,i,o,n,r,a),e&&null==l.cause&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",s&&Object.assign(l,s),l};const Pt=Ct;function Ot(e){return _t.isPlainObject(e)||_t.isArray(e)}function Rt(e){return _t.endsWith(e,"[]")?e.slice(0,-2):e}function Tt(e,t,n){return e?e.concat(t).map(function(e,t){return e=Rt(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const zt=_t.toFlatObject(_t,{},null,function(e){return/^is[A-Z]/.test(e)});const At=function(e,t,n){if(!_t.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=_t.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!_t.isUndefined(t[e])})).metaTokens,a=n.visitor||c,s=n.dots,l=n.indexes,i=(n.Blob||"undefined"!==typeof Blob&&Blob)&&_t.isSpecCompliantForm(t);if(!_t.isFunction(a))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(_t.isDate(e))return e.toISOString();if(_t.isBoolean(e))return e.toString();if(!i&&_t.isBlob(e))throw new Pt("Blob is not supported. Use a Buffer instead.");return _t.isArrayBuffer(e)||_t.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,a){let i=e;if(e&&!a&&"object"===typeof e)if(_t.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(_t.isArray(e)&&function(e){return _t.isArray(e)&&!e.some(Ot)}(e)||(_t.isFileList(e)||_t.endsWith(n,"[]"))&&(i=_t.toArray(e)))return n=Rt(n),i.forEach(function(e,r){!_t.isUndefined(e)&&null!==e&&t.append(!0===l?Tt([n],r,s):null===l?n:n+"[]",o(e))}),!1;return!!Ot(e)||(t.append(Tt(a,n,s),o(e)),!1)}const d=[],u=Object.assign(zt,{defaultVisitor:c,convertValue:o,isVisitable:Ot});if(!_t.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!_t.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),_t.forEach(n,function(n,s){!0===(!(_t.isUndefined(n)||null===n)&&a.call(t,n,_t.isString(s)?s.trim():s,r,u))&&e(n,r?r.concat(s):[s])}),d.pop()}}(e),t};function Ft(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Lt(e,t){this._pairs=[],e&&At(e,this,t)}const Mt=Lt.prototype;Mt.append=function(e,t){this._pairs.push([e,t])},Mt.toString=function(e){const t=e?function(t){return e.call(this,t,Ft)}:Ft;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Dt=Lt;function It(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function qt(e,t,n){if(!t)return e;const r=n&&n.encode||It;_t.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let s;if(s=a?a(t,n):_t.isURLSearchParams(t)?t.toString():new Dt(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const Ut=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){_t.forEach(this.handlers,function(t){null!==t&&e(t)})}},Bt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function Vt(e){return Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vt(e)}function Ht(e){var t=function(e,t){if("object"!=Vt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Vt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vt(t)?t:t+""}function Wt(e,t,n){return(t=Ht(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach(function(t){Wt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const Gt={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Dt,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Jt="undefined"!==typeof window&&"undefined"!==typeof document,Kt="object"===typeof navigator&&navigator||void 0,Xt=Jt&&(!Kt||["ReactNative","NativeScript","NS"].indexOf(Kt.product)<0),Yt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Zt=Jt&&window.location.href||"http://localhost",en=Qt(Qt({},r),Gt);const tn=function(e){function t(e,n,r,a){let s=e[a++];if("__proto__"===s)return!0;const l=Number.isFinite(+s),i=a>=e.length;if(s=!s&&_t.isArray(r)?r.length:s,i)return _t.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!l;r[s]&&_t.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],a)&&_t.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const a=n.length;let s;for(r=0;r<a;r++)s=n[r],t[s]=e[s];return t}(r[s])),!l}if(_t.isFormData(e)&&_t.isFunction(e.entries)){const n={};return _t.forEachEntry(e,(e,r)=>{t(function(e){return _t.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const nn={transitional:Bt,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=_t.isObject(e);a&&_t.isHTMLForm(e)&&(e=new FormData(e));if(_t.isFormData(e))return r?JSON.stringify(tn(e)):e;if(_t.isArrayBuffer(e)||_t.isBuffer(e)||_t.isStream(e)||_t.isFile(e)||_t.isBlob(e)||_t.isReadableStream(e))return e;if(_t.isArrayBufferView(e))return e.buffer;if(_t.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return At(e,new en.classes.URLSearchParams,Qt({visitor:function(e,t,n,r){return en.isNode&&_t.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=_t.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return At(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(_t.isString(e))try{return(t||JSON.parse)(e),_t.trim(e)}catch(Mi){if("SyntaxError"!==Mi.name)throw Mi}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||nn.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(_t.isResponse(e)||_t.isReadableStream(e))return e;if(e&&_t.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(Mi){if(n){if("SyntaxError"===Mi.name)throw Pt.from(Mi,Pt.ERR_BAD_RESPONSE,this,null,this.response);throw Mi}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:en.classes.FormData,Blob:en.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_t.forEach(["delete","get","head","post","put","patch"],e=>{nn.headers[e]={}});const rn=nn,an=_t.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sn=Symbol("internals");function ln(e){return e&&String(e).trim().toLowerCase()}function on(e){return!1===e||null==e?e:_t.isArray(e)?e.map(on):String(e)}function cn(e,t,n,r,a){return _t.isFunction(r)?r.call(this,t,n):(a&&(t=n),_t.isString(t)?_t.isString(r)?-1!==t.indexOf(r):_t.isRegExp(r)?r.test(t):void 0:void 0)}class dn{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=ln(t);if(!a)throw new Error("header name must be a non-empty string");const s=_t.findKey(r,a);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=on(e))}const s=(e,t)=>_t.forEach(e,(e,n)=>a(e,n,t));if(_t.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(_t.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&an[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(_t.isObject(e)&&_t.isIterable(e)){let n,r,a={};for(const t of e){if(!_t.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[r=t[0]]=(n=a[r])?_t.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(a,t)}else null!=e&&a(t,e,n);return this}get(e,t){if(e=ln(e)){const n=_t.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(_t.isFunction(t))return t.call(this,e,n);if(_t.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ln(e)){const n=_t.findKey(this,e);return!(!n||void 0===this[n]||t&&!cn(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=ln(e)){const a=_t.findKey(n,e);!a||t&&!cn(0,n[a],a,t)||(delete n[a],r=!0)}}return _t.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];e&&!cn(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return _t.forEach(this,(r,a)=>{const s=_t.findKey(n,a);if(s)return t[s]=on(r),void delete t[a];const l=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(a):String(a).trim();l!==a&&delete t[a],t[l]=on(r),n[l]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return _t.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&_t.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[sn]=this[sn]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=ln(e);t[r]||(!function(e,t){const n=_t.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})})}(n,e),t[r]=!0)}return _t.isArray(e)?e.forEach(r):r(e),this}}dn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),_t.reduceDescriptors(dn.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),_t.freezeMethods(dn);const un=dn;function mn(e,t){const n=this||rn,r=t||n,a=un.from(r.headers);let s=r.data;return _t.forEach(e,function(e){s=e.call(n,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function pn(e){return!(!e||!e.__CANCEL__)}function hn(e,t,n){Pt.call(this,null==e?"canceled":e,Pt.ERR_CANCELED,t,n),this.name="CanceledError"}_t.inherits(hn,Pt,{__CANCEL__:!0});const xn=hn;function fn(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Pt("Request failed with status code "+n.status,[Pt.ERR_BAD_REQUEST,Pt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const gn=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,s=0,l=0;return t=void 0!==t?t:1e3,function(i){const o=Date.now(),c=r[l];a||(a=o),n[s]=i,r[s]=o;let d=l,u=0;for(;d!==s;)u+=n[d++],d%=e;if(s=(s+1)%e,s===l&&(l=(l+1)%e),o-a<t)return;const m=c&&o-c;return m?Math.round(1e3*u/m):void 0}};const yn=function(e,t){let n,r,a=0,s=1e3/t;const l=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=s,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-a;for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];t>=s?l(o,e):(n=o,r||(r=setTimeout(()=>{r=null,l(n)},s-t)))},()=>n&&l(n)]},bn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const a=gn(50,250);return yn(n=>{const s=n.loaded,l=n.lengthComputable?n.total:void 0,i=s-r,o=a(i);r=s;e({loaded:s,total:l,progress:l?s/l:void 0,bytes:i,rate:o||void 0,estimated:o&&l&&s<=l?(l-s)/o:void 0,event:n,lengthComputable:null!=l,[t?"download":"upload"]:!0})},n)},vn=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},jn=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _t.asap(()=>e(...n))},wn=en.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,en.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(en.origin),en.navigator&&/(msie|trident)/i.test(en.navigator.userAgent)):()=>!0,Nn=en.hasStandardBrowserEnv?{write(e,t,n,r,a,s,l){if("undefined"===typeof document)return;const i=["".concat(e,"=").concat(encodeURIComponent(t))];_t.isNumber(n)&&i.push("expires=".concat(new Date(n).toUTCString())),_t.isString(r)&&i.push("path=".concat(r)),_t.isString(a)&&i.push("domain=".concat(a)),!0===s&&i.push("secure"),_t.isString(l)&&i.push("SameSite=".concat(l)),document.cookie=i.join("; ")},read(e){if("undefined"===typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function kn(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const _n=e=>e instanceof un?Qt({},e):e;function Cn(e,t){t=t||{};const n={};function r(e,t,n,r){return _t.isPlainObject(e)&&_t.isPlainObject(t)?_t.merge.call({caseless:r},e,t):_t.isPlainObject(t)?_t.merge({},t):_t.isArray(t)?t.slice():t}function a(e,t,n,a){return _t.isUndefined(t)?_t.isUndefined(e)?void 0:r(void 0,e,0,a):r(e,t,0,a)}function s(e,t){if(!_t.isUndefined(t))return r(void 0,t)}function l(e,t){return _t.isUndefined(t)?_t.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function i(n,a,s){return s in t?r(n,a):s in e?r(void 0,n):void 0}const o={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:i,headers:(e,t,n)=>a(_n(e),_n(t),0,!0)};return _t.forEach(Object.keys(Qt(Qt({},e),t)),function(r){const s=o[r]||a,l=s(e[r],t[r],r);_t.isUndefined(l)&&s!==i||(n[r]=l)}),n}const Sn=e=>{const t=Cn({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:s,headers:l,auth:i}=t;if(t.headers=l=un.from(l),t.url=qt(kn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&l.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),_t.isFormData(n))if(en.hasStandardBrowserEnv||en.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(_t.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&l.set(n,r)})}if(en.hasStandardBrowserEnv&&(r&&_t.isFunction(r)&&(r=r(t)),r||!1!==r&&wn(t.url))){const e=a&&s&&Nn.read(s);e&&l.set(a,e)}return t},En="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=Sn(e);let a=r.data;const s=un.from(r.headers).normalize();let l,i,o,c,d,{responseType:u,onUploadProgress:m,onDownloadProgress:p}=r;function h(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(l),r.signal&&r.signal.removeEventListener("abort",l)}let x=new XMLHttpRequest;function f(){if(!x)return;const r=un.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders());fn(function(e){t(e),h()},function(e){n(e),h()},{data:u&&"text"!==u&&"json"!==u?x.response:x.responseText,status:x.status,statusText:x.statusText,headers:r,config:e,request:x}),x=null}x.open(r.method.toUpperCase(),r.url,!0),x.timeout=r.timeout,"onloadend"in x?x.onloadend=f:x.onreadystatechange=function(){x&&4===x.readyState&&(0!==x.status||x.responseURL&&0===x.responseURL.indexOf("file:"))&&setTimeout(f)},x.onabort=function(){x&&(n(new Pt("Request aborted",Pt.ECONNABORTED,e,x)),x=null)},x.onerror=function(t){const r=t&&t.message?t.message:"Network Error",a=new Pt(r,Pt.ERR_NETWORK,e,x);a.event=t||null,n(a),x=null},x.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||Bt;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Pt(t,a.clarifyTimeoutError?Pt.ETIMEDOUT:Pt.ECONNABORTED,e,x)),x=null},void 0===a&&s.setContentType(null),"setRequestHeader"in x&&_t.forEach(s.toJSON(),function(e,t){x.setRequestHeader(t,e)}),_t.isUndefined(r.withCredentials)||(x.withCredentials=!!r.withCredentials),u&&"json"!==u&&(x.responseType=r.responseType),p&&([o,d]=bn(p,!0),x.addEventListener("progress",o)),m&&x.upload&&([i,c]=bn(m),x.upload.addEventListener("progress",i),x.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(l=t=>{x&&(n(!t||t.type?new xn(null,e,x):t),x.abort(),x=null)},r.cancelToken&&r.cancelToken.subscribe(l),r.signal&&(r.signal.aborted?l():r.signal.addEventListener("abort",l)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);g&&-1===en.protocols.indexOf(g)?n(new Pt("Unsupported protocol "+g+":",Pt.ERR_BAD_REQUEST,e)):x.send(a||null)})},Pn=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const a=function(e){if(!n){n=!0,l();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Pt?t:new xn(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,a(new Pt("timeout ".concat(t," of ms exceeded"),Pt.ETIMEDOUT))},t);const l=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:i}=r;return i.unsubscribe=()=>_t.asap(l),i}};function On(e,t){this.v=e,this.k=t}function Rn(e){return function(){return new Tn(e.apply(this,arguments))}}function Tn(e){var t,n;function r(t,n){try{var s=e[t](n),l=s.value,i=l instanceof On;Promise.resolve(i?l.v:l).then(function(n){if(i){var o="return"===t?"return":"next";if(!l.k||n.done)return r(o,n);n=e[o](n).value}a(s.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise(function(s,l){var i={key:e,arg:a,resolve:s,reject:l,next:null};n?n=n.next=i:(t=n=i,r(e,a))})},"function"!=typeof e.return&&(this.return=void 0)}function zn(e){return new On(e,0)}function An(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new On(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function Fn(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new Ln(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function Ln(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Ln=function(e){this.s=e,this.n=e.next},Ln.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Ln(e)}Tn.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Tn.prototype.next=function(e){return this._invoke("next",e)},Tn.prototype.throw=function(e){return this._invoke("throw",e)},Tn.prototype.return=function(e){return this._invoke("return",e)};const Mn=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,a=0;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},Dn=function(){var e=Rn(function*(e,t){var n,r=!1,a=!1;try{for(var s,l=Fn(In(e));r=!(s=yield zn(l.next())).done;r=!1){const e=s.value;yield*An(Fn(Mn(e,t)))}}catch(i){a=!0,n=i}finally{try{r&&null!=l.return&&(yield zn(l.return()))}finally{if(a)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),In=function(){var e=Rn(function*(e){if(e[Symbol.asyncIterator])return void(yield*An(Fn(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield zn(t.read());if(e)break;yield n}}finally{yield zn(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),qn=(e,t,n,r)=>{const a=Dn(e,t);let s,l=0,i=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await a.next();if(t)return i(),void e.close();let s=r.byteLength;if(n){let e=l+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw i(t),t}},cancel:e=>(i(e),a.return())},{highWaterMark:2})},{isFunction:Un}=_t,Bn=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(_t.global),{ReadableStream:Vn,TextEncoder:Hn}=_t.global,Wn=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(Mi){return!1}},$n=e=>{e=_t.merge.call({skipUndefined:!0},Bn,e);const{fetch:t,Request:n,Response:r}=e,a=t?Un(t):"function"===typeof fetch,s=Un(n),l=Un(r);if(!a)return!1;const i=a&&Un(Vn),o=a&&("function"===typeof Hn?(c=new Hn,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const d=s&&i&&Wn(()=>{let e=!1;const t=new n(en.origin,{body:new Vn,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=l&&i&&Wn(()=>_t.isReadableStream(new r("").body)),m={stream:u&&(e=>e.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!m[e]&&(m[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new Pt("Response type '".concat(e,"' is not supported"),Pt.ERR_NOT_SUPPORT,n)})});const p=async(e,t)=>{const r=_t.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(_t.isBlob(e))return e.size;if(_t.isSpecCompliantForm(e)){const t=new n(en.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return _t.isArrayBufferView(e)||_t.isArrayBuffer(e)?e.byteLength:(_t.isURLSearchParams(e)&&(e+=""),_t.isString(e)?(await o(e)).byteLength:void 0)})(t):r};return async e=>{let{url:a,method:l,data:i,signal:o,cancelToken:c,timeout:h,onDownloadProgress:x,onUploadProgress:f,responseType:g,headers:y,withCredentials:b="same-origin",fetchOptions:v}=Sn(e),j=t||fetch;g=g?(g+"").toLowerCase():"text";let w=Pn([o,c&&c.toAbortSignal()],h),N=null;const k=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let _;try{if(f&&d&&"get"!==l&&"head"!==l&&0!==(_=await p(y,i))){let e,t=new n(a,{method:"POST",body:i,duplex:"half"});if(_t.isFormData(i)&&(e=t.headers.get("content-type"))&&y.setContentType(e),t.body){const[e,n]=vn(_,bn(jn(f)));i=qn(t.body,65536,e,n)}}_t.isString(b)||(b=b?"include":"omit");const t=s&&"credentials"in n.prototype,o=Qt(Qt({},v),{},{signal:w,method:l.toUpperCase(),headers:y.normalize().toJSON(),body:i,duplex:"half",credentials:t?b:void 0});N=s&&new n(a,o);let c=await(s?j(N,v):j(a,o));const h=u&&("stream"===g||"response"===g);if(u&&(x||h&&k)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=_t.toFiniteNumber(c.headers.get("content-length")),[n,a]=x&&vn(t,bn(jn(x),!0))||[];c=new r(qn(c.body,65536,n,()=>{a&&a(),k&&k()}),e)}g=g||"text";let C=await m[_t.findKey(m,g)||"text"](c,e);return!h&&k&&k(),await new Promise((t,n)=>{fn(t,n,{data:C,headers:un.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:N})})}catch(C){if(k&&k(),C&&"TypeError"===C.name&&/Load failed|fetch/i.test(C.message))throw Object.assign(new Pt("Network Error",Pt.ERR_NETWORK,e,N),{cause:C.cause||C});throw Pt.from(C,C&&C.code,e,N)}}},Qn=new Map,Gn=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:a}=t,s=[r,a,n];let l,i,o=s.length,c=Qn;for(;o--;)l=s[o],i=c.get(l),void 0===i&&c.set(l,i=o?new Map:$n(t)),c=i;return i},Jn=(Gn(),{http:null,xhr:En,fetch:{get:Gn}});_t.forEach(Jn,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Mi){}Object.defineProperty(e,"adapterName",{value:t})}});const Kn=e=>"- ".concat(e),Xn=e=>_t.isFunction(e)||null===e||!1===e;const Yn={getAdapter:function(e,t){e=_t.isArray(e)?e:[e];const{length:n}=e;let r,a;const s={};for(let l=0;l<n;l++){let n;if(r=e[l],a=r,!Xn(r)&&(a=Jn[(n=String(r)).toLowerCase()],void 0===a))throw new Pt("Unknown adapter '".concat(n,"'"));if(a&&(_t.isFunction(a)||(a=a.get(t))))break;s[n||"#"+l]=a}if(!a){const e=Object.entries(s).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(Kn).join("\n"):" "+Kn(e[0]):"as no adapter specified";throw new Pt("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return a},adapters:Jn};function Zn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new xn(null,e)}function er(e){Zn(e),e.headers=un.from(e.headers),e.data=mn.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Yn.getAdapter(e.adapter||rn.adapter,e)(e).then(function(t){return Zn(e),t.data=mn.call(e,e.transformResponse,t),t.headers=un.from(t.headers),t},function(t){return pn(t)||(Zn(e),t&&t.response&&(t.response.data=mn.call(e,e.transformResponse,t.response),t.response.headers=un.from(t.response.headers))),Promise.reject(t)})}const tr="1.13.2",nr={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{nr[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const rr={};nr.transitional=function(e,t,n){function r(e,t){return"[Axios v"+tr+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,s)=>{if(!1===e)throw new Pt(r(a," has been removed"+(t?" in "+t:"")),Pt.ERR_DEPRECATED);return t&&!rr[a]&&(rr[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,s)}},nr.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const ar={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Pt("options must be an object",Pt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const s=r[a],l=t[s];if(l){const t=e[s],n=void 0===t||l(t,s,e);if(!0!==n)throw new Pt("option "+s+" must be "+n,Pt.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Pt("Unknown option "+s,Pt.ERR_BAD_OPTION)}},validators:nr},sr=ar.validators;class lr{constructor(e){this.defaults=e||{},this.interceptors={request:new Ut,response:new Ut}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Mi){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Cn(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&ar.assertOptions(n,{silentJSONParsing:sr.transitional(sr.boolean),forcedJSONParsing:sr.transitional(sr.boolean),clarifyTimeoutError:sr.transitional(sr.boolean)},!1),null!=r&&(_t.isFunction(r)?t.paramsSerializer={serialize:r}:ar.assertOptions(r,{encode:sr.function,serialize:sr.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ar.assertOptions(t,{baseUrl:sr.spelling("baseURL"),withXsrfToken:sr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&_t.merge(a.common,a[t.method]);a&&_t.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=un.concat(s,a);const l=[];let i=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});const o=[];let c;this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)});let d,u=0;if(!i){const e=[er.bind(this),void 0];for(e.unshift(...l),e.push(...o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=l.length;let m=t;for(;u<d;){const e=l[u++],t=l[u++];try{m=e(m)}catch(p){t.call(this,p);break}}try{c=er.call(this,m)}catch(p){return Promise.reject(p)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return qt(kn((e=Cn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}_t.forEach(["delete","get","head","options"],function(e){lr.prototype[e]=function(t,n){return this.request(Cn(n||{},{method:e,url:t,data:(n||{}).data}))}}),_t.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,a){return this.request(Cn(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}lr.prototype[e]=t(),lr.prototype[e+"Form"]=t(!0)});const ir=lr;class or{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,a){n.reason||(n.reason=new xn(e,r,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new or(function(t){e=t}),cancel:e}}}const cr=or;const dr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(dr).forEach(e=>{let[t,n]=e;dr[n]=t});const ur=dr;const mr=function e(t){const n=new ir(t),r=Ie(ir.prototype.request,n);return _t.extend(r,ir.prototype,n,{allOwnKeys:!0}),_t.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Cn(t,n))},r}(rn);mr.Axios=ir,mr.CanceledError=xn,mr.CancelToken=cr,mr.isCancel=pn,mr.VERSION=tr,mr.toFormData=At,mr.AxiosError=Pt,mr.Cancel=mr.CanceledError,mr.all=function(e){return Promise.all(e)},mr.spread=function(e){return function(t){return e.apply(null,t)}},mr.isAxiosError=function(e){return _t.isObject(e)&&!0===e.isAxiosError},mr.mergeConfig=Cn,mr.AxiosHeaders=un,mr.formToJSON=e=>tn(_t.isHTMLForm(e)?new FormData(e):e),mr.getAdapter=Yn.getAdapter,mr.HttpStatusCode=ur,mr.default=mr;const pr=mr,hr=pr.create({baseURL:"".concat("https://resto-hub-54.preview.emergentagent.com","/api/v1/admin"),headers:{"Content-Type":"application/json"}}),xr=(e,t)=>hr.post("/auth/login",{email:e,password:t}),fr=()=>hr.get("/dashboard/stats"),gr=e=>hr.get("/products",{params:{category:e}}),yr=e=>hr.post("/products",e),br=(e,t)=>hr.put("/products/".concat(e),t),vr=e=>hr.delete("/products/".concat(e)),jr=()=>hr.get("/categories"),wr=e=>hr.post("/categories",e),Nr=(e,t)=>hr.put("/categories/".concat(e),t),kr=e=>hr.delete("/categories/".concat(e)),_r=e=>hr.post("/ai/generate-marketing",e),Cr=()=>hr.get("/ai/analyze-sales"),Sr=e=>hr.post("/ai/chat",{question:e}),Er=()=>hr.get("/ai/suggest-promo"),Pr=()=>hr.get("/promos"),Or=e=>hr.delete("/promos/".concat(e)),Rr=e=>hr.get("/customers",{params:e}),Tr=()=>hr.get("/notifications"),zr=e=>hr.post("/notifications/".concat(e,"/send")),Ar=e=>hr.delete("/notifications/".concat(e)),Fr=e=>hr.get("/reservations",{params:e}),Lr=(e,t)=>hr.patch("/reservations/".concat(e,"/status"),t);var Mr=n(579);const Dr=(0,s.createContext)(),Ir=()=>{const e=(0,s.useContext)(Dr);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},qr=e=>{let{children:t}=e;const[n,r]=(0,s.useState)(null),[a,l]=(0,s.useState)(!0);(0,s.useEffect)(()=>{const e=localStorage.getItem("admin_token"),t=localStorage.getItem("admin_user");e&&t&&r(JSON.parse(t)),l(!1)},[]);const i={user:n,loading:a,login:async(e,t)=>{try{const n=await xr(e,t),{access_token:a,user:s}=n.data;return localStorage.setItem("admin_token",a),localStorage.setItem("admin_user",JSON.stringify(s)),r(s),{success:!0}}catch(s){var n,a;return{success:!1,error:(null===(n=s.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.detail)||"Login failed"}}},logout:()=>{localStorage.removeItem("admin_token"),localStorage.removeItem("admin_user"),r(null)},isAuthenticated:!!n};return(0,Mr.jsx)(Dr.Provider,{value:i,children:t})};function Ur(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const Br=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Vr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var Hr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Wr=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],$r=(0,s.forwardRef)((e,t)=>{let{color:n="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:i="",children:o,iconNode:c}=e,d=Ur(e,Wr);return(0,s.createElement)("svg",Qt(Qt(Qt({ref:t},Hr),{},{width:r,height:r,stroke:n,strokeWidth:l?24*Number(a)/Number(r):a,className:Vr("lucide",i)},!o&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"}),d),[...c.map(e=>{let[t,n]=e;return(0,s.createElement)(t,n)}),...Array.isArray(o)?o:[o]])}),Qr=["className"],Gr=(e,t)=>{const n=(0,s.forwardRef)((n,r)=>{let{className:a}=n,l=Ur(n,Qr);return(0,s.createElement)($r,Qt({ref:r,iconNode:t,className:Vr("lucide-".concat((i=Br(e),i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),a)},l));var i});return n.displayName=Br(e),n},Jr=Gr("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Kr=Gr("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Xr=Gr("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),Yr=Gr("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),Zr=Gr("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),ea=Gr("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),ta=Gr("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),na=Gr("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),ra=Gr("sliders-vertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]),aa=Gr("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),sa=Gr("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),la=Gr("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),ia=Gr("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),oa=Gr("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);function ca(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=ca(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function da(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=ca(e))&&(r&&(r+=" "),r+=t);return r}const ua=(e,t)=>{var n;if(0===e.length)return t.classGroupId;const r=e[0],a=t.nextPart.get(r),s=a?ua(e.slice(1),a):void 0;if(s)return s;if(0===t.validators.length)return;const l=e.join("-");return null===(n=t.validators.find(e=>{let{validator:t}=e;return t(l)}))||void 0===n?void 0:n.classGroupId},ma=/^\[(.+)\]$/,pa=e=>{if(ma.test(e)){const t=ma.exec(e)[1],n=null===t||void 0===t?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},ha=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return ya(Object.entries(e.classGroups),n).forEach(e=>{let[n,a]=e;xa(a,r,n,t)}),r},xa=(e,t,n,r)=>{e.forEach(e=>{if("string"===typeof e){return void((""===e?t:fa(t,e)).classGroupId=n)}if("function"===typeof e)return ga(e)?void xa(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach(e=>{let[a,s]=e;xa(s,fa(t,a),n,r)})})},fa=(e,t)=>{let n=e;return t.split("-").forEach(e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)}),n},ga=e=>e.isThemeGetter,ya=(e,t)=>t?e.map(e=>{let[n,r]=e;return[n,r.map(e=>"string"===typeof e?t+e:"object"===typeof e?Object.fromEntries(Object.entries(e).map(e=>{let[n,r]=e;return[t+n,r]})):e)]}):e,ba=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(a,s)=>{n.set(a,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(a(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):a(e,t)}}},va=e=>{const{separator:t,experimentalParseClassName:n}=e,r=1===t.length,a=t[0],s=t.length,l=e=>{const n=[];let l,i=0,o=0;for(let u=0;u<e.length;u++){let c=e[u];if(0===i){if(c===a&&(r||e.slice(u,u+s)===t)){n.push(e.slice(o,u)),o=u+s;continue}if("/"===c){l=u;continue}}"["===c?i++:"]"===c&&i--}const c=0===n.length?e:e.substring(o),d=c.startsWith("!");return{modifiers:n,hasImportantModifier:d,baseClassName:d?c.substring(1):c,maybePostfixModifierPosition:l&&l>o?l-o:void 0}};return n?e=>n({className:e,parseClassName:l}):l},ja=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)}),t.push(...n.sort()),t},wa=e=>Qt({cache:ba(e.cacheSize),parseClassName:va(e)},(e=>{const t=ha(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),ua(n,t)||pa(e)},getConflictingClassGroupIds:(e,t)=>{const a=n[e]||[];return t&&r[e]?[...a,...r[e]]:a}}})(e)),Na=/\s+/;function ka(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=_a(e))&&(r&&(r+=" "),r+=t);return r}const _a=e=>{if("string"===typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=_a(e[r]))&&(n&&(n+=" "),n+=t);return n};function Ca(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let a,s,l,i=function(t){const r=n.reduce((e,t)=>t(e),e());return a=wa(r),s=a.cache.get,l=a.cache.set,i=o,o(t)};function o(e){const t=s(e);if(t)return t;const n=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,s=[],l=e.trim().split(Na);let i="";for(let o=l.length-1;o>=0;o-=1){const e=l[o],{modifiers:t,hasImportantModifier:c,baseClassName:d,maybePostfixModifierPosition:u}=n(e);let m=Boolean(u),p=r(m?d.substring(0,u):d);if(!p){if(!m){i=e+(i.length>0?" "+i:i);continue}if(p=r(d),!p){i=e+(i.length>0?" "+i:i);continue}m=!1}const h=ja(t).join(":"),x=c?h+"!":h,f=x+p;if(s.includes(f))continue;s.push(f);const g=a(p,m);for(let n=0;n<g.length;++n){const e=g[n];s.push(x+e)}i=e+(i.length>0?" "+i:i)}return i})(e,a);return l(e,n),n}return function(){return i(ka.apply(null,arguments))}}const Sa=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},Ea=/^\[(?:([a-z-]+):)?(.+)\]$/i,Pa=/^\d+\/\d+$/,Oa=new Set(["px","full","screen"]),Ra=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ta=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,za=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Aa=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Fa=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,La=e=>Da(e)||Oa.has(e)||Pa.test(e),Ma=e=>Xa(e,"length",Ya),Da=e=>Boolean(e)&&!Number.isNaN(Number(e)),Ia=e=>Xa(e,"number",Da),qa=e=>Boolean(e)&&Number.isInteger(Number(e)),Ua=e=>e.endsWith("%")&&Da(e.slice(0,-1)),Ba=e=>Ea.test(e),Va=e=>Ra.test(e),Ha=new Set(["length","size","percentage"]),Wa=e=>Xa(e,Ha,Za),$a=e=>Xa(e,"position",Za),Qa=new Set(["image","url"]),Ga=e=>Xa(e,Qa,ts),Ja=e=>Xa(e,"",es),Ka=()=>!0,Xa=(e,t,n)=>{const r=Ea.exec(e);return!!r&&(r[1]?"string"===typeof t?r[1]===t:t.has(r[1]):n(r[2]))},Ya=e=>Ta.test(e)&&!za.test(e),Za=()=>!1,es=e=>Aa.test(e),ts=e=>Fa.test(e),ns=(Symbol.toStringTag,()=>{const e=Sa("colors"),t=Sa("spacing"),n=Sa("blur"),r=Sa("brightness"),a=Sa("borderColor"),s=Sa("borderRadius"),l=Sa("borderSpacing"),i=Sa("borderWidth"),o=Sa("contrast"),c=Sa("grayscale"),d=Sa("hueRotate"),u=Sa("invert"),m=Sa("gap"),p=Sa("gradientColorStops"),h=Sa("gradientColorStopPositions"),x=Sa("inset"),f=Sa("margin"),g=Sa("opacity"),y=Sa("padding"),b=Sa("saturate"),v=Sa("scale"),j=Sa("sepia"),w=Sa("skew"),N=Sa("space"),k=Sa("translate"),_=()=>["auto",Ba,t],C=()=>[Ba,t],S=()=>["",La,Ma],E=()=>["auto",Da,Ba],P=()=>["","0",Ba],O=()=>[Da,Ba];return{cacheSize:500,separator:":",theme:{colors:[Ka],spacing:[La,Ma],blur:["none","",Va,Ba],brightness:O(),borderColor:[e],borderRadius:["none","","full",Va,Ba],borderSpacing:C(),borderWidth:S(),contrast:O(),grayscale:P(),hueRotate:O(),invert:P(),gap:C(),gradientColorStops:[e],gradientColorStopPositions:[Ua,Ma],inset:_(),margin:_(),opacity:O(),padding:C(),saturate:O(),scale:O(),sepia:P(),skew:O(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",Ba]}],container:["container"],columns:[{columns:[Va]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Ba]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",qa,Ba]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ba]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",qa,Ba]}],"grid-cols":[{"grid-cols":[Ka]}],"col-start-end":[{col:["auto",{span:["full",qa,Ba]},Ba]}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":[Ka]}],"row-start-end":[{row:["auto",{span:[qa,Ba]},Ba]}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ba]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ba]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[f]}],mx:[{mx:[f]}],my:[{my:[f]}],ms:[{ms:[f]}],me:[{me:[f]}],mt:[{mt:[f]}],mr:[{mr:[f]}],mb:[{mb:[f]}],ml:[{ml:[f]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ba,t]}],"min-w":[{"min-w":[Ba,t,"min","max","fit"]}],"max-w":[{"max-w":[Ba,t,"none","full","min","max","fit","prose",{screen:[Va]},Va]}],h:[{h:[Ba,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ba,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ba,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ba,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Va,Ma]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ia]}],"font-family":[{font:[Ka]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ba]}],"line-clamp":[{"line-clamp":["none",Da,Ia]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",La,Ba]}],"list-image":[{"list-image":["none",Ba]}],"list-style-type":[{list:["none","disc","decimal",Ba]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",La,Ma]}],"underline-offset":[{"underline-offset":["auto",La,Ba]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ba]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ba]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",$a]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Wa]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ga]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[La,Ba]}],"outline-w":[{outline:[La,Ma]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:S()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[La,Ma]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Va,Ja]}],"shadow-color":[{shadow:[Ka]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[o]}],"drop-shadow":[{"drop-shadow":["","none",Va,Ba]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[b]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[o]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ba]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",Ba]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ba]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[v]}],"scale-x":[{"scale-x":[v]}],"scale-y":[{"scale-y":[v]}],rotate:[{rotate:[qa,Ba]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ba]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ba]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ba]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[La,Ma,Ia]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}),rs=Ca(ns);function as(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rs(da(t))}const ss=[{name:"Tableau de bord",path:"/admin",icon:Jr,exact:!0},{name:"Commandes",path:"/admin/orders",icon:Kr},{name:"Gestion du Menu",path:"/admin/menu",icon:Xr,highlight:!0},{name:"\ud83c\udfaf Promotions",path:"/admin/promotions",icon:Yr,highlight:!0},{name:"Notifications",path:"/admin/notifications",icon:Zr},{name:"Chiffre d'Affaires",path:"/admin/revenue",icon:ea},{name:"\ud83e\udd16 IA Marketing",path:"/admin/ai-marketing",icon:ta,section:!0},{name:"Campagnes propos\xe9es",path:"/admin/ai-marketing/campaigns",icon:ta,indent:!0},{name:"Historique & R\xe9sultats",path:"/admin/ai-marketing/history",icon:na,indent:!0},{name:"Param\xe8tres IA",path:"/admin/ai-marketing/settings",icon:ra,indent:!0},{name:"Clients",path:"/admin/customers",icon:aa},{name:"Assistant IA",path:"/admin/ai",icon:sa},{name:"R\xe9servations",path:"/admin/reservations",icon:la},{name:"Promos (ancien)",path:"/admin/promos",icon:Yr},{name:"Param\xe8tres",path:"/admin/settings",icon:ia}],ls=()=>{const{logout:e,user:t}=Ir();return(0,Mr.jsxs)("div",{className:"w-64 bg-white border-r border-gray-200 h-screen fixed left-0 top-0 flex flex-col",children:[(0,Mr.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,Mr.jsx)("h1",{className:"text-2xl font-black text-primary",children:"Family's"}),(0,Mr.jsx)("p",{className:"text-sm text-gray-500",children:"Back Office"})]}),(0,Mr.jsx)("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:ss.map(e=>e.section?(0,Mr.jsx)("div",{className:"pt-4 pb-2",children:(0,Mr.jsxs)("div",{className:"flex items-center space-x-2 px-4 text-sm font-bold text-primary",children:[(0,Mr.jsx)(e.icon,{className:"w-4 h-4"}),(0,Mr.jsx)("span",{children:e.name})]})},e.path):(0,Mr.jsxs)(Fe,{to:e.path,end:e.exact,className:t=>{let{isActive:n}=t;return as("flex items-center space-x-3 px-4 py-3 rounded-lg transition-all duration-200",e.indent&&"pl-8",e.highlight&&"border-2 border-orange-300",n?e.highlight?"bg-gradient-to-r from-orange-500 to-red-500 text-white font-bold shadow-lg":"bg-primary text-white font-semibold":e.highlight?"bg-gradient-to-r from-orange-50 to-red-50 text-orange-700 font-bold hover:from-orange-100 hover:to-red-100":"text-gray-700 hover:bg-gray-100")},children:[(0,Mr.jsx)(e.icon,{className:"w-5 h-5"}),(0,Mr.jsx)("span",{children:e.name})]},e.path))}),(0,Mr.jsxs)("div",{className:"p-4 border-t border-gray-200",children:[(0,Mr.jsxs)("div",{className:"mb-3",children:[(0,Mr.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:null===t||void 0===t?void 0:t.name}),(0,Mr.jsx)("p",{className:"text-xs text-gray-500",children:null===t||void 0===t?void 0:t.email})]}),(0,Mr.jsxs)("button",{onClick:e,className:"flex items-center space-x-2 w-full px-4 py-2 rounded-lg text-red-600 hover:bg-red-50 transition-all",children:[(0,Mr.jsx)(oa,{className:"w-4 h-4"}),(0,Mr.jsx)("span",{className:"text-sm font-semibold",children:"D\xe9connexion"})]})]})]})},is=()=>(0,Mr.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[(0,Mr.jsx)(ls,{}),(0,Mr.jsx)("main",{className:"flex-1 ml-64",children:(0,Mr.jsx)(ve,{})})]}),os=["className","variant","size"],cs=s.forwardRef((e,t)=>{let{className:n,variant:r="primary",size:a="md"}=e,s=Ur(e,os);return(0,Mr.jsx)("button",Qt({ref:t,className:as("rounded-lg font-semibold transition-all duration-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",{primary:"bg-primary hover:bg-primary/90 text-white",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-900",outline:"border-2 border-gray-300 hover:bg-gray-50",ghost:"hover:bg-gray-100",danger:"bg-red-600 hover:bg-red-700 text-white"}[r],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"}[a],n)},s))});cs.displayName="Button";const ds=["className","type"],us=["className"],ms=["className","children"],ps=["className"],hs=s.forwardRef((e,t)=>{let{className:n,type:r="text"}=e,a=Ur(e,ds);return(0,Mr.jsx)("input",Qt({type:r,className:as("w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",n),ref:t},a))});hs.displayName="Input";const xs=e=>{let{className:t}=e,n=Ur(e,us);return(0,Mr.jsx)("label",Qt({className:as("block text-sm font-semibold text-gray-700 mb-2",t)},n))},fs=s.forwardRef((e,t)=>{let{className:n,children:r}=e,a=Ur(e,ms);return(0,Mr.jsx)("select",Qt(Qt({className:as("w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all bg-white",n),ref:t},a),{},{children:r}))});fs.displayName="Select";const gs=s.forwardRef((e,t)=>{let{className:n}=e,r=Ur(e,ps);return(0,Mr.jsx)("textarea",Qt({className:as("w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all resize-vertical",n),ref:t},r))});gs.displayName="Textarea";const ys=["className"],bs=["className"],vs=["className"],js=["className"],ws=e=>{let{className:t}=e,n=Ur(e,ys);return(0,Mr.jsx)("div",Qt({className:as("bg-white rounded-xl shadow-md p-6",t)},n))},Ns=e=>{let{className:t}=e,n=Ur(e,bs);return(0,Mr.jsx)("div",Qt({className:as("mb-4",t)},n))},ks=e=>{let{className:t}=e,n=Ur(e,vs);return(0,Mr.jsx)("h3",Qt({className:as("text-xl font-bold text-gray-900",t)},n))},_s=e=>{let{className:t}=e,n=Ur(e,js);return(0,Mr.jsx)("div",Qt({className:as("",t)},n))},Cs=()=>{const[e,t]=(0,s.useState)(""),[n,r]=(0,s.useState)(""),[a,l]=(0,s.useState)(""),[i,o]=(0,s.useState)(!1),{login:c}=Ir(),d=re();return(0,Mr.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-primary to-red-800 flex items-center justify-center p-4",children:(0,Mr.jsxs)(ws,{className:"w-full max-w-md",children:[(0,Mr.jsxs)("div",{className:"text-center mb-8",children:[(0,Mr.jsx)("h1",{className:"text-3xl font-black text-primary mb-2",children:"Family's"}),(0,Mr.jsx)("p",{className:"text-gray-600",children:"Back Office - Connexion"})]}),(0,Mr.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),l(""),o(!0);const r=await c(e,n);r.success?d("/admin"):l(r.error),o(!1)},className:"space-y-4",children:[a&&(0,Mr.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:a}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"email",children:"Email"}),(0,Mr.jsx)(hs,{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"admin@familys.app",required:!0})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"password",children:"Mot de passe"}),(0,Mr.jsx)(hs,{id:"password",type:"password",value:n,onChange:e=>r(e.target.value),placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0})]}),(0,Mr.jsx)(cs,{type:"submit",className:"w-full",disabled:i,children:i?"Connexion...":"Se connecter"})]}),(0,Mr.jsxs)("div",{className:"mt-6 text-center text-sm text-gray-500",children:[(0,Mr.jsx)("p",{children:"Compte par d\xe9faut:"}),(0,Mr.jsx)("p",{className:"font-mono",children:"admin@familys.app / Admin@123456"})]})]})})},Ss=e=>{let{title:t}=e;return(0,Mr.jsxs)("header",{className:"bg-white border-b border-gray-200 px-8 py-4 flex items-center justify-between",children:[(0,Mr.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:t}),(0,Mr.jsx)("div",{className:"flex items-center space-x-4",children:(0,Mr.jsxs)("button",{className:"p-2 hover:bg-gray-100 rounded-lg relative",children:[(0,Mr.jsx)(Zr,{className:"w-5 h-5 text-gray-600"}),(0,Mr.jsx)("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]})})]})},Es=Gr("euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]),Ps=Gr("trending-up",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Os=Gr("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Rs=Gr("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Ts=Gr("banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),zs=()=>{var e,t,n;const[r,a]=(0,s.useState)(null),[l,i]=(0,s.useState)(!0);(0,s.useEffect)(()=>{o()},[]);const o=async()=>{try{const e=await fr();a(e.data)}catch(e){console.error("Failed to load stats:",e)}finally{i(!1)}};return l?(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(Ss,{title:"Tableau de bord"}),(0,Mr.jsx)("div",{className:"p-8",children:(0,Mr.jsx)("p",{children:"Chargement..."})})]}):(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(Ss,{title:"Tableau de bord"}),(0,Mr.jsxs)("div",{className:"p-8",children:[(0,Mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,Mr.jsx)(ws,{children:(0,Mr.jsxs)(_s,{className:"flex items-center justify-between",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("p",{className:"text-sm text-gray-500 font-semibold",children:"CA Aujourd'hui"}),(0,Mr.jsxs)("p",{className:"text-3xl font-black text-primary mt-2",children:[(null===r||void 0===r||null===(e=r.ca_today)||void 0===e?void 0:e.toFixed(2))||"0.00","\u20ac"]})]}),(0,Mr.jsx)("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:(0,Mr.jsx)(Es,{className:"w-6 h-6 text-primary"})})]})}),(0,Mr.jsx)(ws,{children:(0,Mr.jsxs)(_s,{className:"flex items-center justify-between",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("p",{className:"text-sm text-gray-500 font-semibold",children:"Commandes"}),(0,Mr.jsx)("p",{className:"text-3xl font-black text-blue-600 mt-2",children:(null===r||void 0===r?void 0:r.orders_today)||0})]}),(0,Mr.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,Mr.jsx)(Kr,{className:"w-6 h-6 text-blue-600"})})]})}),(0,Mr.jsx)(ws,{children:(0,Mr.jsxs)(_s,{className:"flex items-center justify-between",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("p",{className:"text-sm text-gray-500 font-semibold",children:"Panier moyen"}),(0,Mr.jsxs)("p",{className:"text-3xl font-black text-green-600 mt-2",children:[(null===r||void 0===r?void 0:r.orders_today)>0?(r.ca_today/r.orders_today).toFixed(2):"0.00","\u20ac"]})]}),(0,Mr.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:(0,Mr.jsx)(Ps,{className:"w-6 h-6 text-green-600"})})]})}),(0,Mr.jsx)(ws,{children:(0,Mr.jsxs)(_s,{className:"flex items-center justify-between",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("p",{className:"text-sm text-gray-500 font-semibold",children:"Alertes"}),(0,Mr.jsx)("p",{className:"text-3xl font-black text-orange-600 mt-2",children:(null===r||void 0===r||null===(t=r.alerts)||void 0===t?void 0:t.out_of_stock_count)||0})]}),(0,Mr.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,Mr.jsx)(Os,{className:"w-6 h-6 text-orange-600"})})]})})]}),(0,Mr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,Mr.jsxs)(ws,{children:[(0,Mr.jsx)(Ns,{children:(0,Mr.jsx)(ks,{children:"R\xe9partition paiements"})}),(0,Mr.jsx)(_s,{children:(0,Mr.jsxs)("div",{className:"space-y-3",children:[Object.entries((null===r||void 0===r?void 0:r.payment_breakdown)||{}).map(e=>{let[t,n]=e;return(0,Mr.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Mr.jsxs)("div",{className:"flex items-center space-x-3",children:["card"===t&&(0,Mr.jsx)(Rs,{className:"w-5 h-5 text-gray-600"}),"cash"===t&&(0,Mr.jsx)(Ts,{className:"w-5 h-5 text-gray-600"}),(0,Mr.jsx)("span",{className:"font-semibold text-gray-700 capitalize",children:t})]}),(0,Mr.jsxs)("span",{className:"font-bold text-gray-900",children:[n.toFixed(2),"\u20ac"]})]},t)}),0===Object.keys((null===r||void 0===r?void 0:r.payment_breakdown)||{}).length&&(0,Mr.jsx)("p",{className:"text-gray-500 text-center py-4",children:"Aucune vente aujourd'hui"})]})})]}),(0,Mr.jsxs)(ws,{children:[(0,Mr.jsx)(Ns,{children:(0,Mr.jsx)(ks,{children:"Top 5 produits (7 jours)"})}),(0,Mr.jsx)(_s,{children:(0,Mr.jsxs)("div",{className:"space-y-3",children:[null===r||void 0===r||null===(n=r.top_products)||void 0===n?void 0:n.map((e,t)=>(0,Mr.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("p",{className:"font-semibold text-gray-900",children:e.name}),(0,Mr.jsxs)("p",{className:"text-sm text-gray-500",children:[e.quantity," ventes"]})]}),(0,Mr.jsxs)("span",{className:"font-bold text-primary",children:[e.revenue.toFixed(2),"\u20ac"]})]},t)),(!(null!==r&&void 0!==r&&r.top_products)||0===r.top_products.length)&&(0,Mr.jsx)("p",{className:"text-gray-500 text-center py-4",children:"Aucune vente cette semaine"})]})})]})]})]})]})},As=Gr("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Fs=e=>{let{isOpen:t,onClose:n,title:r,children:a,size:l="md"}=e;if((0,s.useEffect)(()=>(document.body.style.overflow=t?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[t]),!t)return null;return(0,Mr.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,Mr.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:n}),(0,Mr.jsxs)("div",{className:as("relative bg-white rounded-xl shadow-2xl w-full",{sm:"max-w-md",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl",small:"max-w-md"}[l]),children:[r&&(0,Mr.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[(0,Mr.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:r}),(0,Mr.jsx)("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:(0,Mr.jsx)(As,{className:"w-5 h-5 text-gray-600"})})]}),(0,Mr.jsx)("div",{className:"p-4 max-h-[75vh] overflow-y-auto",children:a})]})]})},Ls=Gr("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),Ms=Gr("upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Ds="https://resto-hub-54.preview.emergentagent.com",Is=e=>{let{currentImage:t,onImageChange:n,label:r="Image"}=e;const[a,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(t||null);return(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:r}),i?(0,Mr.jsxs)("div",{className:"relative",children:[(0,Mr.jsx)("img",{src:i,alt:"Preview",className:"w-full h-48 object-cover rounded-lg border-2 border-gray-300"}),(0,Mr.jsx)("button",{type:"button",onClick:()=>{o(null),n("")},className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-lg",children:(0,Mr.jsx)(As,{className:"w-4 h-4"})})]}):(0,Mr.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-primary transition-colors cursor-pointer",children:[(0,Mr.jsx)("input",{type:"file",accept:"image/*",onChange:async e=>{const r=e.target.files[0];if(!r)return;if(!r.type.startsWith("image/"))return void alert("Veuillez s\xe9lectionner une image");const a=new FileReader;a.onloadend=()=>{o(a.result)},a.readAsDataURL(r),l(!0);try{const e=new FormData;e.append("file",r);const t=await pr.post("".concat(Ds,"/api/v1/admin/upload/image"),e,{headers:{"Content-Type":"multipart/form-data"}}),a="".concat(Ds).concat(t.data.url);n(a),alert("\u2705 Image upload\xe9e!")}catch(s){console.error("Erreur upload:",s),alert("Erreur lors de l'upload de l'image"),o(t)}finally{l(!1)}},className:"hidden",id:"image-upload",disabled:a}),(0,Mr.jsx)("label",{htmlFor:"image-upload",className:"cursor-pointer",children:a?(0,Mr.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Mr.jsx)(Ls,{className:"w-12 h-12 text-primary animate-spin mb-2"}),(0,Mr.jsx)("p",{className:"text-sm text-gray-600",children:"Upload en cours..."})]}):(0,Mr.jsxs)("div",{className:"flex flex-col items-center",children:[(0,Mr.jsx)(Ms,{className:"w-12 h-12 text-gray-400 mb-2"}),(0,Mr.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"Cliquez pour uploader une image"}),(0,Mr.jsx)("p",{className:"text-xs text-gray-400",children:"PNG, JPG, WEBP jusqu'\xe0 10MB"})]})})]}),(0,Mr.jsx)("div",{className:"mt-3",children:(0,Mr.jsx)("input",{type:"text",value:i||"",onChange:e=>{o(e.target.value),n(e.target.value)},placeholder:"Ou collez une URL d'image...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})})]})},qs=Gr("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Us=Gr("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Bs=Gr("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Vs=e=>{let{isOpen:t,onClose:n,product:r,onSuccess:a}=e;const[l,i]=(0,s.useState)(!1),[o,c]=(0,s.useState)([]),[d,u]=(0,s.useState)([]),[m,p]=(0,s.useState)([]),[h,x]=(0,s.useState)({}),[f,g]=(0,s.useState)({name:"",category:"",description:"",base_price:"",vat_rate:"10",image:"",image_url:"",tags:[],option_ids:[],is_available:!0,is_out_of_stock:!1});(0,s.useEffect)(()=>{y(),b()},[]),(0,s.useEffect)(()=>{t&&(y(),b())},[t]),(0,s.useEffect)(()=>{if(r){var e,t,n,a;const s={name:r.name||"",category:r.category||"",description:r.description||"",base_price:(null===(e=r.base_price)||void 0===e?void 0:e.toString())||"",vat_rate:(null===(t=r.vat_rate)||void 0===t?void 0:t.toString())||"10",image:r.image||"",image_url:r.image_url||r.image||"",tags:r.tags||[],option_ids:r.option_ids||[],is_available:null===(n=r.is_available)||void 0===n||n,is_out_of_stock:null!==(a=r.is_out_of_stock)&&void 0!==a&&a};if(g(s),s.option_ids.length>0){const e=d.filter(e=>s.option_ids.includes(e.id));p(e.map((e,t)=>Qt(Qt({},e),{},{order:t})))}}else g({name:"",category:"",description:"",base_price:"",vat_rate:"10",image:"",image_url:"",tags:[],option_ids:[],is_available:!0,is_out_of_stock:!1}),p([])},[r,d]);const y=async()=>{try{const e=await jr();c(e.data.categories||[])}catch(e){console.error("Failed to load categories:",e)}},b=async()=>{try{const e=await pr.get("".concat("https://resto-hub-54.preview.emergentagent.com","/api/v1/admin/options"));u(e.data.options||[])}catch(e){console.error("Failed to load options:",e)}},v=(e,t)=>{t?(p([...m,Qt(Qt({},e),{},{order:m.length})]),g(Qt(Qt({},f),{},{option_ids:[...f.option_ids,e.id]}))):(p(m.filter(t=>t.id!==e.id)),g(Qt(Qt({},f),{},{option_ids:f.option_ids.filter(t=>t!==e.id)})))};return(0,Mr.jsx)(Fs,{isOpen:t,onClose:n,title:r?"Modifier le produit":"Nouveau produit",size:"lg",children:(0,Mr.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(!0);try{const e=Qt(Qt({},f),{},{base_price:parseFloat(f.base_price),vat_rate:parseFloat(f.vat_rate),option_groups:[]});r?await br(r.id,e):await yr(e),a(),n()}catch(l){var t,s;alert("Erreur : "+((null===(t=l.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.detail)||"Erreur inconnue"))}finally{i(!1)}},className:"space-y-4",children:[(0,Mr.jsx)("div",{children:(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"name",children:"Nom du produit *"}),(0,Mr.jsx)(hs,{id:"name",value:f.name,onChange:e=>g(Qt(Qt({},f),{},{name:e.target.value})),required:!0})]})}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"category",children:"Cat\xe9gorie *"}),(0,Mr.jsxs)(fs,{id:"category",value:f.category,onChange:e=>g(Qt(Qt({},f),{},{category:e.target.value})),required:!0,children:[(0,Mr.jsx)("option",{value:"",children:"S\xe9lectionner..."}),o.map(e=>(0,Mr.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"description",children:"Description *"}),(0,Mr.jsx)("textarea",{id:"description",value:f.description,onChange:e=>g(Qt(Qt({},f),{},{description:e.target.value})),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all",rows:"3",required:!0})]}),(0,Mr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"base_price",children:"Prix TTC (\u20ac) *"}),(0,Mr.jsx)(hs,{id:"base_price",type:"number",step:"0.01",min:"0",value:f.base_price,onChange:e=>g(Qt(Qt({},f),{},{base_price:e.target.value})),required:!0})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"vat_rate",children:"TVA (%) *"}),(0,Mr.jsxs)(fs,{id:"vat_rate",value:f.vat_rate,onChange:e=>g(Qt(Qt({},f),{},{vat_rate:e.target.value})),required:!0,children:[(0,Mr.jsx)("option",{value:"5.5",children:"5.5%"}),(0,Mr.jsx)("option",{value:"10",children:"10%"}),(0,Mr.jsx)("option",{value:"20",children:"20%"})]})]})]}),(0,Mr.jsx)(Is,{currentImage:f.image_url||f.image,onImageChange:e=>g(Qt(Qt({},f),{},{image:e,image_url:e})),label:"Image du produit"}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{children:"Options du produit"}),(0,Mr.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"S\xe9lectionnez les options que le client pourra choisir pour ce produit"}),m.length>0&&(0,Mr.jsxs)("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,Mr.jsxs)("h4",{className:"text-sm font-semibold text-blue-900 mb-2",children:["Options s\xe9lectionn\xe9es (",m.length,")"]}),(0,Mr.jsx)("div",{className:"space-y-2",children:m.map((e,t)=>{var n;return(0,Mr.jsx)("div",{className:"bg-white p-3 rounded border border-blue-300",children:(0,Mr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Mr.jsxs)("div",{className:"flex-1",children:[(0,Mr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Mr.jsx)("span",{className:"font-semibold text-sm",children:e.name}),(0,Mr.jsx)("span",{className:"px-2 py-0.5 rounded text-xs ".concat(e.is_required?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"),children:e.is_required?"Obligatoire":"Optionnel"})]}),(0,Mr.jsxs)("button",{type:"button",onClick:()=>x(Qt(Qt({},h),{},{[e.id]:!h[e.id]})),className:"text-xs text-blue-600 hover:text-blue-800 mt-1 flex items-center gap-1",children:[(0,Mr.jsx)(qs,{className:"w-3 h-3"}),h[e.id]?"Masquer":"Voir"," les choix (",(null===(n=e.choices)||void 0===n?void 0:n.length)||0,")"]}),h[e.id]&&(0,Mr.jsxs)("div",{className:"mt-2 pl-4 border-l-2 border-blue-200",children:[e.choices&&e.choices.map((e,t)=>(0,Mr.jsxs)("div",{className:"text-xs text-gray-600 py-1",children:["\u2022 ",e.name," ",e.price_modifier>0&&"(+".concat(e.price_modifier.toFixed(2),"\u20ac)")]},t)),e.internal_comment&&(0,Mr.jsxs)("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs",children:[(0,Mr.jsx)("span",{className:"font-semibold text-yellow-800",children:"\ud83d\udcdd Note interne :"}),(0,Mr.jsx)("span",{className:"text-yellow-700 ml-1",children:e.internal_comment})]})]})]}),(0,Mr.jsxs)("div",{className:"flex items-center gap-2 ml-3",children:[(0,Mr.jsx)("button",{type:"button",onClick:()=>(e=>{if(0===e)return;const t=[...m];[t[e-1],t[e]]=[t[e],t[e-1]],p(t),g(Qt(Qt({},f),{},{option_ids:t.map(e=>e.id)}))})(t),disabled:0===t,className:"p-1 text-gray-600 hover:text-gray-800 disabled:opacity-30 disabled:cursor-not-allowed",children:(0,Mr.jsx)(Us,{className:"w-4 h-4"})}),(0,Mr.jsx)("button",{type:"button",onClick:()=>(e=>{if(e===m.length-1)return;const t=[...m];[t[e],t[e+1]]=[t[e+1],t[e]],p(t),g(Qt(Qt({},f),{},{option_ids:t.map(e=>e.id)}))})(t),disabled:t===m.length-1,className:"p-1 text-gray-600 hover:text-gray-800 disabled:opacity-30 disabled:cursor-not-allowed",children:(0,Mr.jsx)(Bs,{className:"w-4 h-4"})}),(0,Mr.jsx)("button",{type:"button",onClick:()=>v(e,!1),className:"p-1 text-red-600 hover:text-red-800",children:(0,Mr.jsx)(As,{className:"w-4 h-4"})})]})]})},e.id)})})]}),(0,Mr.jsx)("div",{className:"grid grid-cols-1 gap-2 max-h-48 overflow-y-auto border border-gray-200 rounded-lg p-3",children:d.map(e=>{var t;const n=f.option_ids.includes(e.id);return(0,Mr.jsxs)("label",{className:"flex items-center space-x-3 p-2 rounded cursor-pointer transition-colors ".concat(n?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"),children:[(0,Mr.jsx)("input",{type:"checkbox",checked:n,onChange:t=>v(e,t.target.checked),className:"w-4 h-4"}),(0,Mr.jsxs)("div",{className:"flex-1",children:[(0,Mr.jsx)("span",{className:"font-semibold text-sm",children:e.name}),(0,Mr.jsx)("span",{className:"ml-2 px-2 py-0.5 rounded text-xs ".concat(e.is_required?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"),children:e.is_required?"Obligatoire":"Optionnel"}),(0,Mr.jsxs)("span",{className:"ml-2 text-xs text-gray-500",children:["(",(null===(t=e.choices)||void 0===t?void 0:t.length)||0," choix)"]})]})]},e.id)})})]}),(0,Mr.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,Mr.jsx)("h4",{className:"text-sm font-semibold mb-3",children:"Disponibilit\xe9 du produit"}),(0,Mr.jsxs)("div",{className:"space-y-3",children:[(0,Mr.jsxs)("label",{className:"flex items-start space-x-3 cursor-pointer",children:[(0,Mr.jsx)("input",{type:"checkbox",checked:f.is_available,onChange:e=>{const t=e.target.checked;g(Qt(Qt({},f),{},{is_available:t,is_out_of_stock:!!t&&f.is_out_of_stock}))},className:"w-4 h-4 mt-1 text-primary rounded"}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"Visible dans l'app"}),(0,Mr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Si coch\xe9, le produit appara\xeet dans l'application mobile"})]})]}),(0,Mr.jsxs)("label",{className:"flex items-start space-x-3 cursor-pointer ".concat(f.is_available?"":"opacity-50"),children:[(0,Mr.jsx)("input",{type:"checkbox",checked:f.is_out_of_stock,onChange:e=>{const t=e.target.checked;g(Qt(Qt({},f),{},{is_out_of_stock:t,is_available:!!t||f.is_available}))},disabled:!f.is_available,className:"w-4 h-4 mt-1 text-primary rounded"}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"Rupture de stock"}),(0,Mr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:'Si coch\xe9, affiche une banni\xe8re "Indisponible pour le moment" dans l\'app'})]})]}),f.is_out_of_stock&&(0,Mr.jsxs)("div",{className:"ml-7 mt-2 flex gap-2",children:[(0,Mr.jsx)("button",{type:"button",onClick:()=>g(Qt(Qt({},f),{},{stock_status:"2h"})),className:"px-3 py-1 text-xs rounded-full font-medium border-2 transition-colors ".concat("2h"===f.stock_status?"bg-orange-100 border-orange-500 text-orange-700":"bg-white border-gray-300 text-gray-600 hover:border-orange-400"),children:"\u23f1 Rupture 2h"}),(0,Mr.jsx)("button",{type:"button",onClick:()=>g(Qt(Qt({},f),{},{stock_status:"today"})),className:"px-3 py-1 text-xs rounded-full font-medium border-2 transition-colors ".concat("today"===f.stock_status?"bg-red-100 border-red-500 text-red-700":"bg-white border-gray-300 text-gray-600 hover:border-red-400"),children:"\ud83d\udcc5 Rupture journ\xe9e"}),(0,Mr.jsx)("button",{type:"button",onClick:()=>g(Qt(Qt({},f),{},{stock_status:"indefinite"})),className:"px-3 py-1 text-xs rounded-full font-medium border-2 transition-colors ".concat("indefinite"===f.stock_status?"bg-gray-100 border-gray-500 text-gray-700":"bg-white border-gray-300 text-gray-600 hover:border-gray-400"),children:"\u26d4 Rupture ind\xe9finie"})]})]}),(0,Mr.jsxs)("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-200 rounded text-xs text-blue-800",children:["\u2139\ufe0f ",(0,Mr.jsx)("strong",{children:"Note :"})," ",f.is_available?f.is_out_of_stock?"Le produit est visible mais marqu\xe9 comme indisponible":"Le produit est visible et disponible \xe0 la commande":"Le produit est masqu\xe9 de l'application"]})]}),(0,Mr.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,Mr.jsx)(cs,{type:"button",variant:"secondary",onClick:n,children:"Annuler"}),(0,Mr.jsx)(cs,{type:"submit",disabled:l,children:l?"Enregistrement...":r?"Mettre \xe0 jour":"Cr\xe9er"})]})]})})},Hs=Gr("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Ws=Gr("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),$s=Gr("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),Qs=Gr("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Gs=Gr("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Js=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[a,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(null);(0,s.useEffect)(()=>{c()},[]);const c=async()=>{try{const e=await gr();t(e.data.products||[])}catch(e){console.error("Failed to load products:",e),t([])}finally{r(!1)}};return n?(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(Ss,{title:"Produits"}),(0,Mr.jsx)("div",{className:"p-8",children:(0,Mr.jsx)("p",{children:"Chargement..."})})]}):(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(Ss,{title:"\ud83d\udce6 Produits",subtitle:"".concat(e.length," produits disponibles")}),(0,Mr.jsxs)("div",{className:"p-8",children:[(0,Mr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Mr.jsxs)("h3",{className:"text-xl font-bold",children:[e.length," produits"]}),(0,Mr.jsxs)(cs,{onClick:()=>l(!0),children:[(0,Mr.jsx)(Hs,{className:"w-4 h-4 mr-2"}),"Ajouter un produit"]})]}),(0,Mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>{const t=e.price||e.base_price||0;let n=e.image_url||e.image;return n&&n.startsWith("/")&&(n="".concat("https://resto-hub-54.preview.emergentagent.com").concat(n)),(0,Mr.jsxs)(ws,{children:[n?(0,Mr.jsx)("img",{src:n,alt:e.name,className:"w-full h-48 object-cover rounded-lg mb-4"}):(0,Mr.jsx)("div",{className:"w-full h-48 bg-gray-100 rounded-lg mb-4 flex items-center justify-center",children:(0,Mr.jsx)(Ws,{className:"w-12 h-12 text-gray-400"})}),(0,Mr.jsx)("h4",{className:"font-bold text-lg mb-2",children:e.name}),(0,Mr.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:e.description}),(0,Mr.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,Mr.jsxs)("span",{className:"text-2xl font-black text-primary",children:[t.toFixed(2),"\u20ac"]})}),(0,Mr.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,Mr.jsx)(cs,{size:"sm",variant:"outline",onClick:()=>{o(e),l(!0)},title:"Modifier",children:(0,Mr.jsx)($s,{className:"w-4 h-4"})}),(0,Mr.jsx)(cs,{size:"sm",variant:"outline",onClick:()=>(async e=>{if(window.confirm('Dupliquer "'.concat(e.name,'" ?')))try{const t=Qt(Qt({},e),{},{name:"".concat(e.name," (copie)"),slug:"".concat(e.slug,"-copie-").concat(Date.now())});delete t.id,await yr(t),c(),alert("\u2705 Produit dupliqu\xe9 avec succ\xe8s !")}catch(t){alert("Erreur lors de la duplication")}})(e),title:"Dupliquer",children:(0,Mr.jsx)(Qs,{className:"w-4 h-4"})}),(0,Mr.jsx)(cs,{size:"sm",variant:"danger",onClick:()=>(async e=>{if(window.confirm("\xcates-vous s\xfbr de vouloir supprimer ce produit ?"))try{await vr(e),c()}catch(t){alert("Erreur lors de la suppression")}})(e.id),title:"Supprimer",children:(0,Mr.jsx)(Gs,{className:"w-4 h-4"})})]}),(0,Mr.jsxs)("div",{className:"mt-3 flex items-center space-x-2",children:[(0,Mr.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat(e.is_available?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.is_available?"Disponible":"Indisponible"}),e.is_out_of_stock&&(0,Mr.jsx)("span",{className:"text-xs px-2 py-1 rounded bg-orange-100 text-orange-700",children:"Rupture"})]})]},e.id)})}),0===e.length&&(0,Mr.jsxs)("div",{className:"text-center py-12",children:[(0,Mr.jsx)(Ws,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Mr.jsx)("p",{className:"text-gray-500",children:"Aucun produit pour le moment"})]})]}),(0,Mr.jsx)(Vs,{isOpen:a,onClose:()=>{l(!1),o(null)},product:i,onSuccess:c})]})},Ks=e=>{var t,n;let{isOpen:r,onClose:a,order:l,onSuccess:i}=e;const[o,c]=(0,s.useState)([]),[d,u]=(0,s.useState)(""),[m,p]=(0,s.useState)(""),[h,x]=(0,s.useState)(!1),f="paid"===(null===l||void 0===l?void 0:l.payment_status),g=f&&"online"===(null===l||void 0===l?void 0:l.payment_method);(0,s.useEffect)(()=>{l&&r&&(c(f&&!g?[{method:l.payment_method||"",amount:parseFloat(l.total)}]:[]),u(""),p(""))},[l,f,g,r]);const y=o.reduce((e,t)=>e+t.amount,0),b=l?parseFloat(l.total)-y:0;return(0,Mr.jsxs)(Fs,{isOpen:r,onClose:a,size:"medium",children:[(0,Mr.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Mr.jsx)("h2",{className:"text-xl font-bold",children:f?"\u270f\ufe0f Modifier le paiement":"\ud83d\udcb3 Enregistrer le paiement"}),(0,Mr.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:(0,Mr.jsx)(As,{className:"w-5 h-5"})})]}),g&&(0,Mr.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,Mr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Mr.jsx)("span",{className:"text-xl",children:"\ud83d\udd12"}),(0,Mr.jsx)("p",{className:"text-sm text-red-700 font-medium",children:"Paiement en ligne non modifiable"})]})}),(0,Mr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),0!==o.length)if(b>.01)alert("\u26a0\ufe0f Il reste ".concat(b.toFixed(2),"\u20ac \xe0 payer"));else{x(!0);try{const e="https://resto-hub-54.preview.emergentagent.com",t=1===o.length?{payment_method:o[0].method,payment_status:"paid",amount_received:o[0].amount,change_given:y-parseFloat(l.total)}:{payment_method:"multi",payment_status:"paid",payments:o,amount_received:y,change_given:y-parseFloat(l.total)};if(!(await fetch("".concat(e,"/api/v1/admin/orders/").concat(l.id,"/payment"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw new Error("Failed to record payment");alert("\u2705 Paiement enregistr\xe9"),null===i||void 0===i||i(),a()}catch(t){console.error("Payment error:",t),alert("\u274c Erreur lors de l'enregistrement du paiement")}finally{x(!1)}}else alert("\u26a0\ufe0f Ajoutez au moins un paiement")},className:"space-y-4",children:[(0,Mr.jsx)("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg border-2 border-blue-200",children:(0,Mr.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("span",{className:"text-sm text-gray-600",children:"Commande:"}),(0,Mr.jsxs)("span",{className:"ml-2 font-bold",children:["#",null===l||void 0===l||null===(t=l.id)||void 0===t?void 0:t.slice(0,8)]})]}),(0,Mr.jsxs)("div",{className:"text-right",children:[(0,Mr.jsx)("span",{className:"text-sm text-gray-600",children:"Total:"}),(0,Mr.jsxs)("span",{className:"ml-2 font-bold text-lg",children:[null===l||void 0===l||null===(n=l.total)||void 0===n?void 0:n.toFixed(2),"\u20ac"]})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("span",{className:"text-sm text-gray-600",children:"D\xe9j\xe0 pay\xe9:"}),(0,Mr.jsxs)("span",{className:"ml-2 font-bold text-green-600",children:[y.toFixed(2),"\u20ac"]})]}),(0,Mr.jsxs)("div",{className:"text-right",children:[(0,Mr.jsx)("span",{className:"text-sm text-gray-600",children:"Restant:"}),(0,Mr.jsxs)("span",{className:"ml-2 font-bold text-xl ".concat(b>0?"text-red-600":"text-green-600"),children:[b.toFixed(2),"\u20ac"]})]})]})}),o.length>0&&(0,Mr.jsxs)("div",{className:"space-y-2",children:[(0,Mr.jsx)("h3",{className:"font-semibold text-sm text-gray-700",children:"Paiements enregistr\xe9s:"}),o.map((e,t)=>{return(0,Mr.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Mr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Mr.jsx)("span",{className:"font-medium",children:(n=e.method,{espece:"\ud83d\udcb5 Esp\xe8ce",cb:"\ud83d\udcb3 CB",cheque:"\ud83d\udcdd Ch\xe8que",ticket_restaurant:"\ud83c\udf9f\ufe0f Ticket restaurant"}[n]||n)}),(0,Mr.jsx)("span",{className:"text-gray-400",children:"\u2192"}),(0,Mr.jsxs)("span",{className:"font-bold text-green-600",children:[e.amount.toFixed(2),"\u20ac"]})]}),!g&&(0,Mr.jsx)("button",{type:"button",onClick:()=>(e=>{c(o.filter((t,n)=>n!==e))})(t),className:"text-red-500 hover:text-red-700",children:(0,Mr.jsx)(Gs,{className:"w-4 h-4"})})]},t);var n})]}),!g&&b>.01&&(0,Mr.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 space-y-3",children:[(0,Mr.jsx)("h3",{className:"font-semibold text-sm text-gray-700",children:"Ajouter un paiement:"}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Mode de paiement *"}),(0,Mr.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Mr.jsx)("button",{type:"button",onClick:()=>u("espece"),className:"p-3 rounded-lg border-2 transition-all text-sm font-bold ".concat("espece"===d?"border-green-600 bg-green-500 text-white shadow-lg scale-105":"border-green-300 bg-green-50 text-green-700 hover:bg-green-100"),children:"\ud83d\udcb5 Esp\xe8ce"}),(0,Mr.jsx)("button",{type:"button",onClick:()=>u("cb"),className:"p-3 rounded-lg border-2 transition-all text-sm font-bold ".concat("cb"===d?"border-blue-600 bg-blue-500 text-white shadow-lg scale-105":"border-blue-300 bg-blue-50 text-blue-700 hover:bg-blue-100"),children:"\ud83d\udcb3 CB"}),(0,Mr.jsx)("button",{type:"button",onClick:()=>u("cheque"),className:"p-3 rounded-lg border-2 transition-all text-sm font-bold ".concat("cheque"===d?"border-purple-600 bg-purple-500 text-white shadow-lg scale-105":"border-purple-300 bg-purple-50 text-purple-700 hover:bg-purple-100"),children:"\ud83d\udcdd Ch\xe8que"}),(0,Mr.jsx)("button",{type:"button",onClick:()=>u("ticket_restaurant"),className:"p-3 rounded-lg border-2 transition-all text-sm font-bold ".concat("ticket_restaurant"===d?"border-orange-600 bg-orange-500 text-white shadow-lg scale-105":"border-orange-300 bg-orange-50 text-orange-700 hover:bg-orange-100"),children:"\ud83c\udf9f\ufe0f Ticket restaurant"})]})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Montant"}),(0,Mr.jsxs)("div",{className:"flex gap-2",children:[(0,Mr.jsx)("input",{type:"number",step:"0.01",value:m,onChange:e=>p(e.target.value),placeholder:"Max: ".concat(b.toFixed(2),"\u20ac"),className:"flex-1 px-3 py-2 border rounded-lg"}),(0,Mr.jsx)(cs,{type:"button",onClick:()=>p(b.toFixed(2)),className:"bg-gradient-to-r from-indigo-500 to-purple-500 text-white hover:from-indigo-600 hover:to-purple-600 font-bold",children:"Tout le restant"})]})]}),(0,Mr.jsxs)(cs,{type:"button",onClick:()=>{if(!d)return void alert("\u26a0\ufe0f S\xe9lectionnez un mode de paiement");const e=parseFloat(m)||b;e<=0?alert("\u26a0\ufe0f Le montant doit \xeatre sup\xe9rieur \xe0 0"):e>b?alert("\u26a0\ufe0f Le montant ne peut pas d\xe9passer le restant \xe0 payer"):(c([...o,{method:d,amount:e}]),u(""),p(""))},className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 text-white hover:from-green-600 hover:to-emerald-600 font-bold shadow-lg",children:[(0,Mr.jsx)(Hs,{className:"w-4 h-4 mr-2"}),"Ajouter ce paiement"]})]}),(0,Mr.jsxs)("div",{className:"flex gap-2 pt-4 border-t",children:[(0,Mr.jsx)(cs,{type:"button",variant:"outline",onClick:a,className:"flex-1",disabled:h,children:"Annuler"}),(0,Mr.jsx)(cs,{type:"submit",className:"flex-1 font-bold text-white shadow-lg ".concat(b>.01?"bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600":"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700"),disabled:h||g||0===o.length,children:h?"Enregistrement...":b>.01?"\u26a0\ufe0f Il reste ".concat(b.toFixed(2),"\u20ac"):"\u2705 Valider le paiement complet"})]})]})]})},Xs=e=>{var t;let{isOpen:n,onClose:r,order:a,onConfirm:l}=e;const[i,o]=(0,s.useState)(""),[c,d]=(0,s.useState)(!1);(0,s.useEffect)(()=>{n&&o("")},[n]);return a?(0,Mr.jsxs)(Fs,{isOpen:n,onClose:r,size:"medium",children:[(0,Mr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Mr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Mr.jsx)(Os,{className:"w-8 h-8 text-red-600"}),(0,Mr.jsx)("h2",{className:"text-2xl font-bold text-red-600",children:"\u26a0\ufe0f Annuler la commande"})]}),(0,Mr.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:(0,Mr.jsx)(As,{className:"w-6 h-6"})})]}),(0,Mr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),i.trim()){d(!0);try{await l(i),r()}catch(t){console.error("Error cancelling order:",t),alert("\u274c Erreur lors de l'annulation")}finally{d(!1)}}else alert("\u26a0\ufe0f Veuillez saisir une raison d'annulation")},className:"space-y-6",children:[(0,Mr.jsxs)("div",{className:"bg-red-50 border-2 border-red-200 p-4 rounded-lg",children:[(0,Mr.jsx)("div",{className:"text-sm text-red-700 mb-1",children:"Commande \xe0 annuler"}),(0,Mr.jsxs)("div",{className:"text-2xl font-bold text-red-600",children:["#",a.order_number||(null===(t=a.id)||void 0===t?void 0:t.slice(0,8))]}),(0,Mr.jsxs)("div",{className:"text-sm text-gray-600 mt-2",children:["Montant: ",(0,Mr.jsxs)("strong",{children:[a.total.toFixed(2),"\u20ac"]})]})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-3",children:"Raisons communes"}),(0,Mr.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["\u274c Client a annul\xe9","\u23f0 Client non disponible","\ud83c\udf54 Produit manquant","\ud83d\udcb3 Probl\xe8me de paiement","\ud83d\udeab Commande frauduleuse","\ud83d\udd04 Commande dupliqu\xe9e","\ud83d\udcdd Erreur de saisie"].map(e=>(0,Mr.jsx)("button",{type:"button",onClick:()=>o(e),className:"p-3 border-2 rounded-lg text-sm font-medium transition-all text-left ".concat(i===e?"border-red-500 bg-red-50 text-red-700":"border-gray-200 hover:border-gray-300 text-gray-700"),children:e},e))})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Raison de l'annulation *"}),(0,Mr.jsx)("textarea",{value:i,onChange:e=>o(e.target.value),className:"w-full px-4 py-3 border rounded-lg resize-none",rows:"4",placeholder:"D\xe9crivez la raison de l'annulation...",required:!0}),(0,Mr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Cette raison sera enregistr\xe9e dans l'historique de la commande"})]}),(0,Mr.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 p-3 rounded text-sm text-yellow-800",children:["\u26a0\ufe0f ",(0,Mr.jsx)("strong",{children:"Attention :"})," Cette action est irr\xe9versible.","paid"===a.payment_status&&(0,Mr.jsx)("span",{className:"block mt-1",children:"\ud83d\udcb3 Le paiement a \xe9t\xe9 enregistr\xe9. Pensez \xe0 rembourser le client si n\xe9cessaire."})]}),(0,Mr.jsxs)("div",{className:"flex space-x-3 pt-2",children:[(0,Mr.jsx)(cs,{type:"button",variant:"outline",onClick:r,className:"flex-1",children:"Annuler"}),(0,Mr.jsx)(cs,{type:"submit",disabled:c||!i.trim(),className:"flex-1 bg-red-600 hover:bg-red-700",children:c?"Annulation...":"\u274c Confirmer l'annulation"})]})]})]}):null},Ys=Gr("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),Zs=e=>{let{isOpen:t,onClose:n,onConfirm:r,title:a,message:s,confirmText:l="Confirmer",cancelText:i="Annuler",type:o="warning"}=e;const c={warning:{icon:Os,iconColor:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200",buttonColor:"bg-yellow-600 hover:bg-yellow-700"},success:{icon:Ys,iconColor:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",buttonColor:"bg-green-600 hover:bg-green-700"},danger:{icon:Os,iconColor:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200",buttonColor:"bg-red-600 hover:bg-red-700"}}[o],d=c.icon;return(0,Mr.jsx)(Fs,{isOpen:t,onClose:n,size:"small",children:(0,Mr.jsxs)("div",{className:"text-center",children:[(0,Mr.jsx)("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full ".concat(c.bgColor," mb-4"),children:(0,Mr.jsx)(d,{className:"h-8 w-8 ".concat(c.iconColor)})}),(0,Mr.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:a}),(0,Mr.jsx)("p",{className:"text-gray-600 mb-6",children:s}),(0,Mr.jsxs)("div",{className:"flex space-x-3",children:[(0,Mr.jsx)(cs,{type:"button",variant:"outline",onClick:n,className:"flex-1",children:i}),(0,Mr.jsx)(cs,{type:"button",onClick:()=>{r(),n()},className:"flex-1 ".concat(c.buttonColor),children:l})]})]})})},el=Gr("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),tl=e=>{var t,n;let{isOpen:r,onClose:a,order:l,onSuccess:i}=e;const[o,c]=(0,s.useState)([]),[d,u]=(0,s.useState)("Produit manquant"),[m,p]=(0,s.useState)(""),[h,x]=(0,s.useState)(!1);if(!l)return null;const f=e=>{o.includes(e)?c(o.filter(t=>t!==e)):c([...o,e])},g=()=>o.reduce((e,t)=>e+(l.items[t].total_price||0),0);return(0,Mr.jsxs)(Fs,{isOpen:r,onClose:a,children:[(0,Mr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Mr.jsx)("h2",{className:"text-2xl font-bold",children:"\ud83d\udcb3 Remboursement partiel"}),(0,Mr.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:(0,Mr.jsx)(As,{className:"w-6 h-6"})})]}),(0,Mr.jsx)("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,Mr.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Mr.jsx)(el,{className:"w-5 h-5 text-blue-600 mt-0.5"}),(0,Mr.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,Mr.jsx)("p",{className:"font-bold mb-1",children:"Remboursement sur carte de fid\xe9lit\xe9"}),(0,Mr.jsx)("p",{children:"Les articles manquants seront rembours\xe9s en cr\xe9dit de fid\xe9lit\xe9 au client."})]})]})}),(0,Mr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),0!==o.length){if(window.confirm("Rembourser ".concat(g().toFixed(2),"\u20ac sur la carte de fid\xe9lit\xe9 ?"))){x(!0);try{const e="Autre"===d&&m?m:d,t=await pr.post("".concat("https://resto-hub-54.preview.emergentagent.com","/api/v1/admin/orders/").concat(l.id,"/refund-missing-items"),{missing_item_indices:o,reason:e});alert("\u2705 ".concat(t.data.message)),null===i||void 0===i||i(),a()}catch(r){var t,n;console.error("Error processing refund:",r),alert((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Erreur lors du remboursement")}finally{x(!1)}}}else alert("Veuillez s\xe9lectionner au moins un article \xe0 rembourser")},className:"space-y-4",children:[(0,Mr.jsxs)("div",{className:"p-3 bg-gray-50 rounded-lg",children:[(0,Mr.jsx)("p",{className:"text-sm text-gray-600",children:(0,Mr.jsxs)("span",{className:"font-bold",children:["Commande #",l.order_number||(null===(t=l.id)||void 0===t?void 0:t.slice(0,8))]})}),(0,Mr.jsxs)("p",{className:"text-sm text-gray-600",children:["Client: ",l.customer_name||l.customer_email]})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Articles \xe0 rembourser"}),(0,Mr.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:null===(n=l.items)||void 0===n?void 0:n.map((e,t)=>(0,Mr.jsx)("div",{className:"p-3 border-2 rounded-lg cursor-pointer transition-all ".concat(o.includes(t)?"border-primary bg-primary/5":"border-gray-200 hover:border-gray-300"),onClick:()=>f(t),children:(0,Mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mr.jsxs)("div",{className:"flex-1",children:[(0,Mr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Mr.jsx)("input",{type:"checkbox",checked:o.includes(t),onChange:()=>f(t),className:"w-4 h-4"}),(0,Mr.jsxs)("span",{className:"font-medium",children:[e.quantity,"x ",e.name]})]}),e.notes&&(0,Mr.jsx)("p",{className:"text-xs text-gray-500 ml-6 mt-1",children:e.notes})]}),(0,Mr.jsxs)("span",{className:"font-bold text-primary",children:[(e.total_price||0).toFixed(2),"\u20ac"]})]})},t))})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Raison"}),(0,Mr.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"w-full px-4 py-2 border rounded-lg",children:[(0,Mr.jsx)("option",{value:"Produit manquant",children:"Produit manquant"}),(0,Mr.jsx)("option",{value:"Produit incorrect",children:"Produit incorrect"}),(0,Mr.jsx)("option",{value:"Qualit\xe9 insatisfaisante",children:"Qualit\xe9 insatisfaisante"}),(0,Mr.jsx)("option",{value:"Erreur de commande",children:"Erreur de commande"}),(0,Mr.jsx)("option",{value:"Autre",children:"Autre"})]}),"Autre"===d&&(0,Mr.jsx)("div",{className:"mt-2",children:(0,Mr.jsx)("textarea",{value:m,onChange:e=>p(e.target.value),placeholder:"Pr\xe9cisez la raison...",className:"w-full px-4 py-2 border rounded-lg",rows:"3",required:!0})})]}),o.length>0&&(0,Mr.jsxs)("div",{className:"p-4 bg-green-50 border-2 border-green-200 rounded-lg",children:[(0,Mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mr.jsx)("span",{className:"font-bold text-green-800",children:"Montant \xe0 rembourser:"}),(0,Mr.jsxs)("span",{className:"text-2xl font-black text-green-600",children:[g().toFixed(2),"\u20ac"]})]}),(0,Mr.jsx)("p",{className:"text-xs text-green-700 mt-2",children:"Ce montant sera cr\xe9dit\xe9 sur la carte de fid\xe9lit\xe9 du client"})]}),(0,Mr.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Mr.jsx)(cs,{type:"button",variant:"outline",onClick:a,className:"flex-1",children:"Annuler"}),(0,Mr.jsx)(cs,{type:"submit",disabled:h||0===o.length,className:"flex-1",children:h?"Traitement...":"Rembourser"})]})]})]})},nl=Gr("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),rl=Gr("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),al=Gr("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),sl=Gr("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),ll=Gr("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),il=Gr("list",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),ol=Gr("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),cl="https://resto-hub-54.preview.emergentagent.com",dl=()=>{var e,t;const[n,r]=(0,s.useState)([]),[a,l]=(0,s.useState)("new"),[i,o]=(0,s.useState)(!1),[c,d]=(0,s.useState)(null),[u,m]=(0,s.useState)(!1),[p,h]=(0,s.useState)(!1),[x,f]=(0,s.useState)(!1),[g,y]=(0,s.useState)(0),[b,v]=(0,s.useState)("cards"),[j,w]=(0,s.useState)(!1),[N,k]=(0,s.useState)(!1),[_,C]=(0,s.useState)(null),[S,E]=(0,s.useState)(null),[P,O]=(0,s.useState)(!1),[R,T]=(0,s.useState)(!1),z=[{id:"new",label:"Nouvelles",icon:Ws,color:"bg-red-500",status:"new"},{id:"preparing",label:"En Pr\xe9paration",icon:nl,color:"bg-orange-500",status:"in_preparation"},{id:"ready",label:"Pr\xeate",icon:Ys,color:"bg-purple-500",status:"ready"},{id:"delivering",label:"En Livraison",icon:rl,color:"bg-blue-500",status:"out_for_delivery"},{id:"completed",label:"Termin\xe9es",icon:Ys,color:"bg-green-500",status:"completed"},{id:"cancelled",label:"Annul\xe9es",icon:al,color:"bg-gray-500",status:"canceled"}];(0,s.useEffect)(()=>{F(),L()},[]),(0,s.useEffect)(()=>{const e=setInterval(async()=>{try{const e=(await pr.get("".concat(cl,"/api/v1/admin/orders?status=new"))).data.orders||[];e.length>g&&g>0&&A(),y(e.length),F()}catch(e){console.error("Erreur polling commandes:",e)}},3e4);return()=>clearInterval(e)},[g]);const A=()=>{try{const e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),n=e.createGain();t.connect(n),n.connect(e.destination),t.frequency.value=800,t.type="sine",n.gain.setValueAtTime(.3,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.5),t.start(e.currentTime),t.stop(e.currentTime+.5),setTimeout(()=>{const t=e.createOscillator(),n=e.createGain();t.connect(n),n.connect(e.destination),t.frequency.value=800,t.type="sine",n.gain.setValueAtTime(.3,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.5),t.start(e.currentTime),t.stop(e.currentTime+.5)},200),setTimeout(()=>{const t=e.createOscillator(),n=e.createGain();t.connect(n),n.connect(e.destination),t.frequency.value=800,t.type="sine",n.gain.setValueAtTime(.3,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.5),t.start(e.currentTime),t.stop(e.currentTime+.5)},400),console.log("\ud83d\udd14 BIP! Nouvelle commande!")}catch(e){console.error("Erreur son:",e)}},F=async()=>{o(!0);try{const e=await pr.get("".concat(cl,"/api/v1/admin/orders"));r(e.data.orders||[])}catch(e){console.error("Erreur chargement commandes:",e),r([])}finally{o(!1)}},L=async()=>{try{const e=(new Date).toISOString().split("T")[0],t=localStorage.getItem("token"),n=await fetch("".concat(cl,"/api/v1/admin/ticket-z/daily-status/").concat(e),{headers:t?{Authorization:"Bearer ".concat(t)}:{}});if(n.ok){const e=await n.json();E(e)}}catch(e){console.error("Error loading daily status:",e)}},M=(e,t,r)=>{if("completed"===r){const t=n.find(t=>t.id===e);if(t&&"paid"!==t.payment_status)return void alert("\u274c PAIEMENT REQUIS\n\nCette commande ne peut pas \xeatre termin\xe9e car elle n'est pas encore pay\xe9e.\n\nVeuillez d'abord enregistrer le paiement avant de la marquer comme termin\xe9e.")}C({orderId:e,currentStatus:t,newStatus:r}),k(!0)},D=e=>{var t,n;let r="";r+="\x1b@",r+="\x1ba\x01",r+="\x1bE\x01",r+="\x1d!\x11",r+="FAMILY'S\n",r+="Original Burger\n",r+="\x1d!\0",r+="\x1bE\0",r+="\n",r+="\x1ba\0",r+="================================\n",r+="COMMANDE #".concat(null===(t=e.id)||void 0===t?void 0:t.slice(0,8),"\n"),r+="Date: ".concat(U(e.created_at),"\n"),r+="================================\n\n",r+="\x1bE\x01",r+="Client: ".concat(e.customer_name||"Client","\n"),r+="\x1bE\0",e.customer_phone&&(r+="Tel: ".concat(e.customer_phone,"\n")),r+="\n",r+="Type: ".concat("delivery"===e.order_type?"LIVRAISON":"A EMPORTER","\n"),r+="\n",r+="--------------------------------\n",r+="\x1bE\x01",r+="ARTICLES:\n",r+="\x1bE\0",r+="--------------------------------\n",null===(n=e.items)||void 0===n||n.forEach(e=>{r+="".concat(e.quantity,"x ").concat(e.name,"\n"),e.notes&&(r+="   >> ".concat(e.notes,"\n")),r+="   ".concat(e.total_price,"\u20ac\n\n")}),r+="--------------------------------\n",r+="\x1bE\x01",r+="\x1d!\x11",r+="TOTAL: ".concat(e.total,"\u20ac\n"),r+="\x1d!\0",r+="\x1bE\0",r+="================================\n",r+="\x1ba\x01",r+="\nMerci de votre commande!\n",r+="Bon appetit!\n\n",r+="\x1dV\0";const a=new Blob([r],{type:"text/plain"}),s=URL.createObjectURL(a),l=window.open(s,"_blank","width=302,height=500");if(l)l.onload=()=>{l.print(),setTimeout(()=>{URL.revokeObjectURL(s),l.close()},100)};else{var i;const t=document.createElement("a");t.href=s,t.download="commande-".concat(null===(i=e.id)||void 0===i?void 0:i.slice(0,8),".txt"),t.click(),URL.revokeObjectURL(s),alert("\ud83d\udcc4 Fichier de commande t\xe9l\xe9charg\xe9. Ouvrez-le avec votre logiciel d'impression thermique.")}},I=(e,t)=>({new:"in_preparation",in_preparation:"ready",ready:"delivery"===t?"out_for_delivery":"completed",out_for_delivery:"completed"}[e]),q=(e,t)=>({new_to_in_preparation:{title:"\ud83d\udd25 Commencer la pr\xe9paration ?",message:'Vous \xeates sur le point de marquer cette commande comme "En cours de pr\xe9paration". Le client sera notifi\xe9.',confirmText:"Oui, commencer",type:"warning"},in_preparation_to_ready:{title:"\u2705 Commande pr\xeate ?",message:"La commande est-elle pr\xeate \xe0 \xeatre r\xe9cup\xe9r\xe9e ou livr\xe9e ? Le client recevra une notification.",confirmText:"Oui, elle est pr\xeate",type:"success"},ready_to_out_for_delivery:{title:"\ud83d\ude9a Partir pour la livraison ?",message:"Le livreur prend la commande. Le client recevra une notification que son livreur est en route.",confirmText:"Oui, partir livrer",type:"info"},ready_to_completed:{title:"\ud83c\udf89 Terminer la commande ?",message:"Cette commande sera marqu\xe9e comme termin\xe9e et archiv\xe9e. Cette action est d\xe9finitive.",confirmText:"Oui, terminer",type:"success"},out_for_delivery_to_completed:{title:"\ud83d\udce6 Livraison termin\xe9e ?",message:"Le livreur confirme que la commande a \xe9t\xe9 livr\xe9e avec succ\xe8s au client.",confirmText:"Oui, livr\xe9e",type:"success"}}["".concat(e,"_to_").concat(t)]||{title:"\u26a0\ufe0f Confirmer le changement",message:"Voulez-vous vraiment changer le statut de cette commande ?",confirmText:"Confirmer",type:"warning"}),U=e=>new Date(e).toLocaleString("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}),B=z.find(e=>e.id===a),V=n.filter(e=>e.status===B.status&&("out_for_delivery"!==B.status||"delivery"===e.order_type));return(0,Mr.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,Mr.jsx)(Ss,{title:"\ud83d\udce6 Gestion des Commandes",subtitle:"Syst\xe8me de suivi optimis\xe9 pour tablette"}),S&&!S.is_closed&&(0,Mr.jsx)("div",{className:"mx-4 mt-4 p-4 rounded-lg border-2 ".concat(S.needs_closure?"bg-red-50 border-red-500":S.can_close?"bg-green-50 border-green-500":"bg-yellow-50 border-yellow-500"),children:(0,Mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mr.jsx)(sl,{className:"w-6 h-6 ".concat(S.needs_closure?"text-red-600":"text-green-600")}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("h3",{className:"font-bold text-lg",children:S.needs_closure?"\u26a0\ufe0f Cl\xf4ture de journ\xe9e requise":"\ud83d\udcca Ticket Z"}),(0,Mr.jsx)("p",{className:"text-sm text-gray-600",children:S.pending_orders>0?(0,Mr.jsxs)("span",{className:"text-orange-600 font-semibold",children:[(0,Mr.jsx)(el,{className:"w-4 h-4 inline mr-1"}),S.pending_orders," commande(s) en attente"]}):(0,Mr.jsxs)("span",{className:"text-green-600 font-semibold",children:[(0,Mr.jsx)(Ys,{className:"w-4 h-4 inline mr-1"}),"Toutes les commandes sont trait\xe9es"]})})]})]}),(0,Mr.jsx)(cs,{onClick:async()=>{if(window.confirm("\u26a0\ufe0f Confirmer la cl\xf4ture de journ\xe9e ? Cette action est irr\xe9versible et g\xe9n\xe9rera le Ticket Z.")){T(!0);try{const e=(new Date).toISOString().split("T")[0],t=localStorage.getItem("token"),n=await fetch("".concat(cl,"/api/v1/admin/ticket-z"),{method:"POST",headers:Qt({"Content-Type":"application/json"},t?{Authorization:"Bearer ".concat(t)}:{}),body:JSON.stringify({date:e})});if(!n.ok){const e=await n.json();throw new Error(e.detail||"Erreur lors de la cl\xf4ture")}await n.json();alert("\u2705 Journ\xe9e cl\xf4tur\xe9e avec succ\xe8s !"),O(!0),L(),F()}catch(e){alert("\u274c ".concat(e.message))}finally{T(!1)}}},disabled:!S.can_close||R,className:"".concat(S.can_close?"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 shadow-lg":"bg-gray-400"," text-white font-bold px-6 py-3"),children:R?(0,Mr.jsxs)(Mr.Fragment,{children:[(0,Mr.jsx)(Ls,{className:"w-5 h-5 mr-2 animate-spin"})," Cl\xf4ture en cours..."]}):(0,Mr.jsx)(Mr.Fragment,{children:"\ud83d\udd12 Cl\xf4turer la journ\xe9e"})})]})}),S&&S.is_closed&&(0,Mr.jsx)("div",{className:"mx-4 mt-4 p-4 rounded-lg bg-blue-50 border-2 border-blue-500",children:(0,Mr.jsx)("div",{className:"flex items-center justify-between",children:(0,Mr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Mr.jsx)(Ys,{className:"w-6 h-6 text-blue-600"}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsxs)("h3",{className:"font-bold text-lg text-blue-900",children:["\u2705 Journ\xe9e cl\xf4tur\xe9e - ",S.date]}),(0,Mr.jsx)("p",{className:"text-sm text-blue-700",children:"Le Ticket Z a \xe9t\xe9 g\xe9n\xe9r\xe9 avec succ\xe8s"})]})]})})}),(0,Mr.jsx)("div",{className:"p-4 bg-white border-b overflow-x-auto",children:(0,Mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mr.jsx)("div",{className:"flex space-x-3 min-w-max",children:z.map(e=>{const t=e.icon,r=n.filter(t=>t.status===e.status&&("out_for_delivery"!==e.status||"delivery"===t.order_type)).length;return(0,Mr.jsxs)("button",{onClick:()=>l(e.id),className:"flex items-center space-x-3 px-6 py-4 rounded-xl font-bold text-white transition-all transform ".concat(a===e.id?"".concat(e.color," scale-105 shadow-xl"):"bg-gray-300 hover:bg-gray-400 scale-95"),children:[(0,Mr.jsx)(t,{className:"w-6 h-6"}),(0,Mr.jsxs)("div",{className:"text-left",children:[(0,Mr.jsx)("div",{className:"text-sm",children:e.label}),(0,Mr.jsx)("div",{className:"text-2xl font-black",children:r})]})]},e.id)})}),(0,Mr.jsxs)("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[(0,Mr.jsxs)("button",{onClick:()=>v("cards"),className:"flex items-center space-x-2 px-4 py-2 rounded-md transition-all ".concat("cards"===b?"bg-white text-primary font-bold shadow":"text-gray-600 hover:text-gray-800"),children:[(0,Mr.jsx)(ll,{className:"w-5 h-5"}),(0,Mr.jsx)("span",{children:"Cartes"})]}),(0,Mr.jsxs)("button",{onClick:()=>v("list"),className:"flex items-center space-x-2 px-4 py-2 rounded-md transition-all ".concat("list"===b?"bg-white text-primary font-bold shadow":"text-gray-600 hover:text-gray-800"),children:[(0,Mr.jsx)(il,{className:"w-5 h-5"}),(0,Mr.jsx)("span",{children:"Liste"})]})]})]})}),(0,Mr.jsx)("div",{className:"p-6",children:i?(0,Mr.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,Mr.jsx)(Ls,{className:"w-12 h-12 animate-spin text-primary"})}):0===V.length?(0,Mr.jsx)("div",{className:"text-center py-20",children:(0,Mr.jsx)("p",{className:"text-2xl font-bold text-gray-400",children:"Pas de commandes pour le moment"})}):"list"===b?(0,Mr.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,Mr.jsxs)("table",{className:"w-full",children:[(0,Mr.jsx)("thead",{className:"bg-gray-50 border-b-2 border-gray-200",children:(0,Mr.jsxs)("tr",{children:[(0,Mr.jsx)("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700",children:"N\xb0 Commande"}),(0,Mr.jsx)("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700",children:"Client"}),(0,Mr.jsx)("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700",children:"Heure de r\xe9cup\xe9ration"}),(0,Mr.jsx)("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700",children:"Type"}),(0,Mr.jsx)("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700",children:"Montant"}),(0,Mr.jsx)("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700",children:"Paiement"}),(0,Mr.jsx)("th",{className:"px-6 py-4 text-center text-sm font-bold text-gray-700",children:"Actions"})]})}),(0,Mr.jsx)("tbody",{className:"divide-y divide-gray-200",children:V.map(e=>{var t;return(0,Mr.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>{d(e),w(!0)},children:[(0,Mr.jsxs)("td",{className:"px-6 py-4",children:[(0,Mr.jsxs)("div",{className:"font-bold text-lg text-primary",children:["#",e.order_number||(null===(t=e.id)||void 0===t?void 0:t.slice(0,8))]}),(0,Mr.jsx)("div",{className:"text-xs text-gray-500",children:U(e.created_at)})]}),(0,Mr.jsxs)("td",{className:"px-6 py-4",children:[(0,Mr.jsx)("div",{className:"font-semibold text-gray-800",children:e.customer_name||e.customer_email||"Client"}),e.customer_phone&&(0,Mr.jsx)("div",{className:"text-sm text-gray-500",children:e.customer_phone})]}),(0,Mr.jsx)("td",{className:"px-6 py-4",children:(0,Mr.jsx)("div",{className:"font-semibold text-gray-800",children:e.pickup_time||e.delivery_time||"D\xe8s que possible"})}),(0,Mr.jsx)("td",{className:"px-6 py-4",children:"delivery"===e.order_type?(0,Mr.jsxs)("span",{className:"flex items-center gap-1 text-blue-600 font-semibold",children:[(0,Mr.jsx)(rl,{className:"w-4 h-4"}),"Livraison"]}):(0,Mr.jsxs)("span",{className:"flex items-center gap-1 text-purple-600 font-semibold",children:[(0,Mr.jsx)(Ws,{className:"w-4 h-4"}),"\xc0 emporter"]})}),(0,Mr.jsx)("td",{className:"px-6 py-4",children:(0,Mr.jsxs)("div",{className:"text-xl font-black text-gray-800",children:[e.total.toFixed(2),"\u20ac"]})}),(0,Mr.jsx)("td",{className:"px-6 py-4",children:"paid"===e.payment_status?(0,Mr.jsxs)("span",{className:"flex items-center gap-2 text-green-600 font-semibold",children:[(0,Mr.jsx)(Ys,{className:"w-4 h-4"}),"Pay\xe9"]}):(0,Mr.jsxs)("span",{className:"flex items-center gap-2 text-orange-600 font-semibold",children:[(0,Mr.jsx)(nl,{className:"w-4 h-4"}),"En attente"]})}),(0,Mr.jsx)("td",{className:"px-6 py-4",children:(0,Mr.jsxs)("div",{className:"flex items-center justify-center space-x-2",onClick:e=>e.stopPropagation(),children:[(0,Mr.jsx)(cs,{size:"sm",variant:"outline",onClick:()=>D(e),className:"border-blue-500 text-blue-600 hover:bg-blue-50",title:"Imprimer",children:(0,Mr.jsx)(ol,{className:"w-4 h-4"})}),"paid"!==e.payment_status&&(0,Mr.jsx)(cs,{size:"sm",variant:"outline",onClick:()=>{d(e),m(!0)},className:"border-green-500 text-green-600 hover:bg-green-50",title:"Paiement",children:(0,Mr.jsx)(Rs,{className:"w-4 h-4"})}),"paid"===e.payment_status&&"canceled"!==e.status&&"completed"!==e.status&&(0,Mr.jsx)(cs,{size:"sm",variant:"outline",onClick:()=>{d(e),f(!0)},className:"border-purple-500 text-purple-600 hover:bg-purple-50",title:"Remboursement partiel",children:(0,Mr.jsx)(ea,{className:"w-4 h-4"})}),"canceled"!==e.status&&"completed"!==e.status&&(0,Mr.jsx)(cs,{size:"sm",variant:"outline",onClick:()=>{d(e),h(!0)},className:"border-red-500 text-red-600 hover:bg-red-50",title:"Annuler",children:(0,Mr.jsx)(al,{className:"w-4 h-4"})})]})})]},e.id)})})]})}):(0,Mr.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:V.map(e=>{var t,n;return(0,Mr.jsx)(ws,{className:"hover:shadow-2xl transition-all duration-300 animate-fadeIn",children:(0,Mr.jsxs)(_s,{className:"p-6",children:[(0,Mr.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsxs)("h3",{className:"text-2xl font-black text-gray-800",children:["#",null===(t=e.id)||void 0===t?void 0:t.slice(0,8)]}),(0,Mr.jsx)("p",{className:"text-sm text-gray-500",children:U(e.created_at)})]}),(0,Mr.jsxs)("div",{className:"px-4 py-2 rounded-full text-white font-bold ".concat(B.color),children:[e.total,"\u20ac"]})]}),(0,Mr.jsxs)("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:[(0,Mr.jsx)("p",{className:"text-sm text-gray-600",children:"Client"}),(0,Mr.jsx)("p",{className:"font-bold text-gray-800",children:e.customer_name||"Client"}),e.customer_phone&&(0,Mr.jsx)("p",{className:"text-sm text-gray-600",children:e.customer_phone})]}),(0,Mr.jsxs)("div",{className:"mb-4 space-y-2",children:[(0,Mr.jsx)("p",{className:"text-sm font-bold text-gray-600",children:"Articles:"}),null===(n=e.items)||void 0===n?void 0:n.map((e,t)=>{var n;return(0,Mr.jsxs)("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[(0,Mr.jsxs)("div",{className:"flex-1",children:[(0,Mr.jsxs)("p",{className:"font-semibold text-gray-800",children:[(0,Mr.jsxs)("span",{className:"inline-block bg-primary text-white px-2 py-0.5 rounded-full text-sm font-bold mr-2",children:["x",e.quantity]}),e.name]}),e.notes&&(0,Mr.jsxs)("p",{className:"text-xs text-gray-500 ml-12",children:["\ud83d\udcdd ",e.notes]})]}),(0,Mr.jsx)("div",{className:"text-right",children:(0,Mr.jsxs)("p",{className:"text-sm font-bold text-gray-800",children:[null===(n=e.total_price)||void 0===n?void 0:n.toFixed(2),"\u20ac"]})})]},t)})]}),(0,Mr.jsx)("div",{className:"mb-4 flex items-center space-x-2 text-sm",children:"delivery"===e.order_type?(0,Mr.jsxs)(Mr.Fragment,{children:[(0,Mr.jsx)(rl,{className:"w-4 h-4 text-blue-600"}),(0,Mr.jsx)("span",{className:"font-semibold text-blue-600",children:"Livraison"})]}):(0,Mr.jsxs)(Mr.Fragment,{children:[(0,Mr.jsx)(Ws,{className:"w-4 h-4 text-purple-600"}),(0,Mr.jsx)("span",{className:"font-semibold text-purple-600",children:"\xc0 emporter"})]})}),"canceled"===e.status&&e.cancellation_reason&&(0,Mr.jsx)("div",{className:"mb-4 p-3 bg-red-50 border-2 border-red-200 rounded-lg",children:(0,Mr.jsxs)("div",{className:"flex items-start gap-2",children:[(0,Mr.jsx)(al,{className:"w-5 h-5 text-red-600 mt-0.5"}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("p",{className:"text-sm font-bold text-red-800",children:"Raison d'annulation:"}),(0,Mr.jsx)("p",{className:"text-sm text-red-700 mt-1",children:e.cancellation_reason})]})]})}),(0,Mr.jsx)("div",{className:"mb-4",children:"paid"===e.payment_status?(0,Mr.jsxs)("div",{children:[(0,Mr.jsxs)("div",{className:"flex items-center space-x-2 p-3 bg-green-50 rounded-lg mb-2",children:[(0,Mr.jsx)(Ys,{className:"w-5 h-5 text-green-600"}),(0,Mr.jsxs)("div",{className:"flex-1",children:[(0,Mr.jsx)("p",{className:"font-bold text-green-700",children:"Pay\xe9"}),(0,Mr.jsx)("p",{className:"text-sm text-gray-600 capitalize",children:e.payment_method})]})]}),(0,Mr.jsxs)("div",{className:"space-y-2",children:[!["online"].includes(e.payment_method)&&(0,Mr.jsx)(cs,{onClick:()=>{d(e),m(!0)},variant:"outline",size:"sm",className:"w-full border border-blue-300 text-blue-600 hover:bg-blue-50 text-xs",children:"\u270f\ufe0f Modifier le paiement"}),"canceled"!==e.status&&"completed"!==e.status&&(0,Mr.jsxs)(cs,{onClick:()=>{d(e),f(!0)},variant:"outline",size:"sm",className:"w-full border border-purple-300 text-purple-600 hover:bg-purple-50 text-xs",children:[(0,Mr.jsx)(ea,{className:"w-3 h-3 mr-1"}),"Remboursement partiel"]})]})]}):(0,Mr.jsxs)(cs,{onClick:()=>{d(e),m(!0)},variant:"outline",className:"w-full border-2 border-orange-500 text-orange-600 hover:bg-orange-50",children:[(0,Mr.jsx)(Rs,{className:"w-5 h-5 mr-2"}),"Enregistrer le paiement"]})}),(0,Mr.jsxs)("div",{className:"space-y-2",children:[(0,Mr.jsxs)(cs,{onClick:()=>D(e),variant:"outline",className:"w-full border-2 border-blue-500 text-blue-600 hover:bg-blue-50 py-3",children:[(0,Mr.jsx)(ol,{className:"w-5 h-5 mr-2"}),"\ud83d\udda8\ufe0f Imprimer"]}),(0,Mr.jsxs)("div",{className:"flex space-x-2",children:[I(e.status,e.order_type)&&(0,Mr.jsxs)(cs,{onClick:()=>M(e.id,e.status,I(e.status,e.order_type)),className:"flex-1 py-4 text-lg font-bold",children:["in_preparation"===I(e.status,e.order_type)&&"\ud83d\udd25 EN COURS DE PREPARATION","ready"===I(e.status,e.order_type)&&"\u2705 PRETE","out_for_delivery"===I(e.status,e.order_type)&&"\ud83d\ude9a PARTI POUR LA LIVRAISON","completed"===I(e.status,e.order_type)&&("out_for_delivery"===e.status?"\ud83d\udce6 LIVREE":"\ud83c\udf89 TERMINE")]}),"canceled"!==e.status&&"completed"!==e.status&&(0,Mr.jsx)(cs,{onClick:()=>{d(e),h(!0)},variant:"outline",className:"px-6 border-2 border-red-500 text-red-600 hover:bg-red-50",children:"\u274c"})]})]})]})},e.id)})})}),(0,Mr.jsx)(Ks,{isOpen:u,onClose:()=>{m(!1),d(null)},order:c,onSuccess:()=>{m(!1),d(null),F()}}),(0,Mr.jsx)(Xs,{isOpen:p,onClose:()=>{h(!1),d(null)},order:c,onConfirm:async e=>{if(c)try{r(t=>t.map(t=>t.id===c.id?Qt(Qt({},t),{},{status:"canceled",cancellation_reason:e}):t)),await pr.patch("".concat(cl,"/api/v1/admin/orders/").concat(c.id,"/status"),{status:"canceled",cancellation_reason:e}),h(!1),d(null),l("cancelled")}catch(t){console.error("Erreur annulation commande:",t),alert("\u274c Erreur lors de l'annulation de la commande"),F()}}}),(0,Mr.jsx)(tl,{isOpen:x,onClose:()=>{f(!1),d(null)},order:c,onSuccess:()=>{F(),f(!1),d(null)}}),(0,Mr.jsx)(Zs,{isOpen:N,onClose:()=>{k(!1),C(null)},onConfirm:async()=>{if(!_)return;const{orderId:e,newStatus:t}=_;try{r(n=>n.map(n=>n.id===e?Qt(Qt({},n),{},{status:t}):n)),await pr.patch("".concat(cl,"/api/v1/admin/orders/").concat(e,"/status"),{status:t}),C(null)}catch(n){console.error("Erreur mise \xe0 jour statut:",n),alert("Erreur lors de la mise \xe0 jour du statut"),F(),C(null)}},title:_?q(_.currentStatus,_.newStatus).title:"",message:_?q(_.currentStatus,_.newStatus).message:"",confirmText:_?q(_.currentStatus,_.newStatus).confirmText:"Confirmer",type:_?q(_.currentStatus,_.newStatus).type:"warning"}),j&&c&&(0,Mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Mr.jsxs)("div",{className:"sticky top-0 bg-white border-b p-6 flex items-center justify-between",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsxs)("h2",{className:"text-2xl font-bold text-gray-800",children:["Commande #",c.order_number||(null===(e=c.id)||void 0===e?void 0:e.slice(0,8))]}),(0,Mr.jsx)("p",{className:"text-sm text-gray-500",children:U(c.created_at)})]}),(0,Mr.jsx)("button",{onClick:()=>{w(!1),d(null)},className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Mr.jsx)(al,{className:"w-8 h-8"})})]}),(0,Mr.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Mr.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,Mr.jsx)("h3",{className:"text-sm font-bold text-gray-600 mb-2",children:"\ud83d\udc64 Client"}),(0,Mr.jsx)("p",{className:"font-bold text-lg text-gray-800",children:c.customer_name||"Client"}),c.customer_email&&(0,Mr.jsxs)("p",{className:"text-sm text-gray-600",children:["\ud83d\udce7 ",c.customer_email]}),c.customer_phone&&(0,Mr.jsxs)("p",{className:"text-sm text-gray-600",children:["\ud83d\udcf1 ",c.customer_phone]})]}),(0,Mr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Mr.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,Mr.jsx)("h3",{className:"text-sm font-bold text-gray-600 mb-2",children:"\ud83d\udce6 Type"}),"delivery"===c.order_type?(0,Mr.jsxs)("span",{className:"flex items-center gap-2 text-blue-600 font-bold",children:[(0,Mr.jsx)(rl,{className:"w-5 h-5"}),"Livraison"]}):(0,Mr.jsxs)("span",{className:"flex items-center gap-2 text-purple-600 font-bold",children:[(0,Mr.jsx)(Ws,{className:"w-5 h-5"}),"\xc0 emporter"]})]}),(0,Mr.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg",children:[(0,Mr.jsx)("h3",{className:"text-sm font-bold text-gray-600 mb-2",children:"\ud83d\udd50 Heure"}),(0,Mr.jsx)("p",{className:"font-bold text-gray-800",children:c.pickup_time||c.delivery_time||"D\xe8s que possible"})]})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("h3",{className:"text-sm font-bold text-gray-600 mb-3",children:"\ud83c\udf7d\ufe0f Articles command\xe9s"}),(0,Mr.jsx)("div",{className:"space-y-2",children:null===(t=c.items)||void 0===t?void 0:t.map((e,t)=>{var n;return(0,Mr.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[(0,Mr.jsxs)("div",{className:"flex-1",children:[(0,Mr.jsxs)("p",{className:"font-semibold text-gray-800",children:[(0,Mr.jsxs)("span",{className:"inline-block bg-primary text-white px-3 py-1 rounded-full text-sm font-bold mr-2",children:["x",e.quantity]}),e.name]}),e.notes&&(0,Mr.jsxs)("p",{className:"text-xs text-gray-500 mt-1 ml-14",children:["\ud83d\udcdd ",e.notes]})]}),(0,Mr.jsx)("div",{className:"text-right",children:(0,Mr.jsxs)("p",{className:"text-sm font-bold text-gray-800",children:[null===(n=e.total_price)||void 0===n?void 0:n.toFixed(2),"\u20ac"]})})]},t)})})]}),c.notes&&(0,Mr.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[(0,Mr.jsx)("h3",{className:"text-sm font-bold text-gray-600 mb-2",children:"\ud83d\udcdd Notes"}),(0,Mr.jsx)("p",{className:"text-gray-800",children:c.notes})]}),(0,Mr.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,Mr.jsx)("h3",{className:"text-sm font-bold text-gray-600 mb-2",children:"\ud83d\udcb3 Paiement"}),(0,Mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mr.jsx)("div",{children:"paid"===c.payment_status?(0,Mr.jsxs)("span",{className:"flex items-center gap-2 text-green-600 font-bold",children:[(0,Mr.jsx)(Ys,{className:"w-5 h-5"}),"Pay\xe9 (",c.payment_method,")"]}):(0,Mr.jsxs)("span",{className:"flex items-center gap-2 text-orange-600 font-bold",children:[(0,Mr.jsx)(nl,{className:"w-5 h-5"}),"En attente"]})}),(0,Mr.jsxs)("div",{className:"text-3xl font-black text-gray-800",children:[c.total.toFixed(2),"\u20ac"]})]})]}),(0,Mr.jsxs)("div",{className:"flex space-x-3 pt-4 border-t",children:[(0,Mr.jsxs)(cs,{onClick:()=>D(c),variant:"outline",className:"flex-1 border-2 border-blue-500 text-blue-600 hover:bg-blue-50 py-3",children:[(0,Mr.jsx)(ol,{className:"w-5 h-5 mr-2"}),"Imprimer"]}),"paid"!==c.payment_status&&(0,Mr.jsxs)(cs,{onClick:()=>{w(!1),m(!0)},className:"flex-1 py-3",children:[(0,Mr.jsx)(Rs,{className:"w-5 h-5 mr-2"}),"Enregistrer paiement"]})]}),I(c.status,c.order_type)&&(0,Mr.jsxs)(cs,{onClick:()=>{M(c.id,c.status,I(c.status,c.order_type)),w(!1)},className:"w-full py-4 text-lg font-bold",children:["in_preparation"===I(c.status,c.order_type)&&"\ud83d\udd25 PASSER EN PR\xc9PARATION","ready"===I(c.status,c.order_type)&&"\u2705 MARQUER COMME PR\xcaTE","out_for_delivery"===I(c.status,c.order_type)&&"\ud83d\ude9a PARTI POUR LA LIVRAISON","completed"===I(c.status,c.order_type)&&"\ud83c\udf89 MARQUER COMME TERMIN\xc9E"]})]})]})})]})},ul=e=>{let{isOpen:t,onClose:n,category:r,onSuccess:a}=e;const[l,i]=(0,s.useState)(!1),[o,c]=(0,s.useState)({name:"",image:"",icon:"",order:0,is_active:!0});(0,s.useEffect)(()=>{var e;r?c({name:r.name||"",image:r.image||"",icon:r.icon||"",order:r.order||0,is_active:null===(e=r.is_active)||void 0===e||e}):c({name:"",image:"",icon:"",order:0,is_active:!0})},[r]);return(0,Mr.jsx)(Fs,{isOpen:t,onClose:n,title:r?"Modifier la cat\xe9gorie":"Nouvelle cat\xe9gorie",children:(0,Mr.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(!0);try{const e=Qt(Qt({},o),{},{order:parseInt(o.order)});r?await Nr(r.id,e):await wr(e),a(),n()}catch(l){var t,s;alert("Erreur : "+((null===(t=l.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.detail)||"Erreur inconnue"))}finally{i(!1)}},className:"space-y-4",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"name",children:"Nom de la cat\xe9gorie *"}),(0,Mr.jsx)(hs,{id:"name",value:o.name,onChange:e=>c(Qt(Qt({},o),{},{name:e.target.value})),required:!0})]}),(0,Mr.jsx)(Is,{currentImage:o.image,onImageChange:e=>c(Qt(Qt({},o),{},{image:e})),label:"Image de la cat\xe9gorie"}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"icon",children:"Ic\xf4ne (Lucide)"}),(0,Mr.jsx)(hs,{id:"icon",value:o.icon,onChange:e=>c(Qt(Qt({},o),{},{icon:e.target.value})),placeholder:"package, coffee, etc."})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"order",children:"Ordre d'affichage"}),(0,Mr.jsx)(hs,{id:"order",type:"number",value:o.order,onChange:e=>c(Qt(Qt({},o),{},{order:e.target.value}))})]}),(0,Mr.jsx)("div",{children:(0,Mr.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Mr.jsx)("input",{type:"checkbox",checked:o.is_active,onChange:e=>c(Qt(Qt({},o),{},{is_active:e.target.checked})),className:"w-4 h-4 text-primary rounded"}),(0,Mr.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"Active"})]})}),(0,Mr.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,Mr.jsx)(cs,{type:"button",variant:"secondary",onClick:n,children:"Annuler"}),(0,Mr.jsx)(cs,{type:"submit",disabled:l,children:l?"Enregistrement...":r?"Mettre \xe0 jour":"Cr\xe9er"})]})]})})},ml=Gr("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),pl=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[a,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(null);(0,s.useEffect)(()=>{c()},[]);const c=async()=>{try{const e=await jr();t(e.data.categories||[])}catch(e){console.error("Failed to load categories:",e),t([])}finally{r(!1)}};return n?(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(Ss,{title:"Cat\xe9gories"}),(0,Mr.jsx)("div",{className:"p-8",children:(0,Mr.jsx)("p",{children:"Chargement..."})})]}):(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(Ss,{title:"Cat\xe9gories"}),(0,Mr.jsxs)("div",{className:"p-8",children:[(0,Mr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Mr.jsxs)("h3",{className:"text-xl font-bold",children:[e.length," cat\xe9gories"]}),(0,Mr.jsxs)(cs,{onClick:()=>l(!0),children:[(0,Mr.jsx)(Hs,{className:"w-4 h-4 mr-2"}),"Ajouter"]})]}),(0,Mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>{const t=e.image_url||e.image;return(0,Mr.jsxs)(ws,{children:[t?(0,Mr.jsx)("img",{src:t,alt:e.name,className:"w-full h-32 object-cover rounded-lg mb-4"}):(0,Mr.jsx)("div",{className:"w-full h-32 bg-gray-100 rounded-lg mb-4 flex items-center justify-center",children:(0,Mr.jsx)(ml,{className:"w-12 h-12 text-gray-400"})}),(0,Mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mr.jsx)("h4",{className:"font-bold text-lg",children:e.name}),(0,Mr.jsxs)("div",{className:"flex space-x-2",children:[(0,Mr.jsx)(cs,{size:"sm",variant:"outline",onClick:()=>{o(e),l(!0)},children:(0,Mr.jsx)($s,{className:"w-4 h-4"})}),(0,Mr.jsx)(cs,{size:"sm",variant:"danger",onClick:()=>(async e=>{if(window.confirm("\xcates-vous s\xfbr ?"))try{await kr(e),c()}catch(t){alert("Erreur lors de la suppression")}})(e.id),children:(0,Mr.jsx)(Gs,{className:"w-4 h-4"})})]})]}),(0,Mr.jsx)("span",{className:"inline-block mt-2 text-xs px-2 py-1 rounded ".concat(e.is_active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"),children:e.is_active?"Active":"Inactive"})]},e.id)})}),0===e.length&&(0,Mr.jsxs)("div",{className:"text-center py-12",children:[(0,Mr.jsx)(ml,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Mr.jsx)("p",{className:"text-gray-500",children:"Aucune cat\xe9gorie"})]})]}),(0,Mr.jsx)(ul,{isOpen:a,onClose:()=>{l(!1),o(null)},category:i,onSuccess:c})]})},hl=Gr("store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]),xl=Gr("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),fl=Gr("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),gl=Gr("percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),yl=Gr("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]),bl=Gr("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),vl="https://resto-hub-54.preview.emergentagent.com",jl=[{key:"monday",label:"Lundi"},{key:"tuesday",label:"Mardi"},{key:"wednesday",label:"Mercredi"},{key:"thursday",label:"Jeudi"},{key:"friday",label:"Vendredi"},{key:"saturday",label:"Samedi"},{key:"sunday",label:"Dimanche"}],wl=()=>{var e,t,n,r,a,l,i,o,c,d;const[u,m]=(0,s.useState)(null),[p,h]=(0,s.useState)(!0),[x,f]=(0,s.useState)(!1);(0,s.useEffect)(()=>{g()},[]);const g=async()=>{try{const e=await pr.get("".concat(vl,"/api/v1/admin/settings"));m(Qt(Qt({},e.data),{},{social_media:e.data.social_media||{},service_links:e.data.service_links||{},opening_hours:e.data.opening_hours||{},order_hours:e.data.order_hours||{}}))}catch(e){console.error("Error loading settings:",e),m({name:"Family's Bourg-en-Bresse",email:"contact@familys.app",phone:"04 74 XX XX XX",address:"123 Avenue de la Gare, 01000 Bourg-en-Bresse",primary_color:"#C62828",secondary_color:"#FFD54F",order_cutoff_minutes:20,preparation_time_minutes:15,enable_delivery:!0,enable_takeaway:!0,enable_onsite:!0,enable_reservations:!1,loyalty_percentage:5,social_media:{},service_links:{},opening_hours:{},order_hours:{}})}finally{h(!1)}},y=(e,t)=>{m(Qt(Qt({},u),{},{social_media:Qt(Qt({},u.social_media),{},{[e]:t})}))},b=(e,t)=>{m(Qt(Qt({},u),{},{service_links:Qt(Qt({},u.service_links),{},{[e]:t})}))};return p?(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(Ss,{title:"\u2699\ufe0f Param\xe8tres",subtitle:"Configuration du restaurant"}),(0,Mr.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,Mr.jsxs)("div",{className:"text-center",children:[(0,Mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,Mr.jsx)("p",{className:"text-gray-600",children:"Chargement..."})]})})]}):(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(Ss,{title:"\u2699\ufe0f Param\xe8tres",subtitle:"Configuration du restaurant"}),(0,Mr.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Mr.jsxs)(ws,{children:[(0,Mr.jsx)(Ns,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:(0,Mr.jsxs)(ks,{className:"flex items-center gap-2",children:[(0,Mr.jsx)(hl,{className:"w-5 h-5"}),"Informations du restaurant"]})}),(0,Mr.jsxs)(_s,{className:"space-y-4",children:[(0,Mr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"name",children:"Nom du restaurant *"}),(0,Mr.jsx)(hs,{id:"name",value:u.name||"",onChange:e=>m(Qt(Qt({},u),{},{name:e.target.value})),placeholder:"Ex: Family's Bourg-en-Bresse"})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"phone",children:"T\xe9l\xe9phone *"}),(0,Mr.jsx)(hs,{id:"phone",value:u.phone||"",onChange:e=>m(Qt(Qt({},u),{},{phone:e.target.value})),placeholder:"Ex: 04 74 XX XX XX"})]})]}),(0,Mr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"email",children:"Email *"}),(0,Mr.jsx)(hs,{id:"email",type:"email",value:u.email||"",onChange:e=>m(Qt(Qt({},u),{},{email:e.target.value})),placeholder:"Ex: contact@familys.app"})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"address",children:"Adresse *"}),(0,Mr.jsx)(hs,{id:"address",value:u.address||"",onChange:e=>m(Qt(Qt({},u),{},{address:e.target.value})),placeholder:"Ex: 123 Avenue de la Gare, 01000"})]})]})]})]}),(0,Mr.jsxs)(ws,{children:[(0,Mr.jsx)(Ns,{className:"bg-gradient-to-r from-indigo-50 to-blue-50",children:(0,Mr.jsxs)(ks,{className:"flex items-center gap-2",children:[(0,Mr.jsx)(la,{className:"w-5 h-5"}),"Horaires du restaurant"]})}),(0,Mr.jsxs)(_s,{className:"space-y-6",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("h3",{className:"font-semibold text-lg mb-3",children:"\ud83c\udfea Horaires d'ouverture (affich\xe9s dans l'app)"}),(0,Mr.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"Vous pouvez d\xe9finir 2 plages horaires par jour (ex: 11h-14h et 18h-23h)"}),(0,Mr.jsx)("div",{className:"space-y-3",children:jl.map(e=>{var t,n,r,a,s,l;return(0,Mr.jsxs)("div",{className:"border rounded-lg p-3 bg-gray-50",children:[(0,Mr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Mr.jsx)("label",{className:"font-bold text-sm",children:e.label}),(0,Mr.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Mr.jsx)("input",{type:"checkbox",checked:(null===(t=u.opening_hours[e.key])||void 0===t?void 0:t.closed)||!1,onChange:t=>{const n=Qt({},u.opening_hours);n[e.key]=Qt(Qt({},n[e.key]),{},{closed:t.target.checked}),m(Qt(Qt({},u),{},{opening_hours:n}))},className:"w-4 h-4"}),(0,Mr.jsx)("span",{className:"text-sm text-red-600 font-medium",children:"Ferm\xe9"})]})]}),!(null!==(n=u.opening_hours[e.key])&&void 0!==n&&n.closed)&&(0,Mr.jsxs)("div",{className:"space-y-2",children:[(0,Mr.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Mr.jsx)(hs,{type:"time",placeholder:"Ouverture matin",value:(null===(r=u.opening_hours[e.key])||void 0===r?void 0:r.open1)||"",onChange:t=>{const n=Qt({},u.opening_hours);n[e.key]=Qt(Qt({},n[e.key]),{},{open1:t.target.value}),m(Qt(Qt({},u),{},{opening_hours:n}))}}),(0,Mr.jsx)(hs,{type:"time",placeholder:"Fermeture matin",value:(null===(a=u.opening_hours[e.key])||void 0===a?void 0:a.close1)||"",onChange:t=>{const n=Qt({},u.opening_hours);n[e.key]=Qt(Qt({},n[e.key]),{},{close1:t.target.value}),m(Qt(Qt({},u),{},{opening_hours:n}))}})]}),(0,Mr.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Mr.jsx)(hs,{type:"time",placeholder:"Ouverture soir (optionnel)",value:(null===(s=u.opening_hours[e.key])||void 0===s?void 0:s.open2)||"",onChange:t=>{const n=Qt({},u.opening_hours);n[e.key]=Qt(Qt({},n[e.key]),{},{open2:t.target.value}),m(Qt(Qt({},u),{},{opening_hours:n}))}}),(0,Mr.jsx)(hs,{type:"time",placeholder:"Fermeture soir (optionnel)",value:(null===(l=u.opening_hours[e.key])||void 0===l?void 0:l.close2)||"",onChange:t=>{const n=Qt({},u.opening_hours);n[e.key]=Qt(Qt({},n[e.key]),{},{close2:t.target.value}),m(Qt(Qt({},u),{},{opening_hours:n}))}})]})]})]},e.key)})})]}),(0,Mr.jsxs)("div",{className:"border-t pt-6",children:[(0,Mr.jsx)("h3",{className:"font-semibold text-lg mb-3",children:"\ud83d\udcf1 Horaires de commande (diff\xe9rents si n\xe9cessaire)"}),(0,Mr.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Les clients ne pourront commander que pendant ces horaires (2 plages possibles)"}),(0,Mr.jsx)("div",{className:"space-y-3",children:jl.map(e=>{var t,n,r,a,s,l;return(0,Mr.jsxs)("div",{className:"border rounded-lg p-3 bg-gray-50",children:[(0,Mr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Mr.jsx)("label",{className:"font-bold text-sm",children:e.label}),(0,Mr.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,Mr.jsx)("input",{type:"checkbox",checked:(null===(t=u.order_hours[e.key])||void 0===t?void 0:t.disabled)||!1,onChange:t=>{const n=Qt({},u.order_hours);n[e.key]=Qt(Qt({},n[e.key]),{},{disabled:t.target.checked}),m(Qt(Qt({},u),{},{order_hours:n}))},className:"w-4 h-4"}),(0,Mr.jsx)("span",{className:"text-sm text-red-600 font-medium",children:"D\xe9sactiv\xe9"})]})]}),!(null!==(n=u.order_hours[e.key])&&void 0!==n&&n.disabled)&&(0,Mr.jsxs)("div",{className:"space-y-2",children:[(0,Mr.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Mr.jsx)(hs,{type:"time",placeholder:"D\xe9but 1",value:(null===(r=u.order_hours[e.key])||void 0===r?void 0:r.start1)||"",onChange:t=>{const n=Qt({},u.order_hours);n[e.key]=Qt(Qt({},n[e.key]),{},{start1:t.target.value}),m(Qt(Qt({},u),{},{order_hours:n}))}}),(0,Mr.jsx)(hs,{type:"time",placeholder:"Fin 1",value:(null===(a=u.order_hours[e.key])||void 0===a?void 0:a.end1)||"",onChange:t=>{const n=Qt({},u.order_hours);n[e.key]=Qt(Qt({},n[e.key]),{},{end1:t.target.value}),m(Qt(Qt({},u),{},{order_hours:n}))}})]}),(0,Mr.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Mr.jsx)(hs,{type:"time",placeholder:"D\xe9but 2 (optionnel)",value:(null===(s=u.order_hours[e.key])||void 0===s?void 0:s.start2)||"",onChange:t=>{const n=Qt({},u.order_hours);n[e.key]=Qt(Qt({},n[e.key]),{},{start2:t.target.value}),m(Qt(Qt({},u),{},{order_hours:n}))}}),(0,Mr.jsx)(hs,{type:"time",placeholder:"Fin 2 (optionnel)",value:(null===(l=u.order_hours[e.key])||void 0===l?void 0:l.end2)||"",onChange:t=>{const n=Qt({},u.order_hours);n[e.key]=Qt(Qt({},n[e.key]),{},{end2:t.target.value}),m(Qt(Qt({},u),{},{order_hours:n}))}})]})]})]},e.key)})})]})]})]}),(0,Mr.jsxs)(ws,{children:[(0,Mr.jsx)(Ns,{className:"bg-gradient-to-r from-purple-50 to-pink-50",children:(0,Mr.jsxs)(ks,{className:"flex items-center gap-2",children:[(0,Mr.jsx)(xl,{className:"w-5 h-5"}),"R\xe9seaux sociaux"]})}),(0,Mr.jsxs)(_s,{className:"space-y-4",children:[(0,Mr.jsx)("p",{className:"text-sm text-gray-600",children:"Ces liens appara\xeetront sous forme d'ic\xf4nes cliquables dans l'application mobile"}),(0,Mr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"facebook",children:"\ud83d\udd35 Facebook"}),(0,Mr.jsx)(hs,{id:"facebook",value:(null===(e=u.social_media)||void 0===e?void 0:e.facebook)||"",onChange:e=>y("facebook",e.target.value),placeholder:"https://facebook.com/familysbourg"})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"instagram",children:"\ud83d\udcf7 Instagram"}),(0,Mr.jsx)(hs,{id:"instagram",value:(null===(t=u.social_media)||void 0===t?void 0:t.instagram)||"",onChange:e=>y("instagram",e.target.value),placeholder:"https://instagram.com/familysbourg"})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"twitter",children:"\ud83d\udc26 Twitter / X"}),(0,Mr.jsx)(hs,{id:"twitter",value:(null===(n=u.social_media)||void 0===n?void 0:n.twitter)||"",onChange:e=>y("twitter",e.target.value),placeholder:"https://twitter.com/familysbourg"})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"tiktok",children:"\ud83c\udfb5 TikTok"}),(0,Mr.jsx)(hs,{id:"tiktok",value:(null===(r=u.social_media)||void 0===r?void 0:r.tiktok)||"",onChange:e=>y("tiktok",e.target.value),placeholder:"https://tiktok.com/@familysbourg"})]})]})]})]}),(0,Mr.jsxs)(ws,{children:[(0,Mr.jsx)(Ns,{className:"bg-gradient-to-r from-green-50 to-teal-50",children:(0,Mr.jsxs)(ks,{className:"flex items-center gap-2",children:[(0,Mr.jsx)(fl,{className:"w-5 h-5"}),"Liens des services externes"]})}),(0,Mr.jsxs)(_s,{className:"space-y-4",children:[(0,Mr.jsx)("p",{className:"text-sm text-gray-600",children:"G\xe9rez les liens de vos services de paiement et autres int\xe9grations"}),(0,Mr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"stripe",children:"\ud83d\udcb3 Stripe"}),(0,Mr.jsx)(hs,{id:"stripe",value:(null===(a=u.service_links)||void 0===a?void 0:a.stripe)||"",onChange:e=>b("stripe",e.target.value),placeholder:"Dashboard Stripe URL"})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"paypal",children:"\ud83c\udd7f\ufe0f PayPal"}),(0,Mr.jsx)(hs,{id:"paypal",value:(null===(l=u.service_links)||void 0===l?void 0:l.paypal)||"",onChange:e=>b("paypal",e.target.value),placeholder:"Dashboard PayPal URL"})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"analytics",children:"\ud83d\udcca Analytics"}),(0,Mr.jsx)(hs,{id:"analytics",value:(null===(i=u.service_links)||void 0===i?void 0:i.analytics)||"",onChange:e=>b("analytics",e.target.value),placeholder:"Google Analytics URL"})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"delivery",children:"\ud83d\ude9a Service de livraison"}),(0,Mr.jsx)(hs,{id:"delivery",value:(null===(o=u.service_links)||void 0===o?void 0:o.delivery)||"",onChange:e=>b("delivery",e.target.value),placeholder:"URL du service de livraison"})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"apple_pay",children:"\ud83c\udf4e Apple Pay"}),(0,Mr.jsx)(hs,{id:"apple_pay",value:(null===(c=u.service_links)||void 0===c?void 0:c.apple_pay)||"",onChange:e=>b("apple_pay",e.target.value),placeholder:"Lien Apple Pay"})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"google_pay",children:"\ud83d\udfe2 Google Pay"}),(0,Mr.jsx)(hs,{id:"google_pay",value:(null===(d=u.service_links)||void 0===d?void 0:d.google_pay)||"",onChange:e=>b("google_pay",e.target.value),placeholder:"Lien Google Pay"})]})]})]})]}),(0,Mr.jsxs)(ws,{children:[(0,Mr.jsx)(Ns,{className:"bg-gradient-to-r from-orange-50 to-red-50",children:(0,Mr.jsxs)(ks,{className:"flex items-center gap-2",children:[(0,Mr.jsx)(nl,{className:"w-5 h-5"}),"Gestion des commandes"]})}),(0,Mr.jsxs)(_s,{className:"space-y-4",children:[(0,Mr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"preparation_time",children:"\u23f1\ufe0f Temps de pr\xe9paration (cr\xe9neaux)"}),(0,Mr.jsxs)(fs,{id:"preparation_time",value:u.preparation_time_minutes||15,onChange:e=>m(Qt(Qt({},u),{},{preparation_time_minutes:parseInt(e.target.value)})),children:[(0,Mr.jsx)("option",{value:"5",children:"5 minutes"}),(0,Mr.jsx)("option",{value:"10",children:"10 minutes"}),(0,Mr.jsx)("option",{value:"15",children:"15 minutes"}),(0,Mr.jsx)("option",{value:"20",children:"20 minutes"}),(0,Mr.jsx)("option",{value:"25",children:"25 minutes"}),(0,Mr.jsx)("option",{value:"30",children:"30 minutes"}),(0,Mr.jsx)("option",{value:"45",children:"45 minutes"}),(0,Mr.jsx)("option",{value:"60",children:"1 heure"})]}),(0,Mr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\ud83d\udccb Les clients pourront choisir des cr\xe9neaux de r\xe9cup\xe9ration espac\xe9s de ce temps"})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"cutoff_time",children:"\ud83d\udeab D\xe9lai minimum de commande"}),(0,Mr.jsxs)(fs,{id:"cutoff_time",value:u.order_cutoff_minutes||20,onChange:e=>m(Qt(Qt({},u),{},{order_cutoff_minutes:parseInt(e.target.value)})),children:[(0,Mr.jsx)("option",{value:"10",children:"10 minutes"}),(0,Mr.jsx)("option",{value:"15",children:"15 minutes"}),(0,Mr.jsx)("option",{value:"20",children:"20 minutes"}),(0,Mr.jsx)("option",{value:"30",children:"30 minutes"}),(0,Mr.jsx)("option",{value:"45",children:"45 minutes"}),(0,Mr.jsx)("option",{value:"60",children:"1 heure"})]}),(0,Mr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\u23f0 Temps minimum avant qu'une commande puisse \xeatre r\xe9cup\xe9r\xe9e"})]})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{children:"Types de commande activ\xe9s"}),(0,Mr.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[(0,Mr.jsxs)("label",{className:"flex items-center space-x-2 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,Mr.jsx)("input",{type:"checkbox",checked:u.enable_takeaway,onChange:e=>m(Qt(Qt({},u),{},{enable_takeaway:e.target.checked})),className:"w-4 h-4"}),(0,Mr.jsx)("span",{className:"text-sm font-medium",children:"\ud83c\udf92 \xc0 emporter"})]}),(0,Mr.jsxs)("label",{className:"flex items-center space-x-2 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,Mr.jsx)("input",{type:"checkbox",checked:u.enable_delivery,onChange:e=>m(Qt(Qt({},u),{},{enable_delivery:e.target.checked})),className:"w-4 h-4"}),(0,Mr.jsx)("span",{className:"text-sm font-medium",children:"\ud83d\ude9a Livraison"})]}),(0,Mr.jsxs)("label",{className:"flex items-center space-x-2 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,Mr.jsx)("input",{type:"checkbox",checked:u.enable_onsite,onChange:e=>m(Qt(Qt({},u),{},{enable_onsite:e.target.checked})),className:"w-4 h-4"}),(0,Mr.jsx)("span",{className:"text-sm font-medium",children:"\ud83c\udf7d\ufe0f Sur place"})]}),(0,Mr.jsxs)("label",{className:"flex items-center space-x-2 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,Mr.jsx)("input",{type:"checkbox",checked:u.enable_reservations,onChange:e=>m(Qt(Qt({},u),{},{enable_reservations:e.target.checked})),className:"w-4 h-4"}),(0,Mr.jsx)("span",{className:"text-sm font-medium",children:"\ud83d\udcc5 R\xe9servations"})]})]})]})]})]}),(0,Mr.jsxs)(ws,{children:[(0,Mr.jsx)(Ns,{className:"bg-gradient-to-r from-green-50 to-emerald-50",children:(0,Mr.jsxs)(ks,{className:"flex items-center gap-2",children:[(0,Mr.jsx)(gl,{className:"w-5 h-5"}),"Programme de fid\xe9lit\xe9"]})}),(0,Mr.jsx)(_s,{className:"space-y-4",children:(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"loyalty",children:"\ud83d\udcb0 Pourcentage de cashback"}),(0,Mr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Mr.jsx)(hs,{id:"loyalty",type:"number",min:"0",max:"100",step:"0.5",value:u.loyalty_percentage||5,onChange:e=>m(Qt(Qt({},u),{},{loyalty_percentage:parseFloat(e.target.value)})),className:"w-32"}),(0,Mr.jsx)("span",{className:"text-gray-600",children:"%"})]}),(0,Mr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\ud83c\udf81 Pourcentage du montant de chaque commande cr\xe9dit\xe9 sur la carte de fid\xe9lit\xe9 du client"})]})})]}),(0,Mr.jsxs)(ws,{children:[(0,Mr.jsx)(Ns,{className:"bg-gradient-to-r from-pink-50 to-rose-50",children:(0,Mr.jsxs)(ks,{className:"flex items-center gap-2",children:[(0,Mr.jsx)(yl,{className:"w-5 h-5"}),"Personnalisation de l'application"]})}),(0,Mr.jsx)(_s,{className:"space-y-4",children:(0,Mr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"primary_color",children:"\ud83c\udfa8 Couleur principale"}),(0,Mr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Mr.jsx)("input",{id:"primary_color",type:"color",value:u.primary_color||"#C62828",onChange:e=>m(Qt(Qt({},u),{},{primary_color:e.target.value})),className:"w-16 h-10 rounded cursor-pointer"}),(0,Mr.jsx)(hs,{value:u.primary_color||"#C62828",onChange:e=>m(Qt(Qt({},u),{},{primary_color:e.target.value})),placeholder:"#C62828"})]})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"secondary_color",children:"\ud83c\udfa8 Couleur secondaire"}),(0,Mr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Mr.jsx)("input",{id:"secondary_color",type:"color",value:u.secondary_color||"#FFD54F",onChange:e=>m(Qt(Qt({},u),{},{secondary_color:e.target.value})),className:"w-16 h-10 rounded cursor-pointer"}),(0,Mr.jsx)(hs,{value:u.secondary_color||"#FFD54F",onChange:e=>m(Qt(Qt({},u),{},{secondary_color:e.target.value})),placeholder:"#FFD54F"})]})]})]})})]}),(0,Mr.jsx)("div",{className:"flex justify-end sticky bottom-4",children:(0,Mr.jsxs)(cs,{onClick:async()=>{f(!0);try{await pr.put("".concat(vl,"/api/v1/admin/settings"),u),alert("\u2705 Param\xe8tres enregistr\xe9s avec succ\xe8s !")}catch(e){console.error("Error saving settings:",e),alert("\u274c Erreur lors de l'enregistrement des param\xe8tres")}finally{f(!1)}},disabled:x,className:"px-8 py-3 text-lg font-bold shadow-lg",children:[(0,Mr.jsx)(bl,{className:"w-5 h-5 mr-2"}),x?"Enregistrement...":"Enregistrer les param\xe8tres"]})})]})]})},Nl=Gr("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),kl=Gr("message-circle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),_l=()=>{var e,t;const[n,r]=(0,s.useState)(!1),[a,l]=(0,s.useState)(""),[i,o]=(0,s.useState)(null),[c,d]=(0,s.useState)(""),[u,m]=(0,s.useState)(""),[p,h]=(0,s.useState)(null),x=async e=>{r(!0);try{const t=await _r({type:e});l(t.data.generated_text)}catch(a){var t,n;alert("Erreur : "+((null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Erreur IA"))}finally{r(!1)}},f=async()=>{if(c.trim()){r(!0);try{const e=await Sr(c);m(e.data.response)}catch(n){var e,t;alert("Erreur : "+((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Erreur IA"))}finally{r(!1)}}};return(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(Ss,{title:"Assistant IA"}),(0,Mr.jsxs)("div",{className:"p-8",children:[(0,Mr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,Mr.jsxs)(ws,{children:[(0,Mr.jsx)(Ns,{children:(0,Mr.jsxs)(ks,{className:"flex items-center space-x-2",children:[(0,Mr.jsx)(sa,{className:"w-5 h-5 text-primary"}),(0,Mr.jsx)("span",{children:"G\xe9n\xe9ration Marketing"})]})}),(0,Mr.jsx)(_s,{children:(0,Mr.jsxs)("div",{className:"space-y-4",children:[(0,Mr.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Mr.jsx)(cs,{onClick:()=>x("social_post"),disabled:n,children:"Post Social"}),(0,Mr.jsx)(cs,{onClick:()=>x("product_description"),disabled:n,children:"Description Produit"}),(0,Mr.jsx)(cs,{onClick:()=>x("promo_text"),disabled:n,className:"col-span-2",children:"Texte Promo"})]}),a&&(0,Mr.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-lg border border-gray-200",children:[(0,Mr.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:a}),(0,Mr.jsx)(cs,{size:"sm",variant:"outline",className:"mt-3",onClick:()=>navigator.clipboard.writeText(a),children:"Copier"})]})]})})]}),(0,Mr.jsxs)(ws,{children:[(0,Mr.jsx)(Ns,{children:(0,Mr.jsxs)(ks,{className:"flex items-center space-x-2",children:[(0,Mr.jsx)(Nl,{className:"w-5 h-5 text-primary"}),(0,Mr.jsx)("span",{children:"Analyse Ventes"})]})}),(0,Mr.jsxs)(_s,{children:[(0,Mr.jsx)(cs,{onClick:async()=>{r(!0);try{const e=await Cr();o(e.data)}catch(n){var e,t;alert("Erreur : "+((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Erreur IA"))}finally{r(!1)}},disabled:n,className:"w-full mb-4",children:"Analyser les ventes"}),i&&(0,Mr.jsxs)("div",{className:"space-y-3",children:[(null===(e=i.ai_analysis)||void 0===e?void 0:e.insights)&&(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("h4",{className:"font-bold text-sm mb-2",children:"Insights :"}),(0,Mr.jsx)("ul",{className:"text-sm text-gray-700 dark:text-gray-300 space-y-1",children:i.ai_analysis.insights.map((e,t)=>(0,Mr.jsxs)("li",{children:["\u2022 ",e]},t))})]}),(null===(t=i.ai_analysis)||void 0===t?void 0:t.recommendations)&&(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("h4",{className:"font-bold text-sm mb-2",children:"Recommandations :"}),(0,Mr.jsx)("ul",{className:"text-sm text-gray-700 dark:text-gray-300 space-y-1",children:i.ai_analysis.recommendations.map((e,t)=>(0,Mr.jsxs)("li",{children:["\u2713 ",e]},t))})]})]})]})]})]}),(0,Mr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Mr.jsxs)(ws,{children:[(0,Mr.jsx)(Ns,{children:(0,Mr.jsxs)(ks,{className:"flex items-center space-x-2",children:[(0,Mr.jsx)(kl,{className:"w-5 h-5 text-primary"}),(0,Mr.jsx)("span",{children:"Chat IA"})]})}),(0,Mr.jsx)(_s,{children:(0,Mr.jsxs)("div",{className:"space-y-4",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{children:"Posez une question"}),(0,Mr.jsx)(hs,{value:c,onChange:e=>d(e.target.value),placeholder:"Ex: Quel est le CA d'hier ?",onKeyPress:e=>"Enter"===e.key&&f()})]}),(0,Mr.jsx)(cs,{onClick:f,disabled:n||!c.trim(),children:"Envoyer"}),u&&(0,Mr.jsx)("div",{className:"bg-primary/10 p-4 rounded-lg border border-primary/20",children:(0,Mr.jsx)("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:u})})]})})]}),(0,Mr.jsxs)(ws,{children:[(0,Mr.jsx)(Ns,{children:(0,Mr.jsxs)(ks,{className:"flex items-center space-x-2",children:[(0,Mr.jsx)(Yr,{className:"w-5 h-5 text-primary"}),(0,Mr.jsx)("span",{children:"Suggestion Promo IA"})]})}),(0,Mr.jsxs)(_s,{children:[(0,Mr.jsx)(cs,{onClick:async()=>{r(!0);try{const e=await Er();h(e.data.suggestion)}catch(n){var e,t;alert("Erreur : "+((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Erreur IA"))}finally{r(!1)}},disabled:n,className:"w-full mb-4",children:"G\xe9n\xe9rer une suggestion"}),p&&(0,Mr.jsxs)("div",{className:"bg-gold/10 p-4 rounded-lg border border-gold/30",children:[(0,Mr.jsx)("h4",{className:"font-bold mb-2",children:p.title||"Promo sugg\xe9r\xe9e"}),(0,Mr.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:p.description||JSON.stringify(p)})]})]})]})]})]})]})},Cl=e=>{let{isOpen:t,onClose:n,promo:r,onSuccess:a}=e;const[l,i]=(0,s.useState)({code:"",description:"",discount_type:"percentage",discount_value:0,min_order_amount:0,max_uses:"",valid_from:"",valid_until:"",is_active:!0}),[o,c]=(0,s.useState)(!1);(0,s.useEffect)(()=>{i(r?{code:r.code||"",description:r.description||"",discount_type:r.discount_type||"percentage",discount_value:r.discount_value||0,min_order_amount:r.min_order_amount||0,max_uses:r.max_uses||"",valid_from:r.valid_from?r.valid_from.split("T")[0]:"",valid_until:r.valid_until?r.valid_until.split("T")[0]:"",is_active:!1!==r.is_active}:{code:"",description:"",discount_type:"percentage",discount_value:0,min_order_amount:0,max_uses:"",valid_from:"",valid_until:"",is_active:!0})},[r,t]);return(0,Mr.jsxs)(Fs,{isOpen:t,onClose:n,size:"large",children:[(0,Mr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Mr.jsx)("h2",{className:"text-2xl font-bold",children:r?"Modifier la promotion":"Cr\xe9er une promotion"}),(0,Mr.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:(0,Mr.jsx)(As,{className:"w-6 h-6"})})]}),(0,Mr.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0);try{const e="https://resto-hub-54.preview.emergentagent.com",t=Qt(Qt({},l),{},{discount_value:["bogo","free_delivery"].includes(l.discount_type)?100:parseFloat(l.discount_value),min_order_amount:parseFloat(l.min_order_amount),max_uses:l.max_uses?parseInt(l.max_uses):null,valid_from:l.valid_from?new Date(l.valid_from).toISOString():(new Date).toISOString(),valid_until:l.valid_until?new Date(l.valid_until).toISOString():new Date(Date.now()+2592e6).toISOString()}),s=r?"".concat(e,"/api/v1/admin/promos/").concat(r.id):"".concat(e,"/api/v1/admin/promos"),i=r?"PUT":"POST",o=await fetch(s,{method:i,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!o.ok){const e=await o.json();throw new Error(e.detail||"Failed to save promo")}null===a||void 0===a||a(),n()}catch(t){console.error("Error saving promo:",t),alert("Erreur: ".concat(t.message))}finally{c(!1)}},className:"space-y-4",children:[(0,Mr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Code promo *"}),(0,Mr.jsx)("input",{type:"text",value:l.code,onChange:e=>i(Qt(Qt({},l),{},{code:e.target.value.toUpperCase()})),className:"w-full px-4 py-2 border rounded-lg font-mono",placeholder:"WELCOME10",required:!0})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Type de r\xe9duction *"}),(0,Mr.jsxs)("select",{value:l.discount_type,onChange:e=>i(Qt(Qt({},l),{},{discount_type:e.target.value})),className:"w-full px-4 py-2 border rounded-lg",required:!0,children:[(0,Mr.jsx)("option",{value:"percentage",children:"\ud83d\udcaf Pourcentage (%)"}),(0,Mr.jsx)("option",{value:"fixed",children:"\ud83d\udcb6 Montant fixe (\u20ac)"}),(0,Mr.jsx)("option",{value:"bogo",children:"\ud83c\udf81 BOGO (Achetez 1, obtenez 1 gratuit)"}),(0,Mr.jsx)("option",{value:"free_delivery",children:"\ud83d\ude9a Livraison gratuite"})]})]})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Description *"}),(0,Mr.jsx)("textarea",{value:l.description,onChange:e=>i(Qt(Qt({},l),{},{description:e.target.value})),className:"w-full px-4 py-2 border rounded-lg",rows:"2",placeholder:"10% de r\xe9duction pour les nouveaux clients",required:!0})]}),(0,Mr.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[!["bogo","free_delivery"].includes(l.discount_type)&&(0,Mr.jsxs)("div",{children:[(0,Mr.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["Valeur * ","percentage"===l.discount_type?"(%)":"(\u20ac)"]}),(0,Mr.jsx)("input",{type:"number",step:"0.01",min:"0",value:l.discount_value,onChange:e=>i(Qt(Qt({},l),{},{discount_value:e.target.value})),className:"w-full px-4 py-2 border rounded-lg",required:!0})]}),"bogo"===l.discount_type&&(0,Mr.jsx)("div",{className:"col-span-3",children:(0,Mr.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,Mr.jsxs)("p",{className:"text-sm text-blue-800",children:["\ud83c\udf81 ",(0,Mr.jsx)("strong",{children:"BOGO:"})," Le client obtient le 2\xe8me article identique gratuitement"]})})}),"free_delivery"===l.discount_type&&(0,Mr.jsx)("div",{className:"col-span-3",children:(0,Mr.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,Mr.jsxs)("p",{className:"text-sm text-green-800",children:["\ud83d\ude9a ",(0,Mr.jsx)("strong",{children:"Livraison gratuite:"})," Les frais de livraison seront offerts"]})})}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Commande min. (\u20ac)"}),(0,Mr.jsx)("input",{type:"number",step:"0.01",min:"0",value:l.min_order_amount,onChange:e=>i(Qt(Qt({},l),{},{min_order_amount:e.target.value})),className:"w-full px-4 py-2 border rounded-lg"})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Utilisation max."}),(0,Mr.jsx)("input",{type:"number",min:"1",value:l.max_uses,onChange:e=>i(Qt(Qt({},l),{},{max_uses:e.target.value})),className:"w-full px-4 py-2 border rounded-lg",placeholder:"Illimit\xe9"})]})]}),(0,Mr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Valide du"}),(0,Mr.jsx)("input",{type:"date",value:l.valid_from,onChange:e=>i(Qt(Qt({},l),{},{valid_from:e.target.value})),className:"w-full px-4 py-2 border rounded-lg"})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Valide jusqu'au"}),(0,Mr.jsx)("input",{type:"date",value:l.valid_until,onChange:e=>i(Qt(Qt({},l),{},{valid_until:e.target.value})),className:"w-full px-4 py-2 border rounded-lg"})]})]}),(0,Mr.jsxs)("div",{className:"flex items-center",children:[(0,Mr.jsx)("input",{type:"checkbox",id:"is_active",checked:l.is_active,onChange:e=>i(Qt(Qt({},l),{},{is_active:e.target.checked})),className:"mr-2"}),(0,Mr.jsx)("label",{htmlFor:"is_active",className:"text-sm font-medium",children:"Promotion active"})]}),(0,Mr.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Mr.jsx)(cs,{type:"button",variant:"outline",onClick:n,className:"flex-1",children:"Annuler"}),(0,Mr.jsx)(cs,{type:"submit",disabled:o,className:"flex-1",children:o?"Enregistrement...":r?"Modifier":"Cr\xe9er"})]})]})]})},Sl=Gr("toggle-right",[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]),El=Gr("toggle-left",[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]]),Pl=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[a,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(null);(0,s.useEffect)(()=>{c()},[]);const c=async()=>{try{const e=await Pr();t(e.data.promos||e.data||[])}catch(e){console.error("Failed to load promos:",e),t([])}finally{r(!1)}};return n?(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(Ss,{title:"Promos & Offres"}),(0,Mr.jsx)("div",{className:"p-8",children:"Chargement..."})]}):(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(Ss,{title:"Promos & Offres"}),(0,Mr.jsxs)("div",{className:"p-8",children:[(0,Mr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Mr.jsxs)("h3",{className:"text-xl font-bold",children:[e.length," promotions"]}),(0,Mr.jsxs)(cs,{onClick:()=>l(!0),children:[(0,Mr.jsx)(Hs,{className:"w-4 h-4 mr-2"}),"Cr\xe9er une promo"]})]}),0===e.length?(0,Mr.jsxs)(ws,{className:"text-center py-12",children:[(0,Mr.jsx)(Yr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Mr.jsx)("p",{className:"text-gray-500",children:"Aucune promotion - Cr\xe9ez-en une ou utilisez l'IA pour g\xe9n\xe9rer des suggestions !"})]}):(0,Mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(e=>(0,Mr.jsxs)(ws,{className:"".concat(e.is_active?"border-2 border-green-500 bg-green-50":"border-2 border-red-300 bg-red-50"),children:[(0,Mr.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,Mr.jsx)("code",{className:"text-lg font-bold px-3 py-1 rounded ".concat(e.is_active?"bg-green-200 text-green-800":"bg-red-200 text-red-800"),children:e.code}),(0,Mr.jsx)("span",{className:"text-xs font-bold px-3 py-1 rounded ".concat(e.is_active?"bg-green-600 text-white":"bg-red-600 text-white"),children:e.is_active?"\u2705 ACTIVE":"\u274c INACTIVE"})]}),(0,Mr.jsx)("h4",{className:"font-medium ".concat(e.is_active?"text-green-900":"text-red-900"),children:e.description})]}),(0,Mr.jsx)("span",{className:"text-2xl font-black ".concat(e.is_active?"text-green-700":"text-red-700"),children:"percentage"===e.discount_type?"".concat(e.discount_value,"%"):"".concat(e.discount_value,"\u20ac")})]}),(0,Mr.jsxs)("div",{className:"text-xs text-gray-500 space-y-1 mb-4",children:[e.min_order_amount>0&&(0,Mr.jsxs)("div",{children:["\ud83d\udcb0 Commande minimum: ",e.min_order_amount,"\u20ac"]}),void 0!==e.usage_count&&(0,Mr.jsxs)("div",{children:["\ud83d\udcca Utilisations: ",e.usage_count]}),e.valid_until&&(0,Mr.jsxs)("div",{children:["\ud83d\udcc5 Valide jusqu'au: ",new Date(e.valid_until).toLocaleDateString("fr-FR")]})]}),(0,Mr.jsxs)("div",{className:"flex gap-2",children:[(0,Mr.jsxs)(cs,{size:"sm",variant:"outline",onClick:()=>(async e=>{try{const t="https://resto-hub-54.preview.emergentagent.com";await fetch("".concat(t,"/api/v1/admin/promos/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_active:!e.is_active})}),c()}catch(t){alert("\u274c Erreur lors de la mise \xe0 jour")}})(e),className:"flex-1",children:[e.is_active?(0,Mr.jsx)(Sl,{className:"w-4 h-4 mr-1"}):(0,Mr.jsx)(El,{className:"w-4 h-4 mr-1"}),e.is_active?"D\xe9sactiver":"Activer"]}),(0,Mr.jsx)(cs,{size:"sm",variant:"outline",onClick:()=>{o(e),l(!0)},children:(0,Mr.jsx)($s,{className:"w-4 h-4"})}),(0,Mr.jsx)(cs,{size:"sm",variant:"danger",onClick:()=>(async e=>{if(window.confirm("Supprimer cette promotion ?"))try{await Or(e),c()}catch(t){alert("\u274c Erreur lors de la suppression")}})(e.id),children:(0,Mr.jsx)(Gs,{className:"w-4 h-4"})})]})]},e.id))})]}),(0,Mr.jsx)(Cl,{isOpen:a,onClose:()=>{l(!1),o(null)},promo:i,onSuccess:c})]})},Ol=Gr("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Rl=Gr("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Tl=Gr("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),zl=Gr("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Al="https://resto-hub-54.preview.emergentagent.com",Fl=e=>{let{isOpen:t,onClose:n,promotion:r,onSuccess:a}=e;const[l,i]=(0,s.useState)(1),[o,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)([]),[m,p]=(0,s.useState)([]),[h,x]=(0,s.useState)(""),[f,g]=(0,s.useState)(null),[y,b]=(0,s.useState)({name:"",description:"",type:"percent_item",discount_type:"percentage",discount_value:10,eligible_products:[],eligible_categories:[],all_products:!1,min_cart_amount:null,start_date:(new Date).toISOString().split("T")[0],end_date:new Date(Date.now()+2592e6).toISOString().split("T")[0],start_time:null,end_time:null,days_active:[],limit_per_customer:null,priority:0,stackable:!1,badge_text:"",badge_color:"#FF6B35",status:"active"});(0,s.useEffect)(()=>{t&&(v(),r&&b(Qt(Qt({},y),r)))},[t]);const v=async()=>{try{const[e,t]=await Promise.all([pr.get("".concat(Al,"/api/v1/admin/products")),pr.get("".concat(Al,"/api/v1/admin/categories"))]);u(e.data.products||[]),p(t.data.categories||[])}catch(e){console.error("Error loading data:",e)}};return(0,Mr.jsx)(Fs,{isOpen:t,onClose:n,title:r?"\u270f\ufe0f Modifier la promotion":"\u2795 Cr\xe9er une promotion",size:"lg",children:(0,Mr.jsxs)("div",{className:"p-2",children:[(0,Mr.jsx)("div",{className:"flex items-center justify-between mb-8",children:[1,2,3].map(e=>(0,Mr.jsxs)("div",{className:"flex items-center",children:[(0,Mr.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-bold ".concat(l>=e?"bg-primary text-white":"bg-gray-200"),children:l>e?(0,Mr.jsx)(Rl,{className:"w-6 h-6"}):e}),e<3&&(0,Mr.jsx)("div",{className:"w-20 h-1 mx-2 ".concat(l>e?"bg-primary":"bg-gray-200")})]},e))}),(0,Mr.jsxs)("form",{onSubmit:e=>e.preventDefault(),children:[1===l&&(()=>{const e=!["bogo","shipping_free"].includes(y.type),t=["percent_item","fixed_item","bogo"].includes(y.type),n=["percent_category","fixed_category"].includes(y.type),r=d.filter(e=>e.name.toLowerCase().includes(h.toLowerCase()));return(0,Mr.jsxs)("div",{className:"space-y-4",children:[(0,Mr.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\xc9tape 1: Type & Ciblage"}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Type de promotion *"}),(0,Mr.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[{value:"bogo",label:"\ud83c\udf81 BOGO (Achetez 1 = 1 offert)",description:"Classique Buy One Get One",tooltip:"Le client ach\xe8te un produit et en re\xe7oit un second identique gratuitement. Id\xe9al pour augmenter le volume des ventes."},{value:"percent_item",label:"\ud83d\udcaf % sur produit",description:"R\xe9duction % sur produits sp\xe9cifiques",tooltip:"R\xe9duction en pourcentage appliqu\xe9e sur des produits s\xe9lectionn\xe9s. Ex: -15% sur tous les burgers."},{value:"percent_category",label:"\ud83d\udcaf % sur cat\xe9gorie",description:"R\xe9duction % sur une cat\xe9gorie",tooltip:"R\xe9duction en pourcentage sur tous les produits d'une ou plusieurs cat\xe9gories. Ex: -20% sur toutes les boissons."},{value:"conditional_discount",label:"\ud83d\udd22 2e \xe0 -50%",description:"2\xe8me article \xe0 -50%, 3 pour 2...",tooltip:'R\xe9duction progressive: le 2\xe8me article \xe0 -50%, ou formules "3 pour le prix de 2". Encourage l\'achat multiple.'},{value:"threshold",label:"\ud83c\udfaf Seuil de panier",description:"D\xe8s X\u20ac d'achat",tooltip:"R\xe9duction activ\xe9e quand le montant du panier atteint un seuil. Ex: -5\u20ac d\xe8s 30\u20ac d'achat."},{value:"shipping_free",label:"\ud83d\ude9a Livraison gratuite",description:"Frais de livraison offerts",tooltip:"Les frais de livraison sont offerts. Peut \xeatre conditionn\xe9 \xe0 un montant minimum."},{value:"new_customer",label:"\u2728 Nouveau client",description:"1\xe8re commande uniquement",tooltip:"Offre r\xe9serv\xe9e aux nouveaux clients pour leur premi\xe8re commande. Excellent pour l'acquisition."},{value:"happy_hour",label:"\ud83c\udf05 Happy Hour",description:"Promo sur horaires d\xe9finis",tooltip:"R\xe9duction active uniquement pendant certaines heures de la journ\xe9e. Ex: -15% de 15h \xe0 18h."},{value:"flash",label:"\u26a1 Offre Flash",description:"Dur\xe9e tr\xe8s limit\xe9e",tooltip:"Promotion de tr\xe8s courte dur\xe9e (quelques heures) pour cr\xe9er un sentiment d'urgence."},{value:"seasonal",label:"\ud83c\udf89 Saisonnier",description:"\xc9v\xe9nement sp\xe9cial",tooltip:"Promotion li\xe9e \xe0 un \xe9v\xe9nement (No\xebl, St-Valentin, etc.) ou une saison sp\xe9cifique."},{value:"promo_code",label:"\ud83d\udd16 Code promo",description:"Code manuel \xe0 saisir",tooltip:"Le client doit saisir un code pour b\xe9n\xe9ficier de la r\xe9duction. Utile pour le marketing cibl\xe9."}].map(e=>(0,Mr.jsxs)("div",{className:"relative group cursor-pointer p-3 border-2 rounded-lg transition-all ".concat(y.type===e.value?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/50"),onClick:()=>b(Qt(Qt({},y),{},{type:e.value})),children:[(0,Mr.jsx)("div",{className:"font-medium text-sm",children:e.label}),(0,Mr.jsx)("div",{className:"text-xs text-gray-500",children:e.description}),(0,Mr.jsxs)("div",{className:"absolute left-0 top-full mt-2 w-64 p-3 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all z-50",children:[(0,Mr.jsx)("div",{className:"font-semibold mb-1",children:"\u2139\ufe0f Comment \xe7a marche?"}),e.tooltip]})]},e.value))})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Nom de la promo *"}),(0,Mr.jsx)("input",{type:"text",value:y.name,onChange:e=>b(Qt(Qt({},y),{},{name:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Ex: Happy Hour Burgers",required:!0})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Description"}),(0,Mr.jsx)("textarea",{value:y.description,onChange:e=>b(Qt(Qt({},y),{},{description:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",rows:"2",placeholder:"Profitez de -15% sur tous nos burgers entre 15h et 18h"})]}),e&&(0,Mr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Type de remise"}),(0,Mr.jsxs)("select",{value:y.discount_type,onChange:e=>b(Qt(Qt({},y),{},{discount_type:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",children:[(0,Mr.jsx)("option",{value:"percentage",children:"Pourcentage (%)"}),(0,Mr.jsx)("option",{value:"fixed",children:"Montant fixe (\u20ac)"})]})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Valeur *"}),(0,Mr.jsx)("input",{type:"number",step:"0.01",value:y.discount_value,onChange:e=>b(Qt(Qt({},y),{},{discount_value:parseFloat(e.target.value)})),className:"w-full px-3 py-2 border rounded-lg",required:!0})]})]}),t&&(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Produits \xe9ligibles"}),(0,Mr.jsx)("div",{className:"mb-3",children:(0,Mr.jsxs)("label",{className:"flex items-center space-x-2 p-3 border-2 rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,Mr.jsx)("input",{type:"checkbox",checked:y.all_products,onChange:e=>b(Qt(Qt({},y),{},{all_products:e.target.checked,eligible_products:e.target.checked?[]:y.eligible_products})),className:"w-4 h-4"}),(0,Mr.jsx)("span",{className:"font-medium",children:"\ud83c\udf7d\ufe0f Toute la carte"}),(0,Mr.jsx)("span",{className:"text-xs text-gray-500",children:"(Tous les produits sont \xe9ligibles)"})]})}),!y.all_products&&(0,Mr.jsxs)(Mr.Fragment,{children:[(0,Mr.jsx)("input",{type:"text",placeholder:"\ud83d\udd0d Rechercher un produit...",value:h,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border rounded-lg mb-2"}),(0,Mr.jsx)("div",{className:"border rounded-lg max-h-48 overflow-y-auto p-2 space-y-1",children:0===r.length?(0,Mr.jsx)("p",{className:"text-center text-gray-400 py-4",children:"Aucun produit trouv\xe9"}):r.map(e=>(0,Mr.jsxs)("label",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[(0,Mr.jsx)("input",{type:"checkbox",checked:y.eligible_products.includes(e.id),onChange:t=>{t.target.checked?b(Qt(Qt({},y),{},{eligible_products:[...y.eligible_products,e.id]})):b(Qt(Qt({},y),{},{eligible_products:y.eligible_products.filter(t=>t!==e.id)}))},className:"w-4 h-4"}),(0,Mr.jsx)("span",{className:"flex-1",children:e.name}),(0,Mr.jsxs)("span",{className:"text-sm text-gray-500",children:[e.price,"\u20ac"]})]},e.id))}),(0,Mr.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[y.eligible_products.length," produit(s) s\xe9lectionn\xe9(s)"]})]})]}),n&&(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Cat\xe9gories \xe9ligibles"}),(0,Mr.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Le client pourra choisir n'importe quel produit de ces cat\xe9gories"}),(0,Mr.jsx)("div",{className:"grid grid-cols-2 gap-2",children:m.map(e=>(0,Mr.jsxs)("label",{className:"flex items-center space-x-2 p-3 border-2 rounded-lg cursor-pointer hover:bg-gray-50",children:[(0,Mr.jsx)("input",{type:"checkbox",checked:y.eligible_categories.includes(e.id),onChange:t=>{t.target.checked?b(Qt(Qt({},y),{},{eligible_categories:[...y.eligible_categories,e.id]})):b(Qt(Qt({},y),{},{eligible_categories:y.eligible_categories.filter(t=>t!==e.id)}))},className:"w-4 h-4"}),(0,Mr.jsx)("span",{className:"font-medium",children:e.name})]},e.id))}),(0,Mr.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[y.eligible_categories.length," cat\xe9gorie(s) s\xe9lectionn\xe9e(s)"]})]})]})})(),2===l&&(0,Mr.jsxs)("div",{className:"space-y-4",children:[(0,Mr.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\xc9tape 2: Conditions & Limites"}),(0,Mr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Date d\xe9but *"}),(0,Mr.jsx)("input",{type:"date",value:y.start_date,onChange:e=>b(Qt(Qt({},y),{},{start_date:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Date fin *"}),(0,Mr.jsx)("input",{type:"date",value:y.end_date,onChange:e=>b(Qt(Qt({},y),{},{end_date:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",required:!0})]})]}),"happy_hour"===y.type&&(0,Mr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Heure d\xe9but"}),(0,Mr.jsx)("input",{type:"time",value:y.start_time||"",onChange:e=>b(Qt(Qt({},y),{},{start_time:e.target.value})),className:"w-full px-3 py-2 border rounded-lg"})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Heure fin"}),(0,Mr.jsx)("input",{type:"time",value:y.end_time||"",onChange:e=>b(Qt(Qt({},y),{},{end_time:e.target.value})),className:"w-full px-3 py-2 border rounded-lg"})]})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Jours actifs"}),(0,Mr.jsx)("div",{className:"flex flex-wrap gap-2",children:["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"].map((e,t)=>{const n=["mon","tue","wed","thu","fri","sat","sun"][t],r=y.days_active.includes(n);return(0,Mr.jsx)("button",{type:"button",onClick:()=>{b(Qt(Qt({},y),{},r?{days_active:y.days_active.filter(e=>e!==n)}:{days_active:[...y.days_active,n]}))},className:"px-3 py-1 rounded text-sm font-medium ".concat(r?"bg-primary text-white":"bg-gray-200"),children:e},n)})})]}),"threshold"===y.type&&(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Montant minimum panier (\u20ac)"}),(0,Mr.jsx)("input",{type:"number",step:"0.01",value:y.min_cart_amount||"",onChange:e=>b(Qt(Qt({},y),{},{min_cart_amount:parseFloat(e.target.value)})),className:"w-full px-3 py-2 border rounded-lg"})]}),(0,Mr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Limite par client"}),(0,Mr.jsx)("input",{type:"number",value:y.limit_per_customer||"",onChange:e=>b(Qt(Qt({},y),{},{limit_per_customer:parseInt(e.target.value)||null})),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Illimit\xe9"})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Priorit\xe9 (0-100)"}),(0,Mr.jsx)("input",{type:"number",value:y.priority,onChange:e=>b(Qt(Qt({},y),{},{priority:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 border rounded-lg"})]})]}),(0,Mr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Mr.jsx)("input",{type:"checkbox",id:"stackable",checked:y.stackable,onChange:e=>b(Qt(Qt({},y),{},{stackable:e.target.checked})),className:"w-4 h-4"}),(0,Mr.jsx)("label",{htmlFor:"stackable",className:"text-sm font-medium",children:"Cumulable avec d'autres promotions"})]})]}),3===l&&(()=>{var e;const t=y.eligible_products.map(e=>{var t;return null===(t=d.find(t=>t.id===e))||void 0===t?void 0:t.name}).filter(Boolean),n=y.eligible_categories.map(e=>{var t;return null===(t=m.find(t=>t.id===e))||void 0===t?void 0:t.name}).filter(Boolean);return(0,Mr.jsxs)("div",{className:"space-y-4",children:[(0,Mr.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\xc9tape 3: Affichage & Activation"}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Texte badge (affich\xe9 sur produits)"}),(0,Mr.jsx)("input",{type:"text",value:y.badge_text,onChange:e=>b(Qt(Qt({},y),{},{badge_text:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Ex: -15% \ud83d\udd25"})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Couleur du badge"}),(0,Mr.jsx)("input",{type:"color",value:y.badge_color,onChange:e=>b(Qt(Qt({},y),{},{badge_color:e.target.value})),className:"w-20 h-10 border rounded-lg"})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Statut"}),(0,Mr.jsxs)("select",{value:y.status,onChange:e=>b(Qt(Qt({},y),{},{status:e.target.value})),className:"w-full px-3 py-2 border rounded-lg",children:[(0,Mr.jsx)("option",{value:"draft",children:"\ud83d\udfe1 Brouillon"}),(0,Mr.jsx)("option",{value:"active",children:"\ud83d\udfe2 Active"}),(0,Mr.jsx)("option",{value:"paused",children:"\ud83d\udfe0 Pause"})]})]}),(0,Mr.jsxs)("div",{className:"p-4 border-2 border-dashed rounded-lg bg-gradient-to-br from-blue-50 to-purple-50",children:[(0,Mr.jsx)("h4",{className:"font-bold mb-3 text-lg",children:"\ud83d\udccb Aper\xe7u de la promotion"}),(0,Mr.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Mr.jsxs)("p",{children:[(0,Mr.jsx)("strong",{children:"Nom:"})," ",y.name||"(Non d\xe9fini)"]}),(0,Mr.jsxs)("p",{children:[(0,Mr.jsx)("strong",{children:"Type:"})," ",null===(e=[{value:"bogo",label:"\ud83c\udf81 BOGO (Achetez 1 = 1 offert)",description:"Classique Buy One Get One",tooltip:"Le client ach\xe8te un produit et en re\xe7oit un second identique gratuitement. Id\xe9al pour augmenter le volume des ventes."},{value:"percent_item",label:"\ud83d\udcaf % sur produit",description:"R\xe9duction % sur produits sp\xe9cifiques",tooltip:"R\xe9duction en pourcentage appliqu\xe9e sur des produits s\xe9lectionn\xe9s. Ex: -15% sur tous les burgers."},{value:"percent_category",label:"\ud83d\udcaf % sur cat\xe9gorie",description:"R\xe9duction % sur une cat\xe9gorie",tooltip:"R\xe9duction en pourcentage sur tous les produits d'une ou plusieurs cat\xe9gories. Ex: -20% sur toutes les boissons."},{value:"conditional_discount",label:"\ud83d\udd22 2e \xe0 -50%",description:"2\xe8me article \xe0 -50%, 3 pour 2...",tooltip:'R\xe9duction progressive: le 2\xe8me article \xe0 -50%, ou formules "3 pour le prix de 2". Encourage l\'achat multiple.'},{value:"threshold",label:"\ud83c\udfaf Seuil de panier",description:"D\xe8s X\u20ac d'achat",tooltip:"R\xe9duction activ\xe9e quand le montant du panier atteint un seuil. Ex: -5\u20ac d\xe8s 30\u20ac d'achat."},{value:"shipping_free",label:"\ud83d\ude9a Livraison gratuite",description:"Frais de livraison offerts",tooltip:"Les frais de livraison sont offerts. Peut \xeatre conditionn\xe9 \xe0 un montant minimum."},{value:"new_customer",label:"\u2728 Nouveau client",description:"1\xe8re commande uniquement",tooltip:"Offre r\xe9serv\xe9e aux nouveaux clients pour leur premi\xe8re commande. Excellent pour l'acquisition."},{value:"happy_hour",label:"\ud83c\udf05 Happy Hour",description:"Promo sur horaires d\xe9finis",tooltip:"R\xe9duction active uniquement pendant certaines heures de la journ\xe9e. Ex: -15% de 15h \xe0 18h."},{value:"flash",label:"\u26a1 Offre Flash",description:"Dur\xe9e tr\xe8s limit\xe9e",tooltip:"Promotion de tr\xe8s courte dur\xe9e (quelques heures) pour cr\xe9er un sentiment d'urgence."},{value:"seasonal",label:"\ud83c\udf89 Saisonnier",description:"\xc9v\xe9nement sp\xe9cial",tooltip:"Promotion li\xe9e \xe0 un \xe9v\xe9nement (No\xebl, St-Valentin, etc.) ou une saison sp\xe9cifique."},{value:"promo_code",label:"\ud83d\udd16 Code promo",description:"Code manuel \xe0 saisir",tooltip:"Le client doit saisir un code pour b\xe9n\xe9ficier de la r\xe9duction. Utile pour le marketing cibl\xe9."}].find(e=>e.value===y.type))||void 0===e?void 0:e.label]}),!["bogo","shipping_free"].includes(y.type)&&(0,Mr.jsxs)("p",{children:[(0,Mr.jsx)("strong",{children:"Remise:"})," ",y.discount_value,"percentage"===y.discount_type?"%":"\u20ac"]}),(0,Mr.jsxs)("p",{children:[(0,Mr.jsx)("strong",{children:"P\xe9riode:"})," ",y.start_date," \u2192 ",y.end_date]}),y.start_time&&y.end_time&&(0,Mr.jsxs)("p",{children:[(0,Mr.jsx)("strong",{children:"Horaires:"})," ",y.start_time," - ",y.end_time]}),y.all_products&&(0,Mr.jsxs)("p",{children:[(0,Mr.jsx)("strong",{children:"Produits:"})," ",(0,Mr.jsx)("span",{className:"text-green-600 font-semibold",children:"\ud83c\udf7d\ufe0f Toute la carte"})]}),!y.all_products&&t.length>0&&(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("strong",{children:"Produits \xe9ligibles:"}),(0,Mr.jsx)("div",{className:"mt-1 flex flex-wrap gap-1",children:t.map((e,t)=>(0,Mr.jsx)("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs font-medium",children:e},t))})]}),n.length>0&&(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("strong",{children:"Cat\xe9gories \xe9ligibles:"}),(0,Mr.jsx)("div",{className:"mt-1 flex flex-wrap gap-1",children:n.map((e,t)=>(0,Mr.jsxs)("span",{className:"inline-block px-2 py-1 bg-purple-100 text-purple-700 rounded text-xs font-medium",children:["\ud83d\udcc2 ",e]},t))})]}),y.badge_text&&(0,Mr.jsxs)("div",{className:"mt-3",children:[(0,Mr.jsx)("strong",{children:"Badge:"}),(0,Mr.jsx)("div",{className:"inline-block px-3 py-1 rounded font-bold text-white ml-2",style:{backgroundColor:y.badge_color},children:y.badge_text})]})]})]})]})})(),(0,Mr.jsxs)("div",{className:"flex justify-between mt-8 pt-4 border-t",children:[(0,Mr.jsxs)(cs,{type:"button",variant:"outline",onClick:()=>1===l?n():i(l-1),children:[(0,Mr.jsx)(Tl,{className:"w-4 h-4 mr-2"}),1===l?"Annuler":"Pr\xe9c\xe9dent"]}),l<3?(0,Mr.jsxs)(cs,{type:"button",onClick:()=>i(l+1),children:["Suivant",(0,Mr.jsx)(zl,{className:"w-4 h-4 ml-2"})]}):(0,Mr.jsx)(cs,{type:"button",onClick:async()=>{c(!0);try{const e=r?"".concat(Al,"/api/v1/admin/promotions/").concat(r.id):"".concat(Al,"/api/v1/admin/promotions"),t=r?"put":"post";await pr[t](e,y),alert("\u2705 Promotion enregistr\xe9e"),null===a||void 0===a||a()}catch(e){console.error("Error saving promotion:",e),alert("\u274c Erreur lors de l'enregistrement")}finally{c(!1)}},disabled:o,children:o?"Enregistrement...":"\u2705 Enregistrer"})]})]})]})})},Ll=e=>{let{promotions:t}=e;const n=new Date,r=n.getFullYear(),a=n.getMonth();return(0,Mr.jsx)(ws,{children:(0,Mr.jsxs)("div",{className:"p-6",children:[(0,Mr.jsxs)("h2",{className:"text-2xl font-bold mb-4",children:[["Janvier","F\xe9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xfbt","Septembre","Octobre","Novembre","D\xe9cembre"][a]," ",r]}),(0,Mr.jsxs)("div",{className:"grid grid-cols-7 gap-2",children:[["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"].map(e=>(0,Mr.jsx)("div",{className:"text-center font-bold text-gray-600 p-2",children:e},e)),(()=>{const e=new Date(r,a,1),t=new Date(r,a+1,0).getDate(),n=e.getDay(),s=[];for(let r=0;r<n;r++)s.push(null);for(let r=1;r<=t;r++)s.push(r);return s})().map((e,s)=>{const l=(e=>{if(!e)return[];const n="".concat(r,"-").concat(String(a+1).padStart(2,"0"),"-").concat(String(e).padStart(2,"0"));return t.filter(e=>e.start_date<=n&&e.end_date>=n)})(e),i=e===n.getDate();return(0,Mr.jsx)("div",{className:"min-h-24 p-2 border rounded ".concat(e?"bg-white":"bg-gray-50"," ").concat(i?"border-primary border-2 bg-primary/5":""),children:e&&(0,Mr.jsxs)(Mr.Fragment,{children:[(0,Mr.jsx)("div",{className:"font-bold text-sm mb-1",children:e}),(0,Mr.jsxs)("div",{className:"space-y-1",children:[l.slice(0,3).map(e=>(0,Mr.jsx)("div",{className:"text-xs p-1 rounded truncate",style:{backgroundColor:e.badge_color||"#FF6B35",color:"white"},title:e.name,children:e.name},e.id)),l.length>3&&(0,Mr.jsxs)("div",{className:"text-xs text-gray-500",children:["+",l.length-3]})]})]})},s)})]})]})})},Ml=Gr("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),Dl=e=>{var t,n,r,a,l;let{promotions:i}=e;const[o,c]=(0,s.useState)({items:[],total:0,delivery_fee:5}),[d,u]=(0,s.useState)(""),[m,p]=(0,s.useState)(null),[h,x]=(0,s.useState)(!1),f=(e,t,n)=>{const r=[...o.items];r[e][t]=n,c(Qt(Qt({},o),{},{items:r})),g(r)},g=e=>{const t=e.reduce((e,t)=>e+t.price*t.quantity,0);c(e=>Qt(Qt({},e),{},{total:t}))};return(0,Mr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Mr.jsx)(ws,{children:(0,Mr.jsxs)("div",{className:"p-6",children:[(0,Mr.jsx)("h3",{className:"text-xl font-bold mb-4",children:"\ud83d\uded2 Panier Test"}),(0,Mr.jsx)("div",{className:"space-y-3 mb-4",children:o.items.map((e,t)=>(0,Mr.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,Mr.jsx)("input",{type:"text",placeholder:"Nom produit",value:e.name,onChange:e=>f(t,"name",e.target.value),className:"flex-1 px-2 py-1 border rounded text-sm"}),(0,Mr.jsx)("input",{type:"number",step:"0.01",placeholder:"Prix",value:e.price,onChange:e=>f(t,"price",parseFloat(e.target.value)||0),className:"w-20 px-2 py-1 border rounded text-sm"}),(0,Mr.jsx)("input",{type:"number",placeholder:"Qt\xe9",value:e.quantity,onChange:e=>f(t,"quantity",parseInt(e.target.value)||1),className:"w-16 px-2 py-1 border rounded text-sm"}),(0,Mr.jsx)("button",{onClick:()=>(e=>{c(Qt(Qt({},o),{},{items:o.items.filter((t,n)=>n!==e)}))})(t),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:(0,Mr.jsx)(Gs,{className:"w-4 h-4"})})]},t))}),(0,Mr.jsxs)(cs,{size:"sm",variant:"outline",onClick:()=>{c(Qt(Qt({},o),{},{items:[...o.items,{product_id:"",name:"",price:0,quantity:1,category_id:""}]}))},children:[(0,Mr.jsx)(Hs,{className:"w-4 h-4 mr-2"}),"Ajouter un article"]}),(0,Mr.jsxs)("div",{className:"mt-4 pt-4 border-t",children:[(0,Mr.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,Mr.jsx)("span",{children:"Sous-total:"}),(0,Mr.jsxs)("span",{className:"font-bold",children:[o.total.toFixed(2),"\u20ac"]})]}),(0,Mr.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,Mr.jsx)("span",{children:"Livraison:"}),(0,Mr.jsxs)("span",{children:[o.delivery_fee.toFixed(2),"\u20ac"]})]})]}),(0,Mr.jsxs)("div",{className:"mt-4",children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Code promo (optionnel)"}),(0,Mr.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:"Ex: WELCOME10"})]}),(0,Mr.jsxs)(cs,{className:"w-full mt-4",onClick:async()=>{x(!0);try{const e=await pr.post("".concat("https://resto-hub-54.preview.emergentagent.com","/api/v1/admin/promotions/simulate"),{cart:o,customer:null,promo_code:d||null});p(e.data.simulation)}catch(e){console.error("Error simulating:",e),alert("Erreur lors de la simulation")}finally{x(!1)}},disabled:h||0===o.items.length,children:[(0,Mr.jsx)(Ml,{className:"w-4 h-4 mr-2"}),h?"Simulation...":"Simuler les promotions"]})]})}),(0,Mr.jsx)(ws,{children:(0,Mr.jsxs)("div",{className:"p-6",children:[(0,Mr.jsx)("h3",{className:"text-xl font-bold mb-4",children:"\ud83d\udcca R\xe9sultats"}),m?(0,Mr.jsxs)("div",{className:"space-y-4",children:[(0,Mr.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,Mr.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,Mr.jsx)("span",{children:"Montant original:"}),(0,Mr.jsxs)("span",{className:"font-bold",children:[null===(t=m.original_total)||void 0===t?void 0:t.toFixed(2),"\u20ac"]})]}),(0,Mr.jsxs)("div",{className:"flex justify-between mb-2 text-green-600",children:[(0,Mr.jsx)("span",{children:"Remise totale:"}),(0,Mr.jsxs)("span",{className:"font-bold",children:["-",null===(n=m.total_discount)||void 0===n?void 0:n.toFixed(2),"\u20ac"]})]}),(0,Mr.jsxs)("div",{className:"flex justify-between text-xl font-black border-t pt-2",children:[(0,Mr.jsx)("span",{children:"Total final:"}),(0,Mr.jsxs)("span",{className:"text-primary",children:[null===(r=m.final_total)||void 0===r?void 0:r.toFixed(2),"\u20ac"]})]})]}),(null===(a=m.applied_promotions)||void 0===a?void 0:a.length)>0&&(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("h4",{className:"font-bold mb-2",children:"Promotions appliqu\xe9es:"}),(0,Mr.jsx)("div",{className:"space-y-2",children:m.applied_promotions.map((e,t)=>{var n;return(0,Mr.jsx)("div",{className:"p-3 border rounded-lg bg-green-50",children:(0,Mr.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("p",{className:"font-bold text-green-800",children:e.name}),e.badge&&(0,Mr.jsx)("span",{className:"text-xs bg-green-200 text-green-800 px-2 py-1 rounded mt-1 inline-block",children:e.badge})]}),(0,Mr.jsxs)("span",{className:"text-green-600 font-bold",children:["-",null===(n=e.discount)||void 0===n?void 0:n.toFixed(2),"\u20ac"]})]})},t)})})]}),m.loyalty_multiplier>1&&(0,Mr.jsx)("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,Mr.jsxs)("p",{className:"text-sm text-yellow-800",children:["\u2b50 Points fid\xe9lit\xe9 multipli\xe9s par ",(0,Mr.jsxs)("strong",{children:["x",m.loyalty_multiplier]})]})}),0===(null===(l=m.applied_promotions)||void 0===l?void 0:l.length)&&(0,Mr.jsx)("div",{className:"p-4 bg-gray-100 rounded-lg text-center text-gray-600",children:"Aucune promotion applicable pour ce panier"})]}):(0,Mr.jsx)("div",{className:"text-center py-12 text-gray-400",children:(0,Mr.jsx)("p",{children:"Ajoutez des articles et lancez la simulation"})})]})})]})},Il="https://resto-hub-54.preview.emergentagent.com",ql=()=>{var e,t;const[n,r]=(0,s.useState)([]),[a,l]=(0,s.useState)(!0),[i,o]=(0,s.useState)("list"),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(null),[p,h]=(0,s.useState)(null);(0,s.useEffect)(()=>{x(),f()},[]);const x=async()=>{l(!0);try{const e=await pr.get("".concat(Il,"/api/v1/admin/promotions"));r(e.data.promotions||[])}catch(e){console.error("Error loading promotions:",e)}finally{l(!1)}},f=async()=>{try{const e=await pr.get("".concat(Il,"/api/v1/admin/promotions/analytics/overview"));h(e.data)}catch(e){console.error("Error loading analytics:",e)}},g=e=>{const t={active:"bg-green-100 text-green-700 border-green-500",paused:"bg-orange-100 text-orange-700 border-orange-500",draft:"bg-gray-100 text-gray-700 border-gray-500",expired:"bg-red-100 text-red-700 border-red-500"};return t[e]||t.draft};return a?(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(Ss,{title:"\ud83c\udfaf Promotions & Offres",subtitle:"Moteur de promotions Family's"}),(0,Mr.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,Mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})]}):(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(Ss,{title:"\ud83c\udfaf Promotions & Offres",subtitle:"Moteur de promotions Family's"}),(0,Mr.jsxs)("div",{className:"p-6 space-y-6",children:[p&&(0,Mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Mr.jsx)(ws,{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white",children:(0,Mr.jsxs)("div",{className:"p-4",children:[(0,Mr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Mr.jsx)(Ps,{className:"w-8 h-8 text-white/80"}),(0,Mr.jsx)("span",{className:"text-3xl font-black",children:p.active_promotions})]}),(0,Mr.jsx)("p",{className:"text-sm text-white/80",children:"Promos actives"})]})}),(0,Mr.jsx)(ws,{className:"bg-gradient-to-br from-blue-500 to-indigo-600 text-white",children:(0,Mr.jsxs)("div",{className:"p-4",children:[(0,Mr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Mr.jsx)(aa,{className:"w-8 h-8 text-white/80"}),(0,Mr.jsx)("span",{className:"text-3xl font-black",children:p.total_usage})]}),(0,Mr.jsx)("p",{className:"text-sm text-white/80",children:"Utilisations"})]})}),(0,Mr.jsx)(ws,{className:"bg-gradient-to-br from-purple-500 to-pink-600 text-white",children:(0,Mr.jsxs)("div",{className:"p-4",children:[(0,Mr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Mr.jsx)(ea,{className:"w-8 h-8 text-white/80"}),(0,Mr.jsxs)("span",{className:"text-3xl font-black",children:[null===(e=p.total_revenue)||void 0===e?void 0:e.toFixed(0),"\u20ac"]})]}),(0,Mr.jsx)("p",{className:"text-sm text-white/80",children:"CA g\xe9n\xe9r\xe9"})]})}),(0,Mr.jsx)(ws,{className:"bg-gradient-to-br from-orange-500 to-red-600 text-white",children:(0,Mr.jsxs)("div",{className:"p-4",children:[(0,Mr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Mr.jsx)(ea,{className:"w-8 h-8 text-white/80"}),(0,Mr.jsxs)("span",{className:"text-3xl font-black",children:[null===(t=p.total_discount)||void 0===t?void 0:t.toFixed(0),"\u20ac"]})]}),(0,Mr.jsx)("p",{className:"text-sm text-white/80",children:"Remises totales"})]})})]}),(0,Mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mr.jsxs)("div",{className:"flex space-x-2",children:[(0,Mr.jsx)(cs,{variant:"list"===i?"primary":"outline",onClick:()=>o("list"),children:"\ud83d\udccb Liste"}),(0,Mr.jsxs)(cs,{variant:"calendar"===i?"primary":"outline",onClick:()=>o("calendar"),children:[(0,Mr.jsx)(la,{className:"w-4 h-4 mr-2"}),"Calendrier"]}),(0,Mr.jsxs)(cs,{variant:"simulator"===i?"primary":"outline",onClick:()=>o("simulator"),children:[(0,Mr.jsx)(Ol,{className:"w-4 h-4 mr-2"}),"Simulateur"]})]}),(0,Mr.jsxs)(cs,{onClick:()=>{m(null),d(!0)},children:[(0,Mr.jsx)(Hs,{className:"w-4 h-4 mr-2"}),"Cr\xe9er une promotion"]})]}),"list"===i&&(0,Mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(e=>{return(0,Mr.jsx)(ws,{className:"border-2 ".concat(g(e.status)),children:(0,Mr.jsxs)("div",{className:"p-4",children:[(0,Mr.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("span",{className:"text-xs font-bold px-2 py-1 rounded bg-white/50",children:(t=e.type,{bogo:"\ud83c\udf81 BOGO",percent_item:"% Produit",percent_category:"% Cat\xe9gorie",fixed_item:"\u20ac Produit",fixed_category:"\u20ac Cat\xe9gorie",conditional_discount:"\ud83d\udd22 Conditionnelle",threshold:"\ud83c\udfaf Seuil",shipping_free:"\ud83d\ude9a Livraison gratuite",new_customer:"\u2728 Nouveau client",inactive_customer:"\ud83d\udca4 Client inactif",loyalty_multiplier:"\u2b50 Multiplicateur",happy_hour:"\ud83c\udf05 Happy Hour",flash:"\u26a1 Flash",seasonal:"\ud83c\udf89 Saisonnier",promo_code:"\ud83d\udd16 Code promo"}[t]||t)}),(0,Mr.jsx)("h3",{className:"font-bold text-lg mt-2",children:e.name}),(0,Mr.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]}),(0,Mr.jsxs)("span",{className:"text-2xl font-black text-primary",children:[e.discount_value,"percentage"===e.discount_type?"%":"\u20ac"]})]}),e.badge_text&&(0,Mr.jsx)("div",{className:"mb-3 px-3 py-1 bg-yellow-100 text-yellow-800 text-xs font-bold rounded",children:e.badge_text}),(0,Mr.jsxs)("div",{className:"text-xs text-gray-600 space-y-1 mb-3",children:[(0,Mr.jsxs)("p",{children:["\ud83d\udcc5 ",e.start_date," \u2192 ",e.end_date]}),e.usage_count>0&&(0,Mr.jsxs)("p",{children:["\ud83d\udcca ",e.usage_count," utilisations"]})]}),(0,Mr.jsxs)("div",{className:"flex space-x-2",children:[(0,Mr.jsx)(cs,{size:"sm",variant:"outline",onClick:()=>{m(e),d(!0)},children:(0,Mr.jsx)($s,{className:"w-3 h-3"})}),(0,Mr.jsx)(cs,{size:"sm",variant:"outline",onClick:()=>(async e=>{const t=Qt(Qt({},e),{},{name:"".concat(e.name," (copie)"),id:void 0,created_at:void 0,updated_at:void 0,usage_count:0});m(t),d(!0)})(e),children:(0,Mr.jsx)(Qs,{className:"w-3 h-3"})}),(0,Mr.jsx)(cs,{size:"sm",variant:"danger",onClick:()=>(async e=>{if(window.confirm("Supprimer cette promotion ?"))try{await pr.delete("".concat(Il,"/api/v1/admin/promotions/").concat(e)),x(),f(),alert("\u2705 Promotion supprim\xe9e")}catch(t){alert("\u274c Erreur lors de la suppression")}})(e.id),children:(0,Mr.jsx)(Gs,{className:"w-3 h-3"})})]})]})},e.id);var t})}),"calendar"===i&&(0,Mr.jsx)(Ll,{promotions:n}),"simulator"===i&&(0,Mr.jsx)(Dl,{promotions:n})]}),c&&(0,Mr.jsx)(Fl,{isOpen:c,onClose:()=>{d(!1),m(null)},promotion:u,onSuccess:()=>{x(),f(),d(!1),m(null)}})]})},Ul=Gr("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),Bl=Gr("phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Vl=Gr("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Hl=Gr("shopping-bag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),Wl=e=>{var t,n,r;let{isOpen:a,onClose:l,customer:i}=e;const[o,c]=(0,s.useState)([]),[d,u]=(0,s.useState)(!1);(0,s.useEffect)(()=>{a&&i&&m()},[a,i]);const m=async()=>{u(!0);try{const e=await pr.get("".concat("https://resto-hub-54.preview.emergentagent.com","/api/v1/admin/orders?customer_id=").concat(i.id));c(e.data.orders||[])}catch(e){console.error("Error loading orders:",e),c([])}finally{u(!1)}};return i?(0,Mr.jsx)(Fs,{isOpen:a,onClose:l,title:"D\xe9tails client: ".concat(i.name||"Client inconnu"),maxWidth:"max-w-4xl",children:(0,Mr.jsxs)("div",{className:"space-y-6",children:[(0,Mr.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,Mr.jsxs)("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 p-6 rounded-lg",children:[(0,Mr.jsx)("div",{className:"flex items-center justify-center w-20 h-20 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 text-white font-bold text-3xl mx-auto mb-4",children:(null===(t=i.name)||void 0===t||null===(n=t.charAt(0))||void 0===n?void 0:n.toUpperCase())||"?"}),(0,Mr.jsx)("h3",{className:"text-xl font-bold text-center mb-2",children:i.name}),(0,Mr.jsxs)("p",{className:"text-gray-600 text-center text-sm",children:["Client #",null===(r=i.id)||void 0===r?void 0:r.slice(0,8)]})]}),(0,Mr.jsxs)("div",{className:"space-y-3",children:[(0,Mr.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,Mr.jsx)(Ul,{className:"w-5 h-5 text-gray-600"}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("p",{className:"text-xs text-gray-500",children:"Email"}),(0,Mr.jsx)("p",{className:"font-medium",children:i.email})]})]}),(0,Mr.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,Mr.jsx)(Bl,{className:"w-5 h-5 text-gray-600"}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("p",{className:"text-xs text-gray-500",children:"T\xe9l\xe9phone"}),(0,Mr.jsx)("p",{className:"font-medium",children:i.phone||"Non renseign\xe9"})]})]}),i.address&&(0,Mr.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,Mr.jsx)(Vl,{className:"w-5 h-5 text-gray-600"}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("p",{className:"text-xs text-gray-500",children:"Adresse"}),(0,Mr.jsx)("p",{className:"font-medium",children:i.address})]})]})]})]}),(0,Mr.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,Mr.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[(0,Mr.jsx)(Hl,{className:"w-6 h-6 text-blue-600 mx-auto mb-2"}),(0,Mr.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:i.total_orders||0}),(0,Mr.jsx)("p",{className:"text-xs text-gray-600",children:"Commandes"})]}),(0,Mr.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[(0,Mr.jsx)(Ps,{className:"w-6 h-6 text-green-600 mx-auto mb-2"}),(0,Mr.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[(i.total_spent||0).toFixed(2),"\u20ac"]}),(0,Mr.jsx)("p",{className:"text-xs text-gray-600",children:"Total d\xe9pens\xe9"})]}),(0,Mr.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[(0,Mr.jsx)("span",{className:"text-2xl",children:"\ud83d\udcb0"}),(0,Mr.jsxs)("p",{className:"text-2xl font-bold text-purple-600",children:[(i.loyalty_points||0).toFixed(2),"\u20ac"]}),(0,Mr.jsx)("p",{className:"text-xs text-gray-600",children:"Points fid\xe9lit\xe9"})]}),(0,Mr.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg text-center",children:[(0,Mr.jsx)(la,{className:"w-6 h-6 text-orange-600 mx-auto mb-2"}),(0,Mr.jsxs)("p",{className:"text-2xl font-bold text-orange-600",children:[i.total_orders>0?Math.round((i.total_spent||0)/i.total_orders):0,"\u20ac"]}),(0,Mr.jsx)("p",{className:"text-xs text-gray-600",children:"Panier moyen"})]})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("h4",{className:"font-bold text-lg mb-3",children:"Historique des commandes"}),d?(0,Mr.jsx)("p",{className:"text-center py-4 text-gray-500",children:"Chargement..."}):0===o.length?(0,Mr.jsx)("p",{className:"text-center py-8 text-gray-400",children:"Aucune commande"}):(0,Mr.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:o.slice(0,10).map(e=>{var t;return(0,Mr.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsxs)("p",{className:"font-medium",children:["Commande #",e.order_number||(null===(t=e.id)||void 0===t?void 0:t.slice(0,8))]}),(0,Mr.jsxs)("p",{className:"text-xs text-gray-500",children:[new Date(e.created_at).toLocaleDateString("fr-FR")," - ",e.status]})]}),(0,Mr.jsxs)("p",{className:"font-bold text-lg",children:[(e.total_amount||0).toFixed(2),"\u20ac"]})]},e.id)})})]}),(0,Mr.jsx)("div",{className:"flex justify-end",children:(0,Mr.jsx)(cs,{onClick:l,children:"Fermer"})})]})}):null},$l=Gr("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Ql=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[a,l]=(0,s.useState)(null),[i,o]=(0,s.useState)(!1);(0,s.useEffect)(()=>{c()},[]);const c=async()=>{try{const e=await Rr();t(e.data.customers||[])}catch(e){console.error("Failed to load customers:",e),t([])}finally{r(!1)}};return n?(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(Ss,{title:"Clients"}),(0,Mr.jsx)("div",{className:"p-8",children:"Chargement..."})]}):(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(Ss,{title:"Clients & Fid\xe9lit\xe9"}),(0,Mr.jsxs)("div",{className:"p-8",children:[(0,Mr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Mr.jsxs)("h3",{className:"text-xl font-bold",children:[e.length," clients"]}),(0,Mr.jsxs)(cs,{variant:"outline",children:[(0,Mr.jsx)($l,{className:"w-4 h-4 mr-2"}),"Exporter CSV"]})]}),0===e.length?(0,Mr.jsxs)(ws,{className:"text-center py-12",children:[(0,Mr.jsx)(aa,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Mr.jsx)("p",{className:"text-gray-500",children:"Aucun client enregistr\xe9"})]}):(0,Mr.jsx)("div",{className:"space-y-4",children:e.map(e=>{var t,n;return(0,Mr.jsxs)(ws,{className:"flex items-center justify-between p-4 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>{l(e),o(!0)},children:[(0,Mr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Mr.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-white font-bold text-xl",children:(null===(t=e.name)||void 0===t||null===(n=t.charAt(0))||void 0===n?void 0:n.toUpperCase())||"?"}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("h4",{className:"font-bold text-lg",children:e.name||"Client inconnu"}),(0,Mr.jsx)("p",{className:"text-sm text-gray-600",children:e.email}),e.phone&&(0,Mr.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["\ud83d\udcf1 ",e.phone]}),e.address&&(0,Mr.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["\ud83d\udccd ",e.address]})]})]}),(0,Mr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Mr.jsxs)("div",{className:"text-right",children:[(0,Mr.jsxs)("p",{className:"text-2xl font-black text-primary",children:[(e.total_spent||0).toFixed(2),"\u20ac"]}),(0,Mr.jsxs)("p",{className:"text-sm text-gray-500",children:[e.total_orders||0," commandes"]}),(0,Mr.jsxs)("p",{className:"text-xs text-green-600 font-semibold mt-1",children:["\ud83d\udcb0 ",(e.loyalty_points||0).toFixed(2),"\u20ac fid\xe9lit\xe9"]})]}),(0,Mr.jsx)(Ol,{className:"w-5 h-5 text-gray-400"})]})]},e.id)})})]}),(0,Mr.jsx)(Wl,{isOpen:i,onClose:()=>o(!1),customer:a})]})},Gl=e=>{let{isOpen:t,onClose:n,notification:r,segments:a,onSuccess:l}=e;const[i,o]=(0,s.useState)({title:"",message:"",icon:"\ud83d\udd14",target_type:"all",target_segment:null,scheduled_for:""}),[c,d]=(0,s.useState)(!1),[u,m]=(0,s.useState)(!1),p=(null===r||void 0===r?void 0:r.target_segment)||null,h=!!r;(0,s.useEffect)(()=>{o(r?{title:r.title||"",message:r.message||"",icon:r.icon||"\ud83d\udd14",target_type:r.target_type||(r.target_segment?"segment":"all"),target_segment:r.target_segment||null,scheduled_for:r.scheduled_for||""}:{title:"",message:"",icon:"\ud83d\udd14",target_type:"all",target_segment:null,scheduled_for:""})},[r,t]);return(0,Mr.jsxs)(Fs,{isOpen:t,onClose:n,children:[(0,Mr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Mr.jsx)("h2",{className:"text-2xl font-bold",children:h?"Modifier la notification":"Cr\xe9er une notification"}),(0,Mr.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:(0,Mr.jsx)(As,{className:"w-6 h-6"})})]}),(0,Mr.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d(!0);try{const e="https://resto-hub-54.preview.emergentagent.com",t=h?"".concat(e,"/api/v1/admin/notifications/").concat(r.id):"".concat(e,"/api/v1/admin/notifications"),a=h?"PUT":"POST",s=Qt(Qt({},i),{},{target_segment:p||i.target_segment,target_type:p?"segment":i.target_type});if(!(await fetch(t,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)throw new Error("Failed to save notification");alert(h?"\u2705 Notification modifi\xe9e":"\u2705 Notification cr\xe9\xe9e"),null===l||void 0===l||l(),n()}catch(t){console.error("Error saving notification:",t),alert("\u274c Erreur lors de la sauvegarde")}finally{d(!1)}},className:"space-y-4",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Ic\xf4ne"}),(0,Mr.jsx)("div",{className:"flex gap-2 flex-wrap",children:["\ud83d\udd14","\ud83c\udf89","\ud83c\udf54","\ud83c\udf81","\u26a0\ufe0f","\ud83d\udce2","\u2728","\ud83d\udd25","\ud83d\udcb0","\ud83d\ude80"].map(e=>(0,Mr.jsx)("button",{type:"button",onClick:()=>o(Qt(Qt({},i),{},{icon:e})),className:"text-2xl p-2 rounded border-2 ".concat(i.icon===e?"border-primary bg-primary/10":"border-gray-200 hover:border-gray-300"),children:e},e))})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Titre *"}),(0,Mr.jsx)("input",{type:"text",value:i.title,onChange:e=>o(Qt(Qt({},i),{},{title:e.target.value})),className:"w-full px-4 py-2 border rounded-lg",placeholder:"Nouvelle offre disponible!",required:!0})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium",children:"Message *"}),(0,Mr.jsxs)(cs,{type:"button",size:"sm",variant:"outline",onClick:async()=>{if(i.title&&i.message){m(!0);try{const e="https://resto-hub-54.preview.emergentagent.com",t=await pr.post("".concat(e,"/api/v1/admin/ai/chat"),{question:"Am\xe9liore ce message de notification pour un restaurant :\nTitre: ".concat(i.title,"\nMessage: ").concat(i.message,'\n\nConsignes:\n- Rend le titre plus accrocheur et engageant (max 50 caract\xe8res)\n- Am\xe9liore le message pour \xeatre plus persuasif et inciter \xe0 l\'action (max 150 caract\xe8res)\n- Garde le m\xeame ton et le m\xeame sujet\n- R\xe9ponds UNIQUEMENT au format JSON: {"title": "nouveau titre", "message": "nouveau message"}')}),r=t.data.response||t.data.answer;try{const e=r.match(/\{[\s\S]*\}/);if(e){const t=JSON.parse(e[0]);o(Qt(Qt({},i),{},{title:t.title||i.title,message:t.message||i.message})),alert("\u2705 Texte am\xe9lior\xe9 par l'IA !")}else alert("\u26a0\ufe0f R\xe9ponse IA re\xe7ue mais format inattendu. Veuillez r\xe9essayer.")}catch(n){console.error("Error parsing AI response:",n),alert("\u26a0\ufe0f R\xe9ponse IA re\xe7ue mais format inattendu. Veuillez r\xe9essayer.")}}catch(r){var e,t;console.error("Error generating with AI:",r),alert("\u274c Erreur lors de la g\xe9n\xe9ration IA: "+((null===(e=r.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||r.message))}finally{m(!1)}}else alert("Veuillez remplir le titre et le message avant de g\xe9n\xe9rer avec l'IA")},disabled:u||!i.title||!i.message,className:"text-purple-600 border-purple-300 hover:bg-purple-50",children:[(0,Mr.jsx)(sa,{className:"w-4 h-4 mr-1"}),u?"G\xe9n\xe9ration...":"Am\xe9liorer avec l'IA"]})]}),(0,Mr.jsx)("textarea",{value:i.message,onChange:e=>o(Qt(Qt({},i),{},{message:e.target.value})),className:"w-full px-4 py-2 border rounded-lg",rows:"4",placeholder:"Profitez de 20% de r\xe9duction sur tous nos burgers...",required:!0}),(0,Mr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Le message sera envoy\xe9 tel quel aux clients"})]}),!p&&(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Ciblage"}),(0,Mr.jsxs)("select",{value:i.target_type,onChange:e=>o(Qt(Qt({},i),{},{target_type:e.target.value,target_segment:"all"===e.target.value?null:i.target_segment})),className:"w-full px-4 py-2 border rounded-lg",children:[(0,Mr.jsx)("option",{value:"all",children:"Tous les clients"}),(0,Mr.jsx)("option",{value:"segment",children:"Segment sp\xe9cifique"})]})]}),("segment"===i.target_type||p)&&!p&&(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"S\xe9lectionner un segment"}),(0,Mr.jsxs)("select",{value:i.target_segment||"",onChange:e=>o(Qt(Qt({},i),{},{target_segment:e.target.value})),className:"w-full px-4 py-2 border rounded-lg",required:!0,children:[(0,Mr.jsx)("option",{value:"",children:"Choisir un segment..."}),null===a||void 0===a?void 0:a.map(e=>(0,Mr.jsxs)("option",{value:e.value,children:[e.label," (",e.count," clients)"]},e.value))]})]}),p&&(0,Mr.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,Mr.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Mr.jsx)("strong",{children:"Segment cibl\xe9:"})," ",p]})}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Programmer (optionnel)"}),(0,Mr.jsx)("input",{type:"datetime-local",value:i.scheduled_for,onChange:e=>o(Qt(Qt({},i),{},{scheduled_for:e.target.value})),className:"w-full px-4 py-2 border rounded-lg"}),(0,Mr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Laisser vide pour envoyer imm\xe9diatement"})]}),(0,Mr.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Mr.jsx)(cs,{type:"button",variant:"outline",onClick:n,disabled:c,className:"flex-1",children:"Annuler"}),(0,Mr.jsx)(cs,{type:"submit",disabled:c,className:"flex-1",children:c?"Enregistrement...":h?"Modifier":"Cr\xe9er"})]})]})]})},Jl=Gr("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),Kl=Gr("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Xl=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[a,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(null),[c,d]=(0,s.useState)("scheduled"),[u,m]=(0,s.useState)({total_sent:0,total_opened:0,open_rate:0,scheduled_count:0});(0,s.useEffect)(()=>{p(),h()},[]);const p=async()=>{try{const e=await Tr(),n=e.data.notifications||e.data||[],r=new Date;r.setHours(r.getHours()-48);const a=n.filter(e=>{const t=e.scheduled_for&&new Date(e.scheduled_for)>new Date,n=!e.scheduled_for||new Date(e.created_at)>r;return t||n});t(a)}catch(e){console.error("Failed to load notifications:",e),t([])}finally{r(!1)}},h=async()=>{m({total_sent:245,total_opened:189,open_rate:77,scheduled_count:3})},x=[{id:"all",name:"Tous les clients",icon:"\ud83d\udc65",count:156,color:"blue"},{id:"new",name:"Nouveaux clients",icon:"\u2728",count:23,color:"green"},{id:"regulars",name:"Clients r\xe9guliers",icon:"\u2b50",count:89,color:"purple"},{id:"vip",name:"Clients VIP (>500\u20ac)",icon:"\ud83d\udc8e",count:12,color:"yellow"},{id:"inactive",name:"Inactifs (30j)",icon:"\ud83d\udca4",count:32,color:"gray"}],f=new Date,g=e.filter(e=>!!e.scheduled_for&&new Date(e.scheduled_for)>f),y=e.filter(e=>!(e.scheduled_for&&new Date(e.scheduled_for)>f)),b="scheduled"===c?g:y,v=[{id:"scheduled",label:"Planifi\xe9es",icon:nl,count:g.length,color:"blue"},{id:"recent",label:"R\xe9centes (48h)",icon:Rl,count:y.length,color:"green"}];return n?(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(Ss,{title:"\ud83d\udd14 Notifications",subtitle:"Communiquez avec vos clients"}),(0,Mr.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,Mr.jsxs)("div",{className:"text-center",children:[(0,Mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,Mr.jsx)("p",{className:"text-gray-600",children:"Chargement..."})]})})]}):(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(Ss,{title:"\ud83d\udd14 Notifications",subtitle:"Communiquez avec vos clients"}),(0,Mr.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Mr.jsx)(ws,{children:(0,Mr.jsx)(_s,{className:"p-4",children:(0,Mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("p",{className:"text-sm text-gray-600",children:"Total envoy\xe9es"}),(0,Mr.jsx)("p",{className:"text-3xl font-bold text-gray-800",children:u.total_sent})]}),(0,Mr.jsx)(Jl,{className:"w-10 h-10 text-blue-500"})]})})}),(0,Mr.jsx)(ws,{children:(0,Mr.jsx)(_s,{className:"p-4",children:(0,Mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("p",{className:"text-sm text-gray-600",children:"Taux d'ouverture"}),(0,Mr.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:[u.open_rate,"%"]})]}),(0,Mr.jsx)(Ol,{className:"w-10 h-10 text-green-500"})]})})}),(0,Mr.jsx)(ws,{children:(0,Mr.jsx)(_s,{className:"p-4",children:(0,Mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("p",{className:"text-sm text-gray-600",children:"Planifi\xe9es"}),(0,Mr.jsx)("p",{className:"text-3xl font-bold text-orange-600",children:g.length})]}),(0,Mr.jsx)(nl,{className:"w-10 h-10 text-orange-500"})]})})}),(0,Mr.jsx)(ws,{children:(0,Mr.jsx)(_s,{className:"p-4",children:(0,Mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("p",{className:"text-sm text-gray-600",children:"Clients"}),(0,Mr.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:x[0].count})]}),(0,Mr.jsx)(aa,{className:"w-10 h-10 text-purple-500"})]})})})]}),(0,Mr.jsxs)(ws,{children:[(0,Mr.jsx)(Ns,{className:"bg-gradient-to-r from-purple-50 to-pink-50",children:(0,Mr.jsxs)(ks,{className:"flex items-center gap-2",children:[(0,Mr.jsx)(Kl,{className:"w-5 h-5"}),"Segments de clients"]})}),(0,Mr.jsx)(_s,{children:(0,Mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:x.map(e=>(0,Mr.jsxs)("button",{onClick:()=>{o({target_segment:e.id}),l(!0)},className:"p-4 border-2 rounded-lg hover:border-primary transition-all text-left hover:shadow-md",children:[(0,Mr.jsx)("div",{className:"text-3xl mb-2",children:e.icon}),(0,Mr.jsx)("div",{className:"font-bold text-gray-800",children:e.name}),(0,Mr.jsxs)("div",{className:"text-sm text-gray-600",children:[e.count," clients"]}),(0,Mr.jsxs)(cs,{size:"sm",className:"w-full mt-3",children:[(0,Mr.jsx)(Jl,{className:"w-3 h-3 mr-1"}),"Envoyer"]})]},e.id))})})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Mr.jsx)("div",{className:"flex gap-2",children:v.map(e=>{const t=e.icon;return(0,Mr.jsxs)("button",{onClick:()=>d(e.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-bold transition-all ".concat(c===e.id?"bg-primary text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[(0,Mr.jsx)(t,{className:"w-4 h-4"}),e.label,(0,Mr.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs ".concat(c===e.id?"bg-white/20":"bg-gray-200"),children:e.count})]},e.id)})}),(0,Mr.jsxs)(cs,{onClick:()=>{o(null),l(!0)},children:[(0,Mr.jsx)(Hs,{className:"w-4 h-4 mr-2"}),"Cr\xe9er une notification"]})]}),0===b.length?(0,Mr.jsxs)(ws,{className:"text-center py-12",children:[(0,Mr.jsx)(Zr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Mr.jsx)("p",{className:"text-gray-500 font-semibold mb-2",children:"scheduled"===c?"Aucune notification planifi\xe9e":"Aucune notification r\xe9cente"}),(0,Mr.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:"scheduled"===c?"Cr\xe9ez une notification et planifiez son envoi":"Les notifications envoy\xe9es dans les derni\xe8res 48h appara\xeetront ici"}),(0,Mr.jsxs)(cs,{onClick:()=>l(!0),children:[(0,Mr.jsx)(Hs,{className:"w-4 h-4 mr-2"}),"Cr\xe9er une notification"]})]}):(0,Mr.jsx)("div",{className:"space-y-4",children:b.map(e=>{const t=e.scheduled_for&&new Date(e.scheduled_for)>f,n=e.scheduled_for?new Date(e.scheduled_for):null,r=x.find(t=>t.id===e.target_segment)||x[0];return(0,Mr.jsx)(ws,{children:(0,Mr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Mr.jsxs)("div",{className:"flex-1",children:[(0,Mr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Mr.jsx)("span",{className:"text-3xl",children:e.icon||"\ud83d\udd14"}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("h4",{className:"font-bold text-lg",children:e.title}),(0,Mr.jsx)("p",{className:"text-sm text-gray-500",children:e.created_at&&new Date(e.created_at).toLocaleString("fr-FR")})]})]}),(0,Mr.jsx)("p",{className:"text-sm text-gray-700 mb-3 ml-12",children:e.message}),(0,Mr.jsxs)("div",{className:"flex items-center gap-2 flex-wrap ml-12",children:[t?(0,Mr.jsxs)("span",{className:"text-xs px-3 py-1.5 rounded-full bg-blue-100 text-blue-700 font-semibold flex items-center gap-1",children:[(0,Mr.jsx)(la,{className:"w-3 h-3"}),null===n||void 0===n?void 0:n.toLocaleString("fr-FR")]}):(0,Mr.jsxs)("span",{className:"text-xs px-3 py-1.5 rounded-full bg-green-100 text-green-700 font-semibold flex items-center gap-1",children:[(0,Mr.jsx)(Rl,{className:"w-3 h-3"}),"Envoy\xe9e"]}),(0,Mr.jsxs)("span",{className:"text-xs px-3 py-1.5 rounded-full font-semibold flex items-center gap-1 bg-".concat(r.color,"-100 text-").concat(r.color,"-700"),children:[r.icon," ",r.name]}),void 0!==e.opened_count&&(0,Mr.jsxs)("span",{className:"text-xs px-3 py-1.5 rounded-full bg-purple-100 text-purple-700 font-semibold flex items-center gap-1",children:[(0,Mr.jsx)(Ol,{className:"w-3 h-3"}),e.opened_count," ouvertures"]})]})]}),(0,Mr.jsxs)("div",{className:"flex gap-2",children:[t&&(0,Mr.jsxs)(Mr.Fragment,{children:[(0,Mr.jsx)(cs,{size:"sm",variant:"outline",onClick:()=>{o(e),l(!0)},title:"Modifier",children:(0,Mr.jsx)($s,{className:"w-4 h-4"})}),(0,Mr.jsx)(cs,{size:"sm",onClick:()=>(async e=>{if(window.confirm("Envoyer cette notification maintenant ?"))try{await zr(e),alert("\u2705 Notification envoy\xe9e !"),p()}catch(t){alert("\u274c Erreur lors de l'envoi")}})(e.id),title:"Envoyer maintenant",children:(0,Mr.jsx)(Jl,{className:"w-4 h-4"})})]}),(0,Mr.jsx)(cs,{size:"sm",variant:"danger",onClick:()=>(async e=>{if(window.confirm("Supprimer cette notification ?"))try{await Ar(e),p()}catch(t){alert("\u274c Erreur lors de la suppression")}})(e.id),title:"Supprimer",children:(0,Mr.jsx)(Gs,{className:"w-4 h-4"})})]})]})},e.id)})})]})]}),(0,Mr.jsx)(Gl,{isOpen:a,onClose:()=>{l(!1),o(null)},notification:i,segments:x,onSuccess:p})]})},Yl=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0);(0,s.useEffect)(()=>{a()},[]);const a=async()=>{try{const e=await Fr();t(e.data)}catch(e){console.error("Failed to load reservations:",e)}finally{r(!1)}},l=async(e,t)=>{try{await Lr(e,{status:t}),a()}catch(n){alert("Erreur lors de la mise \xe0 jour")}};return n?(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(Ss,{title:"R\xe9servations"}),(0,Mr.jsx)("div",{className:"p-8",children:"Chargement..."})]}):(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(Ss,{title:"R\xe9servations"}),(0,Mr.jsxs)("div",{className:"p-8",children:[(0,Mr.jsxs)("h3",{className:"text-xl font-bold mb-6",children:[e.length," r\xe9servations"]}),0===e.length?(0,Mr.jsxs)(ws,{className:"text-center py-12",children:[(0,Mr.jsx)(la,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Mr.jsx)("p",{className:"text-gray-500",children:"Aucune r\xe9servation"})]}):(0,Mr.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,Mr.jsx)(ws,{children:(0,Mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("h4",{className:"font-bold",children:e.customer_name}),(0,Mr.jsxs)("p",{className:"text-sm text-gray-600",children:[e.reservation_date," \xe0 ",e.reservation_time," \u2022 ",e.party_size," personnes"]}),(0,Mr.jsx)("p",{className:"text-sm text-gray-500",children:e.customer_phone})]}),(0,Mr.jsxs)("div",{className:"flex space-x-2",children:["pending"===e.status&&(0,Mr.jsxs)(Mr.Fragment,{children:[(0,Mr.jsxs)(cs,{size:"sm",variant:"outline",onClick:()=>l(e.id,"confirmed"),children:[(0,Mr.jsx)(Rl,{className:"w-4 h-4 mr-1"}),"Confirmer"]}),(0,Mr.jsx)(cs,{size:"sm",variant:"danger",onClick:()=>l(e.id,"canceled"),children:(0,Mr.jsx)(As,{className:"w-4 h-4"})})]}),"pending"!==e.status&&(0,Mr.jsx)("span",{className:"px-3 py-1 rounded text-sm ".concat("confirmed"===e.status?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.status})]})]})},e.id))})]})]})},Zl="https://resto-hub-54.preview.emergentagent.com",ei=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!1),[a,l]=(0,s.useState)(!1);(0,s.useEffect)(()=>{i()},[]);const i=async()=>{r(!0);try{const e=localStorage.getItem("admin_token"),n=await pr.get("".concat(Zl,"/api/v1/admin/ai-marketing/campaigns/pending"),{headers:{Authorization:"Bearer ".concat(e)}});t(n.data.campaigns||[])}catch(e){console.error("Erreur chargement campagnes:",e)}finally{r(!1)}},o=async()=>{l(!0);try{const e=localStorage.getItem("admin_token");await pr.post("".concat(Zl,"/api/v1/admin/ai-marketing/campaigns/generate"),{force_regenerate:!0},{headers:{Authorization:"Bearer ".concat(e)}}),await i(),alert("\u2728 Nouvelles campagnes g\xe9n\xe9r\xe9es !")}catch(e){console.error("Erreur g\xe9n\xe9ration:",e),alert("Erreur lors de la g\xe9n\xe9ration des campagnes")}finally{l(!1)}},c=async(n,r)=>{try{const a=localStorage.getItem("admin_token");await pr.post("".concat(Zl,"/api/v1/admin/ai-marketing/campaigns/").concat(n,"/validate"),{accepted:r,notes:null},{headers:{Authorization:"Bearer ".concat(a)}}),t(e.filter(e=>e.id!==n)),r?alert("\u2705 Campagne activ\xe9e ! Une promo en brouillon a \xe9t\xe9 cr\xe9\xe9e."):alert("\u274c Campagne refus\xe9e.")}catch(a){console.error("Erreur validation:",a),alert("Erreur lors de la validation")}},d=e=>{switch(e){case"produit":return"\ud83c\udf54";case"fidelite":return"\u2b50";case"happy_hour":return"\u23f0";case"reactivation":return"\ud83d\udd04";case"panier_moyen":return"\ud83d\uded2";default:return"\ud83d\udca1"}},u=e=>{switch(e){case"produit":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"fidelite":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"happy_hour":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"reactivation":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"panier_moyen":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}};return(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(Ss,{title:"\ud83e\udd16 IA Marketing - Campagnes Propos\xe9es",subtitle:"L'IA analyse tes donn\xe9es et te propose des campagnes pertinentes. Tu valides ou refuses en un clic."}),(0,Mr.jsxs)("div",{className:"p-8",children:[(0,Mr.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Campagnes en attente"}),(0,Mr.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.length," ",e.length>1?"campagnes propos\xe9es":"campagne propos\xe9e"]})]}),(0,Mr.jsx)(cs,{onClick:o,disabled:a,className:"flex items-center space-x-2",children:a?(0,Mr.jsxs)(Mr.Fragment,{children:[(0,Mr.jsx)(Ls,{className:"w-4 h-4 animate-spin"}),(0,Mr.jsx)("span",{children:"G\xe9n\xe9ration..."})]}):(0,Mr.jsxs)(Mr.Fragment,{children:[(0,Mr.jsx)(sa,{className:"w-4 h-4"}),(0,Mr.jsx)("span",{children:"G\xe9n\xe9rer de nouvelles campagnes"})]})})]}),n?(0,Mr.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,Mr.jsx)(Ls,{className:"w-8 h-8 animate-spin text-primary"})}):0===e.length?(0,Mr.jsx)(ws,{children:(0,Mr.jsxs)(_s,{className:"text-center py-20",children:[(0,Mr.jsx)(sa,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),(0,Mr.jsx)("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-2",children:"Aucune campagne en attente"}),(0,Mr.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:'Clique sur "G\xe9n\xe9rer de nouvelles campagnes" pour que l\'IA analyse tes donn\xe9es et te propose des offres pertinentes.'}),(0,Mr.jsxs)(cs,{onClick:o,disabled:a,children:[(0,Mr.jsx)(sa,{className:"w-4 h-4 mr-2"}),"G\xe9n\xe9rer des campagnes"]})]})}):(0,Mr.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map(e=>{var t,n;return(0,Mr.jsxs)(ws,{className:"overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[(0,Mr.jsx)(Ns,{className:"bg-gradient-to-r from-primary/10 to-gold/10",children:(0,Mr.jsx)("div",{className:"flex items-start justify-between",children:(0,Mr.jsxs)("div",{className:"flex-1",children:[(0,Mr.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Mr.jsx)("span",{className:"text-2xl",children:d(e.type)}),(0,Mr.jsx)("span",{className:"text-xs font-bold px-3 py-1 rounded-full ".concat(u(e.type)),children:e.type.replace("_"," ").toUpperCase()})]}),(0,Mr.jsx)(ks,{className:"text-xl",children:e.name})]})})}),(0,Mr.jsxs)(_s,{className:"space-y-4",children:[(0,Mr.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500 p-4 rounded",children:(0,Mr.jsx)("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed whitespace-pre-wrap",children:e.message})}),(0,Mr.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,Mr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mr.jsx)(la,{className:"w-4 h-4 text-gray-500"}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("p",{className:"text-xs text-gray-500",children:"P\xe9riode"}),(0,Mr.jsxs)("p",{className:"font-semibold text-gray-800 dark:text-white",children:[new Date(e.start_date).toLocaleDateString("fr-FR")," - ",new Date(e.end_date).toLocaleDateString("fr-FR")]})]})]}),(0,Mr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mr.jsx)(Ps,{className:"w-4 h-4 text-green-500"}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("p",{className:"text-xs text-gray-500",children:"Impact estim\xe9"}),(0,Mr.jsx)("p",{className:"font-semibold text-green-600",children:(null===(t=e.impact_estimate)||void 0===t?void 0:t.ca_increase)||"N/A"})]})]}),(0,Mr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mr.jsx)(Kl,{className:"w-4 h-4 text-purple-500"}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("p",{className:"text-xs text-gray-500",children:"R\xe9duction"}),(0,Mr.jsx)("p",{className:"font-semibold text-gray-800 dark:text-white",children:"percentage"===e.discount_type?"".concat(e.discount_value,"%"):"".concat(e.discount_value,"\u20ac")})]})]}),(0,Mr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Mr.jsx)(la,{className:"w-4 h-4 text-orange-500"}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("p",{className:"text-xs text-gray-500",children:"Difficult\xe9"}),(0,Mr.jsx)("p",{className:"font-semibold text-gray-800 dark:text-white capitalize",children:(null===(n=e.impact_estimate)||void 0===n?void 0:n.difficulty)||"N/A"})]})]})]}),e.target_hours&&(0,Mr.jsx)("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-3 rounded text-sm",children:(0,Mr.jsxs)("p",{className:"font-semibold text-purple-800 dark:text-purple-200",children:["\u23f0 Horaires cibles : ",e.target_hours]})}),(0,Mr.jsxs)("div",{className:"flex space-x-3 pt-4 border-t dark:border-gray-700",children:[(0,Mr.jsxs)(cs,{onClick:()=>c(e.id,!0),className:"flex-1 bg-green-600 hover:bg-green-700 text-white",children:[(0,Mr.jsx)(Ys,{className:"w-4 h-4 mr-2"}),"Oui, activer"]}),(0,Mr.jsxs)(cs,{onClick:()=>c(e.id,!1),variant:"outline",className:"flex-1",children:[(0,Mr.jsx)(al,{className:"w-4 h-4 mr-2"}),"Non"]})]})]})]},e.id)})})]})]})},ti=Gr("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),ni="https://resto-hub-54.preview.emergentagent.com",ri=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(null),[a,l]=(0,s.useState)(!0),[i,o]=(0,s.useState)("all");(0,s.useEffect)(()=>{c()},[i]);const c=async()=>{l(!0);try{const e=localStorage.getItem("admin_token"),n="all"===i?null:i,a=await pr.get("".concat(ni,"/api/v1/admin/ai-marketing/campaigns/all").concat(n?"?status=".concat(n):""),{headers:{Authorization:"Bearer ".concat(e)}}),s=await pr.get("".concat(ni,"/api/v1/admin/ai-marketing/stats"),{headers:{Authorization:"Bearer ".concat(e)}});t(a.data.campaigns||[]),r(s.data)}catch(e){console.error("Erreur chargement donn\xe9es:",e)}finally{l(!1)}};return(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(Ss,{title:"\ud83e\uddfe Historique & R\xe9sultats",subtitle:"Suivi des performances de toutes tes campagnes IA"}),(0,Mr.jsxs)("div",{className:"p-8",children:[n&&(0,Mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,Mr.jsx)(ws,{children:(0,Mr.jsx)(_s,{className:"pt-6",children:(0,Mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Campagnes totales"}),(0,Mr.jsx)("p",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:n.total_campaigns})]}),(0,Mr.jsx)(Ps,{className:"w-10 h-10 text-primary"})]})})}),(0,Mr.jsx)(ws,{children:(0,Mr.jsx)(_s,{className:"pt-6",children:(0,Mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Accept\xe9es"}),(0,Mr.jsx)("p",{className:"text-3xl font-bold text-green-600",children:n.accepted}),(0,Mr.jsxs)("p",{className:"text-xs text-gray-500",children:["Taux: ",n.acceptance_rate,"%"]})]}),(0,Mr.jsx)(Ys,{className:"w-10 h-10 text-green-600"})]})})}),(0,Mr.jsx)(ws,{children:(0,Mr.jsx)(_s,{className:"pt-6",children:(0,Mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"CA g\xe9n\xe9r\xe9"}),(0,Mr.jsxs)("p",{className:"text-3xl font-bold text-gold",children:[n.total_ca_generated,"\u20ac"]})]}),(0,Mr.jsx)(ea,{className:"w-10 h-10 text-gold"})]})})}),(0,Mr.jsx)(ws,{children:(0,Mr.jsx)(_s,{className:"pt-6",children:(0,Mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Pts fid\xe9lit\xe9"}),(0,Mr.jsx)("p",{className:"text-3xl font-bold text-purple-600",children:n.total_fidelity_points})]}),(0,Mr.jsx)(ti,{className:"w-10 h-10 text-purple-600"})]})})})]}),(null===n||void 0===n?void 0:n.weekly_summary)&&(0,Mr.jsxs)(ws,{className:"mb-8 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border-2 border-blue-200 dark:border-blue-800",children:[(0,Mr.jsx)(Ns,{children:(0,Mr.jsxs)(ks,{className:"flex items-center space-x-2",children:[(0,Mr.jsx)(aa,{className:"w-5 h-5 text-blue-600"}),(0,Mr.jsx)("span",{children:"\ud83d\udca1 R\xe9sum\xe9 IA de la semaine"})]})}),(0,Mr.jsx)(_s,{children:(0,Mr.jsx)("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed whitespace-pre-wrap",children:n.weekly_summary})})]}),(0,Mr.jsxs)("div",{className:"flex space-x-4 mb-6",children:[(0,Mr.jsx)("button",{onClick:()=>o("all"),className:"px-4 py-2 rounded-lg font-semibold transition-colors ".concat("all"===i?"bg-primary text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"),children:"Toutes"}),(0,Mr.jsx)("button",{onClick:()=>o("accepted"),className:"px-4 py-2 rounded-lg font-semibold transition-colors ".concat("accepted"===i?"bg-green-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"),children:"Activ\xe9es"}),(0,Mr.jsx)("button",{onClick:()=>o("refused"),className:"px-4 py-2 rounded-lg font-semibold transition-colors ".concat("refused"===i?"bg-red-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"),children:"Refus\xe9es"})]}),a?(0,Mr.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,Mr.jsx)(Ls,{className:"w-8 h-8 animate-spin text-primary"})}):(0,Mr.jsx)(ws,{children:(0,Mr.jsx)(_s,{className:"p-0",children:(0,Mr.jsx)("div",{className:"overflow-x-auto",children:(0,Mr.jsxs)("table",{className:"w-full",children:[(0,Mr.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-800 border-b dark:border-gray-700",children:(0,Mr.jsxs)("tr",{children:[(0,Mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-600 dark:text-gray-300 uppercase",children:"Date"}),(0,Mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-600 dark:text-gray-300 uppercase",children:"Nom"}),(0,Mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-600 dark:text-gray-300 uppercase",children:"Type"}),(0,Mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-600 dark:text-gray-300 uppercase",children:"Statut"}),(0,Mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-600 dark:text-gray-300 uppercase",children:"R\xe9duction"}),(0,Mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-600 dark:text-gray-300 uppercase",children:"Impact estim\xe9"})]})}),(0,Mr.jsx)("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:0===e.length?(0,Mr.jsx)("tr",{children:(0,Mr.jsx)("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:"Aucune campagne trouv\xe9e"})}):e.map(e=>{var t,n,r;return(0,Mr.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[(0,Mr.jsx)("td",{className:"px-6 py-4 text-sm text-gray-800 dark:text-white",children:(r=e.created_at,new Date(r).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"}))}),(0,Mr.jsxs)("td",{className:"px-6 py-4",children:[(0,Mr.jsx)("div",{className:"text-sm font-semibold text-gray-800 dark:text-white",children:e.name}),(0,Mr.jsx)("div",{className:"text-xs text-gray-500 line-clamp-1",children:e.message})]}),(0,Mr.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400 capitalize",children:e.type.replace("_"," ")}),(0,Mr.jsx)("td",{className:"px-6 py-4",children:(n=e.status,"accepted"===n?(0,Mr.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:[(0,Mr.jsx)(Ys,{className:"w-3 h-3 mr-1"}),"Activ\xe9e"]}):"refused"===n?(0,Mr.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:[(0,Mr.jsx)(al,{className:"w-3 h-3 mr-1"}),"Refus\xe9e"]}):(0,Mr.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-bold bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200",children:"En attente"}))}),(0,Mr.jsx)("td",{className:"px-6 py-4 text-sm font-semibold text-gray-800 dark:text-white",children:"percentage"===e.discount_type?"".concat(e.discount_value,"%"):"".concat(e.discount_value,"\u20ac")}),(0,Mr.jsx)("td",{className:"px-6 py-4 text-sm font-semibold text-green-600",children:(null===(t=e.impact_estimate)||void 0===t?void 0:t.ca_increase)||"N/A"})]},e.id)})})]})})})})]})]})},ai="https://resto-hub-54.preview.emergentagent.com",si=()=>{const[e,t]=(0,s.useState)({analysis_frequency:"daily",max_suggestions_per_week:5,max_promo_budget_percent:15,excluded_product_ids:[],excluded_category_ids:[],priority_objectives:["boost_ca","fideliser","reactiver","augmenter_panier"],allowed_offer_types:["bogo","percentage","fidelity","happy_hour","reactivation"]}),[n,r]=(0,s.useState)(!0),[a,l]=(0,s.useState)(!1);(0,s.useEffect)(()=>{i()},[]);const i=async()=>{try{const e=localStorage.getItem("admin_token"),n=await pr.get("".concat(ai,"/api/v1/admin/ai-marketing/settings"),{headers:{Authorization:"Bearer ".concat(e)}});t(n.data)}catch(e){console.error("Erreur chargement param\xe8tres:",e)}finally{r(!1)}};if(n)return(0,Mr.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,Mr.jsx)(Ls,{className:"w-8 h-8 animate-spin text-primary"})});return(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(Ss,{title:"\u2699\ufe0f Param\xe8tres IA Marketing",subtitle:"Configure le comportement de ton assistant marketing IA"}),(0,Mr.jsx)("div",{className:"p-8 max-w-4xl",children:(0,Mr.jsxs)(ws,{children:[(0,Mr.jsx)(Ns,{children:(0,Mr.jsxs)(ks,{className:"flex items-center space-x-2",children:[(0,Mr.jsx)(ia,{className:"w-5 h-5"}),(0,Mr.jsx)("span",{children:"Configuration de l'IA"})]})}),(0,Mr.jsxs)(_s,{className:"space-y-8",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{className:"text-base font-bold mb-3 block",children:"\ud83d\udcc6 Fr\xe9quence d'analyse"}),(0,Mr.jsxs)("div",{className:"flex space-x-4",children:[(0,Mr.jsx)("button",{onClick:()=>t(Qt(Qt({},e),{},{analysis_frequency:"daily"})),className:"flex-1 py-3 px-4 rounded-lg font-semibold transition-colors ".concat("daily"===e.analysis_frequency?"bg-primary text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"),children:"Quotidienne"}),(0,Mr.jsx)("button",{onClick:()=>t(Qt(Qt({},e),{},{analysis_frequency:"weekly"})),className:"flex-1 py-3 px-4 rounded-lg font-semibold transition-colors ".concat("weekly"===e.analysis_frequency?"bg-primary text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300"),children:"Hebdomadaire"})]})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"max_suggestions",children:"\ud83e\uddee Nombre max de suggestions par semaine"}),(0,Mr.jsx)(hs,{id:"max_suggestions",type:"number",min:"1",max:"10",value:e.max_suggestions_per_week,onChange:n=>t(Qt(Qt({},e),{},{max_suggestions_per_week:parseInt(n.target.value)})),className:"mt-2"}),(0,Mr.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["L'IA g\xe9n\xe9rera entre 3 et ",e.max_suggestions_per_week," campagnes par semaine"]})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"budget",children:"\ud83d\udcb0 Budget promo max conseill\xe9 (%)"}),(0,Mr.jsx)(hs,{id:"budget",type:"number",min:"5",max:"50",step:"0.5",value:e.max_promo_budget_percent,onChange:n=>t(Qt(Qt({},e),{},{max_promo_budget_percent:parseFloat(n.target.value)})),className:"mt-2"}),(0,Mr.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["L'IA \xe9vitera de proposer des r\xe9ductions sup\xe9rieures \xe0 ",e.max_promo_budget_percent,"%"]})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{className:"text-base font-bold mb-3 block",children:"\ud83d\udcca Objectifs prioritaires"}),(0,Mr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"S\xe9lectionne les objectifs que l'IA doit prioriser dans ses propositions"}),(0,Mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[{id:"boost_ca",label:"\ud83d\udcb0 Booster CA",icon:"\ud83d\udcb0"},{id:"fideliser",label:"\u2b50 Fid\xe9liser clients",icon:"\u2b50"},{id:"reactiver",label:"\ud83d\udd04 R\xe9activer inactifs",icon:"\ud83d\udd04"},{id:"augmenter_panier",label:"\ud83d\uded2 Augmenter panier moyen",icon:"\ud83d\uded2"}].map(n=>(0,Mr.jsxs)("button",{onClick:()=>(n=>{const r=e.priority_objectives.includes(n)?e.priority_objectives.filter(e=>e!==n):[...e.priority_objectives,n];t(Qt(Qt({},e),{},{priority_objectives:r}))})(n.id),className:"flex items-center space-x-3 p-4 rounded-lg border-2 transition-all ".concat(e.priority_objectives.includes(n.id)?"border-primary bg-primary/10 text-primary":"border-gray-300 dark:border-gray-600 hover:border-primary/50"),children:[(0,Mr.jsx)("span",{className:"text-2xl",children:n.icon}),(0,Mr.jsx)("span",{className:"font-semibold",children:n.label.split(" ").slice(1).join(" ")}),e.priority_objectives.includes(n.id)&&(0,Mr.jsx)("span",{className:"ml-auto",children:"\u2713"})]},n.id))})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{className:"text-base font-bold mb-3 block",children:"\ud83c\udf81 Types d'offres autoris\xe9es"}),(0,Mr.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Choisis quels types de promotions l'IA peut proposer"}),(0,Mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[{id:"bogo",label:"BOGO (Buy One Get One)",icon:"\ud83c\udf81"},{id:"percentage",label:"R\xe9duction en %",icon:"\ud83d\udcb8"},{id:"fixed",label:"R\xe9duction fixe (\u20ac)",icon:"\ud83d\udcb6"},{id:"fidelity",label:"Multiplicateur fid\xe9lit\xe9 (x2, x3)",icon:"\u2b50"},{id:"happy_hour",label:"Happy Hour",icon:"\u23f0"},{id:"reactivation",label:"R\xe9activation clients",icon:"\ud83d\udd04"}].map(n=>(0,Mr.jsxs)("button",{onClick:()=>(n=>{const r=e.allowed_offer_types.includes(n)?e.allowed_offer_types.filter(e=>e!==n):[...e.allowed_offer_types,n];t(Qt(Qt({},e),{},{allowed_offer_types:r}))})(n.id),className:"flex items-center space-x-3 p-4 rounded-lg border-2 transition-all ".concat(e.allowed_offer_types.includes(n.id)?"border-green-500 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300":"border-gray-300 dark:border-gray-600 hover:border-green-500/50"),children:[(0,Mr.jsx)("span",{className:"text-2xl",children:n.icon}),(0,Mr.jsx)("span",{className:"font-semibold text-sm",children:n.label}),e.allowed_offer_types.includes(n.id)&&(0,Mr.jsx)("span",{className:"ml-auto text-green-600",children:"\u2713"})]},n.id))})]}),(0,Mr.jsx)("div",{className:"pt-6 border-t dark:border-gray-700",children:(0,Mr.jsx)(cs,{onClick:async()=>{l(!0);try{const t=localStorage.getItem("admin_token");await pr.put("".concat(ai,"/api/v1/admin/ai-marketing/settings"),e,{headers:{Authorization:"Bearer ".concat(t)}}),alert("\u2705 Param\xe8tres sauvegard\xe9s !")}catch(t){console.error("Erreur sauvegarde:",t),alert("\u274c Erreur lors de la sauvegarde")}finally{l(!1)}},disabled:a,className:"w-full md:w-auto",children:a?(0,Mr.jsxs)(Mr.Fragment,{children:[(0,Mr.jsx)(Ls,{className:"w-4 h-4 mr-2 animate-spin"}),"Sauvegarde..."]}):(0,Mr.jsxs)(Mr.Fragment,{children:[(0,Mr.jsx)(bl,{className:"w-4 h-4 mr-2"}),"Sauvegarder les param\xe8tres"]})})})]})]})})]})},li=e=>{let{isOpen:t,onClose:n,option:r,onSuccess:a}=e;const[l,i]=(0,s.useState)({name:"",description:"",internal_comment:"",type:"single",is_required:!1,allow_repeat:!1,max_choices:"",choices:[{name:"",price:0,image_url:""}]}),[o,c]=(0,s.useState)(!1),[d,u]=(0,s.useState)([]),[m,p]=(0,s.useState)(!1);(0,s.useEffect)(()=>{t&&h()},[t]);const h=async()=>{try{const e="https://resto-hub-54.preview.emergentagent.com",t=await fetch("".concat(e,"/api/v1/admin/choice-library")),n=await t.json();u(n.choices||[])}catch(e){console.error("Error loading choice library:",e)}};(0,s.useEffect)(()=>{var e;r?i({name:r.name||"",description:r.description||"",internal_comment:r.internal_comment||"",type:r.type||"single",is_required:r.is_required||!1,allow_repeat:r.allow_repeat||!1,max_choices:r.max_choices||"",choices:(null===(e=r.choices)||void 0===e?void 0:e.length)>0?r.choices:[{name:"",price:0,image_url:""}]}):i({name:"",description:"",internal_comment:"",type:"single",is_required:!1,allow_repeat:!1,max_choices:"",choices:[{name:"",price:0,image_url:""}]})},[r,t]);const x=(e,t,n)=>{const r=[...l.choices];r[e]=Qt(Qt({},r[e]),{},{[t]:"price"===t?parseFloat(n)||0:n}),i(Qt(Qt({},l),{},{choices:r}))};return(0,Mr.jsxs)(Fs,{isOpen:t,onClose:n,size:"large",children:[(0,Mr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Mr.jsx)("h2",{className:"text-2xl font-bold",children:r?"Modifier l'option":"Cr\xe9er une option"}),(0,Mr.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:(0,Mr.jsx)(As,{className:"w-6 h-6"})})]}),(0,Mr.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0);try{const e="https://resto-hub-54.preview.emergentagent.com",t=Qt(Qt({},l),{},{max_choices:l.max_choices?parseInt(l.max_choices):null,choices:l.choices.filter(e=>""!==e.name.trim())}),s=r?"".concat(e,"/api/v1/admin/options/").concat(r.id):"".concat(e,"/api/v1/admin/options"),i=r?"PUT":"POST",o=await fetch(s,{method:i,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!o.ok){const e=await o.json();throw new Error(e.detail||"Failed to save option")}null===a||void 0===a||a(),n()}catch(t){console.error("Error saving option:",t),alert("Erreur: ".concat(t.message))}finally{c(!1)}},className:"space-y-4",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Nom de l'option *"}),(0,Mr.jsx)("input",{type:"text",value:l.name,onChange:e=>i(Qt(Qt({},l),{},{name:e.target.value})),className:"w-full px-4 py-2 border rounded-lg",placeholder:"Ex: Choix de sauce, Cuisson...",required:!0})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Description (optionnel)"}),(0,Mr.jsx)("textarea",{value:l.description,onChange:e=>i(Qt(Qt({},l),{},{description:e.target.value})),className:"w-full px-4 py-2 border rounded-lg",rows:"2",placeholder:"Description de l'option..."})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Commentaire interne (non visible par le client)"}),(0,Mr.jsx)("textarea",{value:l.internal_comment,onChange:e=>i(Qt(Qt({},l),{},{internal_comment:e.target.value})),className:"w-full px-4 py-2 border rounded-lg bg-yellow-50",rows:"2",placeholder:"Notes internes, instructions pour le personnel..."}),(0,Mr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"\u2139\ufe0f Ce commentaire est uniquement visible dans le back office, pas dans l'application client"})]}),(0,Mr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Type de s\xe9lection *"}),(0,Mr.jsxs)("select",{value:l.type,onChange:e=>i(Qt(Qt({},l),{},{type:e.target.value})),className:"w-full px-4 py-2 border rounded-lg",children:[(0,Mr.jsx)("option",{value:"single",children:"Choix unique"}),(0,Mr.jsx)("option",{value:"multiple",children:"Choix multiples"})]})]}),"multiple"===l.type&&(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Maximum de choix"}),(0,Mr.jsx)("input",{type:"number",min:"1",value:l.max_choices,onChange:e=>i(Qt(Qt({},l),{},{max_choices:e.target.value})),className:"w-full px-4 py-2 border rounded-lg",placeholder:"Illimit\xe9 si vide"})]})]}),(0,Mr.jsxs)("div",{className:"flex items-center",children:[(0,Mr.jsx)("input",{type:"checkbox",id:"is_required",checked:l.is_required,onChange:e=>i(Qt(Qt({},l),{},{is_required:e.target.checked})),className:"mr-2"}),(0,Mr.jsx)("label",{htmlFor:"is_required",className:"text-sm font-medium",children:"Option obligatoire (le client doit faire un choix)"})]}),"multiple"===l.type&&(0,Mr.jsxs)("div",{className:"flex items-center bg-blue-50 p-3 rounded-lg",children:[(0,Mr.jsx)("input",{type:"checkbox",id:"allow_repeat",checked:l.allow_repeat,onChange:e=>i(Qt(Qt({},l),{},{allow_repeat:e.target.checked})),className:"mr-2"}),(0,Mr.jsx)("label",{htmlFor:"allow_repeat",className:"text-sm font-medium",children:"Permettre de prendre le m\xeame choix plusieurs fois (ex: Chantilly \xd72)"})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-3",children:"Choix disponibles *"}),(0,Mr.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto mb-3",children:l.choices.map((e,t)=>(0,Mr.jsxs)("div",{className:"border rounded-lg p-3 bg-gray-50",children:[(0,Mr.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,Mr.jsx)("input",{type:"text",value:e.name,onChange:e=>x(t,"name",e.target.value),className:"flex-1 px-3 py-2 border rounded-lg",placeholder:"Nom du choix",required:!0}),(0,Mr.jsx)("input",{type:"number",step:"0.01",min:"0",value:e.price,onChange:e=>x(t,"price",e.target.value),className:"w-24 px-3 py-2 border rounded-lg",placeholder:"Prix"}),l.choices.length>1&&(0,Mr.jsx)(cs,{type:"button",variant:"danger",size:"sm",onClick:()=>(e=>{l.choices.length>1&&i(Qt(Qt({},l),{},{choices:l.choices.filter((t,n)=>n!==e)}))})(t),children:(0,Mr.jsx)(Gs,{className:"w-4 h-4"})})]}),(0,Mr.jsx)("input",{type:"text",value:e.image_url||"",onChange:e=>x(t,"image_url",e.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:"URL de l'image (optionnel)"}),(0,Mr.jsx)("textarea",{value:e.internal_comment||"",onChange:e=>x(t,"internal_comment",e.target.value),className:"w-full px-3 py-2 border rounded-lg resize-none",placeholder:"\ud83d\udcac Commentaire interne (non visible par le client)",rows:"2"})]},t))}),(0,Mr.jsxs)("div",{className:"flex gap-2",children:[(0,Mr.jsxs)(cs,{type:"button",variant:"outline",onClick:()=>{i(Qt(Qt({},l),{},{choices:[...l.choices,{name:"",price:0,image_url:""}]}))},size:"sm",children:[(0,Mr.jsx)(Hs,{className:"w-4 h-4 mr-1"}),"Ajouter un choix"]}),d.length>0&&(0,Mr.jsxs)(cs,{type:"button",variant:"outline",onClick:()=>p(!0),size:"sm",children:["\ud83d\udcda Piocher dans la biblioth\xe8que (",d.length,")"]})]})]}),m&&(0,Mr.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,Mr.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[80vh] overflow-y-auto",children:[(0,Mr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Mr.jsx)("h3",{className:"text-lg font-bold",children:"\ud83d\udcda Choisir depuis la biblioth\xe8que"}),(0,Mr.jsx)("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Mr.jsx)(As,{className:"w-5 h-5"})})]}),(0,Mr.jsx)("div",{className:"grid grid-cols-2 gap-3",children:d.map(e=>(0,Mr.jsxs)("div",{onClick:()=>(e=>{const t={name:e.name,price:e.default_price,image_url:e.image_url};i(Qt(Qt({},l),{},{choices:[...l.choices,t]})),p(!1)})(e),className:"border-2 rounded-lg p-3 cursor-pointer hover:border-primary hover:bg-primary/5 transition-all",children:[e.image_url&&(0,Mr.jsx)("img",{src:e.image_url,alt:e.name,className:"w-full h-24 object-cover rounded mb-2"}),(0,Mr.jsx)("h4",{className:"font-bold",children:e.name}),(0,Mr.jsxs)("p",{className:"text-sm text-primary font-bold",children:[e.default_price.toFixed(2),"\u20ac"]}),e.description&&(0,Mr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.description})]},e.id))}),0===d.length&&(0,Mr.jsx)("p",{className:"text-center text-gray-400 py-8",children:"Aucun choix dans la biblioth\xe8que"})]})}),(0,Mr.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Mr.jsx)(cs,{type:"button",variant:"outline",onClick:n,className:"flex-1",children:"Annuler"}),(0,Mr.jsx)(cs,{type:"submit",disabled:o,className:"flex-1",children:o?"Enregistrement...":r?"Modifier":"Cr\xe9er"})]})]})]})},ii=Gr("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),oi="https://resto-hub-54.preview.emergentagent.com",ci=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!1),[a,l]=(0,s.useState)(null);(0,s.useEffect)(()=>{i()},[]);const i=async()=>{try{const e=await pr.get("".concat(oi,"/api/v1/admin/options"));t(e.data.options||[])}catch(e){console.error("Erreur chargement options:",e)}},o=function(){l(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null),r(!0)};return(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(Ss,{title:"\ud83c\udf9b\ufe0f Gestion des Options",subtitle:"Cr\xe9ez des options r\xe9utilisables pour vos produits"}),(0,Mr.jsxs)("div",{className:"p-8",children:[(0,Mr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Mr.jsxs)("h2",{className:"text-2xl font-bold",children:["Options disponibles (",e.length,")"]}),(0,Mr.jsxs)(cs,{onClick:()=>o(),className:"flex items-center space-x-2",children:[(0,Mr.jsx)(Hs,{className:"w-5 h-5"}),(0,Mr.jsx)("span",{children:"Nouvelle option"})]})]}),0===e.length?(0,Mr.jsx)(ws,{children:(0,Mr.jsxs)(_s,{className:"text-center py-20",children:[(0,Mr.jsx)(Hs,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),(0,Mr.jsx)("h3",{className:"text-xl font-bold text-gray-600 mb-2",children:"Aucune option"}),(0,Mr.jsx)("p",{className:"text-gray-500 mb-4",children:"Cr\xe9ez des options (taille, sauce, accompagnement...) pour enrichir vos produits"}),(0,Mr.jsxs)(cs,{onClick:()=>o(),children:[(0,Mr.jsx)(Hs,{className:"w-4 h-4 mr-2"}),"Cr\xe9er ma premi\xe8re option"]})]})}):(0,Mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>{var t,n;return(0,Mr.jsxs)(ws,{className:"hover:shadow-xl transition-shadow",children:[(0,Mr.jsx)(Ns,{className:"bg-gradient-to-r from-blue-50 to-purple-50",children:(0,Mr.jsxs)(ks,{className:"flex items-center justify-between",children:[(0,Mr.jsx)("span",{className:"text-lg font-bold",children:e.name}),(0,Mr.jsxs)("div",{className:"flex space-x-1",children:[(0,Mr.jsx)("button",{onClick:()=>o(e),className:"p-2 hover:bg-white rounded-lg transition-colors",title:"Modifier",children:(0,Mr.jsx)(ii,{className:"w-4 h-4 text-blue-600"})}),(0,Mr.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Dupliquer l'option \"".concat(e.name,'" ?')))try{const t=Qt(Qt({},e),{},{name:"".concat(e.name," (copie)")});delete t.id,await pr.post("".concat(oi,"/api/v1/admin/options"),t),await i(),alert("\u2705 Option dupliqu\xe9e avec succ\xe8s !")}catch(t){console.error("Erreur duplication:",t),alert("Erreur lors de la duplication")}})(e),className:"p-2 hover:bg-white rounded-lg transition-colors",title:"Dupliquer",children:(0,Mr.jsx)(Qs,{className:"w-4 h-4 text-green-600"})}),(0,Mr.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Supprimer cette option ?"))try{await pr.delete("".concat(oi,"/api/v1/admin/options/").concat(e)),await i(),alert("\u2705 Option supprim\xe9e!")}catch(t){console.error("Erreur suppression:",t),alert("Erreur lors de la suppression")}})(e.id),className:"p-2 hover:bg-white rounded-lg transition-colors",title:"Supprimer",children:(0,Mr.jsx)(Gs,{className:"w-4 h-4 text-red-600"})})]})]})}),(0,Mr.jsxs)(_s,{className:"space-y-3",children:[e.description&&(0,Mr.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),e.internal_comment&&(0,Mr.jsxs)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-3 rounded",children:[(0,Mr.jsx)("p",{className:"text-xs font-semibold text-yellow-800 mb-1",children:"\ud83d\udcdd Commentaire interne"}),(0,Mr.jsx)("p",{className:"text-sm text-yellow-700",children:e.internal_comment})]}),(0,Mr.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,Mr.jsx)("span",{className:"px-3 py-1 rounded-full font-bold ".concat("single"===e.type?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:"single"===e.type?"\ud83d\udccc Choix unique":"\u2611\ufe0f Choix multiple"}),e.is_required&&(0,Mr.jsx)("span",{className:"px-3 py-1 rounded-full bg-red-100 text-red-800 font-bold text-xs",children:"\u26a0\ufe0f Obligatoire"})]}),"multiple"===e.type&&e.max_choices&&(0,Mr.jsxs)("p",{className:"text-sm text-gray-600",children:["Max: ",e.max_choices," choix"]}),e.price>0&&(0,Mr.jsxs)("p",{className:"text-sm font-bold text-green-600",children:["Prix base: +",e.price,"\u20ac"]}),(0,Mr.jsxs)("div",{className:"border-t pt-3 mt-3",children:[(0,Mr.jsxs)("p",{className:"text-xs font-bold text-gray-500 mb-2",children:["CHOIX (",(null===(t=e.choices)||void 0===t?void 0:t.length)||0,"):"]}),(0,Mr.jsx)("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:null===(n=e.choices)||void 0===n?void 0:n.map(e=>(0,Mr.jsxs)("div",{className:"flex justify-between items-center text-sm bg-gray-50 p-2 rounded",children:[(0,Mr.jsx)("span",{children:e.name}),e.price>0&&(0,Mr.jsxs)("span",{className:"font-bold text-green-600",children:["+",e.price,"\u20ac"]})]},e.id))})]})]})]},e.id)})})]}),(0,Mr.jsx)(li,{isOpen:n,onClose:()=>{r(!1),l(null)},option:a,onSuccess:i})]})},di=Gr("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),ui=Gr("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),mi=Gr("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),pi=Gr("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),hi="https://resto-hub-54.preview.emergentagent.com",xi=e=>{const t=e.image_url||e.image;return t?t.startsWith("http")?t:t.startsWith("/")?"".concat(hi).concat(t):"".concat(hi,"/").concat(t):null},fi=e=>{let{products:t,categories:n,onEdit:r,onDelete:a,onDuplicate:s,onStockClick:l}=e;const i=e=>{const t=n.find(t=>t.id===e);return(null===t||void 0===t?void 0:t.name)||"Sans cat\xe9gorie"},o=e=>e.is_out_of_stock?"2h"===e.stock_status?(0,Mr.jsx)("span",{className:"px-2 py-1 bg-orange-100 text-orange-700 text-xs rounded-full font-medium",children:"\u23f1 Rupture 2h"}):"today"===e.stock_status?(0,Mr.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs rounded-full font-medium",children:"\ud83d\udcc5 Rupture journ\xe9e"}):(0,Mr.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full font-medium",children:"\u26d4 Indisponible"}):(0,Mr.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full font-medium",children:"\u2713 Disponible"});return(0,Mr.jsx)("div",{className:"overflow-x-auto bg-white rounded-lg shadow",children:(0,Mr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Mr.jsx)("thead",{className:"bg-gray-50",children:(0,Mr.jsxs)("tr",{children:[(0,Mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Image"}),(0,Mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),(0,Mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cat\xe9gorie"}),(0,Mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prix"}),(0,Mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),(0,Mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Promo"}),(0,Mr.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Mr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,Mr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:xi(e)?(0,Mr.jsx)("img",{src:xi(e),alt:e.name,className:"h-12 w-12 rounded-lg object-cover"}):(0,Mr.jsx)("div",{className:"h-12 w-12 bg-gray-200 rounded-lg flex items-center justify-center",children:(0,Mr.jsx)(Ws,{className:"w-6 h-6 text-gray-400"})})}),(0,Mr.jsxs)("td",{className:"px-6 py-4",children:[(0,Mr.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),e.description&&(0,Mr.jsx)("div",{className:"text-xs text-gray-500 truncate max-w-xs",children:e.description})]}),(0,Mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Mr.jsx)("span",{className:"text-sm text-gray-700",children:i(e.category)})}),(0,Mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Mr.jsxs)("span",{className:"text-sm font-semibold text-gray-900",children:[(e.price||e.base_price||e.basePrice||0).toFixed(2),"\u20ac"]})}),(0,Mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Mr.jsx)("button",{onClick:()=>l(e.id),className:"focus:outline-none",children:o(e)})}),(0,Mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.isPromo?(0,Mr.jsx)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-xs rounded-full font-medium",children:"\ud83c\udff7 Promo"}):(0,Mr.jsx)("span",{className:"text-xs text-gray-400",children:"-"})}),(0,Mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Mr.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,Mr.jsx)(cs,{size:"sm",variant:"outline",onClick:()=>r(e),children:(0,Mr.jsx)($s,{className:"w-4 h-4"})}),(0,Mr.jsx)(cs,{size:"sm",variant:"outline",onClick:()=>s(e),children:(0,Mr.jsx)(Ws,{className:"w-4 h-4"})}),(0,Mr.jsx)(cs,{size:"sm",variant:"outline",onClick:()=>a(e.id),className:"text-red-600 border-red-300 hover:bg-red-50",children:(0,Mr.jsx)(Gs,{className:"w-4 h-4"})})]})})]},e.id))})]})})},gi="https://resto-hub-54.preview.emergentagent.com",yi=e=>{const t=e.image_url||e.image;return t?t.startsWith("http")?t:t.startsWith("/")?"".concat(gi).concat(t):"".concat(gi,"/").concat(t):null},bi=e=>{let{categories:t,products:n,onEdit:r,onDelete:a,onReorder:s}=e;return(0,Mr.jsx)("div",{className:"overflow-x-auto bg-white rounded-lg shadow",children:(0,Mr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Mr.jsx)("thead",{className:"bg-gray-50",children:(0,Mr.jsxs)("tr",{children:[(0,Mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Image"}),(0,Mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ordre"}),(0,Mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),(0,Mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),(0,Mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produits"}),(0,Mr.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Mr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((e,l)=>{return(0,Mr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:yi(e)?(0,Mr.jsx)("img",{src:yi(e),alt:e.name,className:"h-12 w-12 rounded-lg object-cover"}):(0,Mr.jsx)("div",{className:"h-12 w-12 bg-gray-200 rounded-lg flex items-center justify-center",children:(0,Mr.jsx)(Ws,{className:"w-6 h-6 text-gray-400"})})}),(0,Mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Mr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Mr.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["#",e.order||l+1]}),(0,Mr.jsxs)("div",{className:"flex flex-col gap-1",children:[l>0&&(0,Mr.jsx)("button",{onClick:()=>s(e.id,"up"),className:"p-1 hover:bg-gray-100 rounded",children:(0,Mr.jsx)(mi,{className:"w-3 h-3 text-gray-600"})}),l<t.length-1&&(0,Mr.jsx)("button",{onClick:()=>s(e.id,"down"),className:"p-1 hover:bg-gray-100 rounded",children:(0,Mr.jsx)(pi,{className:"w-3 h-3 text-gray-600"})})]})]})}),(0,Mr.jsx)("td",{className:"px-6 py-4",children:(0,Mr.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,Mr.jsx)("td",{className:"px-6 py-4",children:(0,Mr.jsx)("div",{className:"text-sm text-gray-500 max-w-md truncate",children:e.description||"-"})}),(0,Mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Mr.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[(0,Mr.jsx)(Ws,{className:"w-3 h-3 mr-1"}),(i=e.id,n.filter(e=>e.category===i).length)," produit(s)"]})}),(0,Mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Mr.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,Mr.jsx)(cs,{size:"sm",variant:"outline",onClick:()=>r(e),children:(0,Mr.jsx)($s,{className:"w-4 h-4"})}),(0,Mr.jsx)(cs,{size:"sm",variant:"outline",onClick:()=>a(e.id),className:"text-red-600 border-red-300 hover:bg-red-50",children:(0,Mr.jsx)(Gs,{className:"w-4 h-4"})})]})})]},e.id);var i})})]})})},vi=e=>{let{options:t,onEdit:n,onDelete:r}=e;return(0,Mr.jsx)("div",{className:"overflow-x-auto bg-white rounded-lg shadow",children:(0,Mr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Mr.jsx)("thead",{className:"bg-gray-50",children:(0,Mr.jsxs)("tr",{children:[(0,Mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nom"}),(0,Mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,Mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Choix"}),(0,Mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Requis"}),(0,Mr.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Mr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>{var t,a;return(0,Mr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Mr.jsx)("td",{className:"px-6 py-4",children:(0,Mr.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,Mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Mr.jsx)("span",{className:"px-2 py-1 text-xs rounded-full font-medium ".concat("single"===e.type?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"),children:"single"===e.type?"Choix unique":"Choix multiple"})}),(0,Mr.jsx)("td",{className:"px-6 py-4",children:(0,Mr.jsxs)("div",{className:"flex flex-wrap gap-1",children:[null===(t=e.choices)||void 0===t?void 0:t.slice(0,3).map((e,t)=>(0,Mr.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-700",children:[e.name,e.price>0&&(0,Mr.jsxs)("span",{className:"ml-1 text-green-600 font-medium",children:["+",e.price,"\u20ac"]})]},t)),(null===(a=e.choices)||void 0===a?void 0:a.length)>3&&(0,Mr.jsxs)("span",{className:"text-xs text-gray-500",children:["+",e.choices.length-3," autres"]})]})}),(0,Mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.required?(0,Mr.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs rounded-full font-medium",children:"* Requis"}):(0,Mr.jsx)("span",{className:"text-xs text-gray-400",children:"Optionnel"})}),(0,Mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Mr.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,Mr.jsx)(cs,{size:"sm",variant:"outline",onClick:()=>n(e),children:(0,Mr.jsx)($s,{className:"w-4 h-4"})}),(0,Mr.jsx)(cs,{size:"sm",variant:"outline",onClick:()=>r(e.id),className:"text-red-600 border-red-300 hover:bg-red-50",children:(0,Mr.jsx)(Gs,{className:"w-4 h-4"})})]})})]},e.id)})})]})})},ji="https://resto-hub-54.preview.emergentagent.com",wi=e=>{let{isOpen:t,onClose:n,choice:r,onSuccess:a}=e;const[l,i]=(0,s.useState)({name:"",default_price:0,image_url:"",description:""}),[o,c]=(0,s.useState)(!1);(0,s.useEffect)(()=>{i(r?{name:r.name||"",default_price:r.default_price||0,image_url:r.image_url||"",description:r.description||""}:{name:"",default_price:0,image_url:"",description:""})},[r,t]);return(0,Mr.jsx)(Fs,{isOpen:t,onClose:n,title:r?"\u270f\ufe0f Modifier le choix":"\u2795 Nouveau choix",size:"md",children:(0,Mr.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(!0);try{r?(await pr.put("".concat(ji,"/api/v1/admin/choice-library/").concat(r.id),l),alert("\u2705 Choix modifi\xe9 avec succ\xe8s")):(await pr.post("".concat(ji,"/api/v1/admin/choice-library"),l),alert("\u2705 Choix cr\xe9\xe9 avec succ\xe8s")),null===a||void 0===a||a(),n()}catch(t){console.error("Error saving choice:",t),alert("\u274c Erreur lors de l'enregistrement du choix")}finally{c(!1)}},className:"space-y-4",children:[(0,Mr.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Cr\xe9ez un choix r\xe9utilisable que vous pourrez utiliser dans plusieurs options"}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"name",children:"Nom du choix *"}),(0,Mr.jsx)(hs,{id:"name",type:"text",value:l.name,onChange:e=>i(Qt(Qt({},l),{},{name:e.target.value})),placeholder:"Ex: Chantilly, Ketchup, Bacon...",required:!0})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"default_price",children:"Prix par d\xe9faut"}),(0,Mr.jsx)(hs,{id:"default_price",type:"number",step:"0.01",min:"0",value:l.default_price,onChange:e=>i(Qt(Qt({},l),{},{default_price:parseFloat(e.target.value)||0})),placeholder:"0.00"}),(0,Mr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Ce prix sera utilis\xe9 par d\xe9faut, mais vous pourrez le modifier pour chaque option"})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"image_file",children:"Image (optionnel)"}),(0,Mr.jsx)("input",{id:"image_file",type:"file",accept:"image/*",onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n){const e=new FileReader;e.onloadend=()=>{i(Qt(Qt({},l),{},{image_url:e.result}))},e.readAsDataURL(n)}},className:"w-full px-3 py-2 border rounded-lg"}),l.image_url&&(0,Mr.jsx)("div",{className:"mt-2",children:(0,Mr.jsx)("img",{src:l.image_url,alt:"Aper\xe7u",className:"h-32 w-32 object-cover rounded-lg border"})})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(xs,{htmlFor:"description",children:"Description (optionnel)"}),(0,Mr.jsx)(gs,{id:"description",value:l.description,onChange:e=>i(Qt(Qt({},l),{},{description:e.target.value})),placeholder:"Description du choix...",rows:2})]}),(0,Mr.jsxs)("div",{className:"flex gap-2 pt-4 border-t",children:[(0,Mr.jsx)(cs,{type:"button",variant:"outline",onClick:n,className:"flex-1",disabled:o,children:"Annuler"}),(0,Mr.jsx)(cs,{type:"submit",className:"flex-1",disabled:o,children:o?"Enregistrement...":r?"Modifier":"Cr\xe9er"})]})]})})},Ni="https://resto-hub-54.preview.emergentagent.com",ki=()=>{const[e,t]=(0,s.useState)("products"),[n,r]=(0,s.useState)("grid"),[a,l]=(0,s.useState)("grid"),[i,o]=(0,s.useState)(null),[c,d]=(0,s.useState)(null),[u,m]=(0,s.useState)([]),[p,h]=(0,s.useState)(!1),[x,f]=(0,s.useState)(null),[g,y]=(0,s.useState)([]),[b,v]=(0,s.useState)(!1),[j,w]=(0,s.useState)(null),[N,k]=(0,s.useState)(null),[_,C]=(0,s.useState)(!1),[S,E]=(0,s.useState)(""),[P,O]=(0,s.useState)(!1),[R,T]=(0,s.useState)("all"),[z,A]=(0,s.useState)("all"),[F,L]=(0,s.useState)(null),[M,D]=(0,s.useState)([]),[I,q]=(0,s.useState)(!1),[U,B]=(0,s.useState)(null),[V,H]=(0,s.useState)([]),[W,$]=(0,s.useState)(!1),[Q,G]=(0,s.useState)(null),[J,K]=(0,s.useState)(!0);(0,s.useEffect)(()=>{X()},[]),(0,s.useEffect)(()=>{const e=e=>{N&&!e.target.closest(".relative")&&k(null)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[N]);const X=async()=>{K(!0);try{await Promise.all([Y(),Z(),ee(),te()])}catch(e){console.error("Error loading data:",e)}finally{K(!1)}},Y=async()=>{try{const e=await gr();y(e.data.products||[])}catch(e){console.error("Error loading products:",e)}},Z=async()=>{try{const e=await jr();D(e.data.categories||[])}catch(e){console.error("Error loading categories:",e)}},ee=async()=>{try{const e=await pr.get("".concat(Ni,"/api/v1/admin/options"));H(e.data.options||[])}catch(e){console.error("Error loading options:",e)}},te=async()=>{try{const e=await pr.get("".concat(Ni,"/api/v1/admin/choice-library"));m(e.data.choices||[])}catch(e){console.error("Error loading choice library:",e)}},ne=g.filter(e=>{if(S){var t,n;const r=S.toLowerCase(),a=null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(r),s=null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(r);if(!a&&!s)return!1}return!(P&&!e.isPromo)&&(("all"===R||e.category===R)&&(("available"!==z||!e.is_out_of_stock)&&(!("out_of_stock"===z&&!e.is_out_of_stock)&&!(_&&!e.is_out_of_stock))))}),re=S||P||"all"!==R||"all"!==z||_,ae=async e=>{if(window.confirm("\xcates-vous s\xfbr de vouloir supprimer ce produit ?"))try{await vr(e),Y()}catch(t){alert("Erreur lors de la suppression")}},se=async e=>{if(window.confirm('Dupliquer "'.concat(e.name,'" ?')))try{const t=Qt(Qt({},e),{},{name:"".concat(e.name," (copie)")});delete t.id,await yr(t),Y(),alert("\u2705 Produit dupliqu\xe9 avec succ\xe8s !")}catch(t){alert("Erreur lors de la duplication")}},le=async(e,t)=>{try{await pr.post("".concat(Ni,"/api/v1/admin/products/").concat(e,"/stock-status"),{status:t}),Y();alert({"2h":"\u23f0 Produit en rupture pour 2 heures",today:"\ud83d\udcc5 Produit en rupture jusqu'\xe0 minuit",indefinite:"\ud83d\udeab Produit en rupture ind\xe9finie",available:"\u2705 Produit remis en stock"}[t])}catch(n){alert("\u274c Erreur lors de la mise \xe0 jour du stock")}},ie=async e=>{if(window.confirm("Supprimer cette cat\xe9gorie ?"))try{await kr(e),Z(),alert("\u2705 Cat\xe9gorie supprim\xe9e!")}catch(t){alert("Erreur lors de la suppression")}},oe=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},ce=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},de=async e=>{if(window.confirm("Supprimer cette option ?"))try{await pr.delete("".concat(Ni,"/api/v1/admin/options/").concat(e)),ee(),alert("\u2705 Option supprim\xe9e!")}catch(t){alert("Erreur lors de la suppression")}},ue=async e=>{if(window.confirm("Dupliquer l'option \"".concat(e.name,'" ?')))try{const t=Qt(Qt({},e),{},{name:"".concat(e.name," (copie)")});delete t.id,await pr.post("".concat(Ni,"/api/v1/admin/options"),t),ee(),alert("\u2705 Option dupliqu\xe9e avec succ\xe8s !")}catch(t){alert("Erreur lors de la duplication")}},me=[{id:"products",label:"\ud83c\udf54 Produits",icon:Ws,count:g.length},{id:"categories",label:"\ud83d\udcc1 Cat\xe9gories",icon:ml,count:M.length},{id:"options",label:"\ud83c\udf9b\ufe0f Options",icon:ra,count:V.length},{id:"choice-library",label:"\ud83d\udcda Biblioth\xe8que",icon:Ws,count:u.length}];return J?(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(Ss,{title:"\ud83d\udccb Gestion du Menu",subtitle:"G\xe9rez vos produits, cat\xe9gories et options"}),(0,Mr.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,Mr.jsxs)("div",{className:"text-center",children:[(0,Mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),(0,Mr.jsx)("p",{className:"text-gray-600",children:"Chargement..."})]})})]}):(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(Ss,{title:"\ud83d\udccb Gestion du Menu",subtitle:"G\xe9rez vos produits, cat\xe9gories et options"}),(0,Mr.jsx)("div",{className:"bg-white border-b sticky top-0 z-10 shadow-sm",children:(0,Mr.jsx)("div",{className:"px-6 py-4",children:(0,Mr.jsx)("div",{className:"flex space-x-2",children:me.map(n=>{const r=n.icon;return(0,Mr.jsxs)("button",{onClick:()=>t(n.id),className:"flex items-center space-x-3 px-6 py-3 rounded-lg font-bold transition-all ".concat(e===n.id?"bg-primary text-white shadow-lg scale-105":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[(0,Mr.jsx)(r,{className:"w-5 h-5"}),(0,Mr.jsx)("span",{children:n.label}),(0,Mr.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-bold ".concat(e===n.id?"bg-white/20":"bg-gray-200"),children:n.count})]},n.id)})})})}),(0,Mr.jsxs)("div",{className:"p-6",children:["products"===e&&(0,Mr.jsxs)("div",{children:[(0,Mr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Mr.jsx)("div",{children:(0,Mr.jsxs)("h2",{className:"text-2xl font-bold",children:["\ud83c\udf54 Produits (",ne.length,")"]})}),(0,Mr.jsxs)("div",{className:"flex gap-2",children:[(0,Mr.jsx)(cs,{variant:"outline",size:"sm",onClick:()=>r("grid"===n?"list":"grid"),children:"grid"===n?(0,Mr.jsx)(il,{className:"w-4 h-4"}):(0,Mr.jsx)(di,{className:"w-4 h-4"})}),(0,Mr.jsxs)(cs,{onClick:()=>{w(null),v(!0)},children:[(0,Mr.jsx)(Hs,{className:"w-4 h-4 mr-2"}),"Nouveau produit"]})]})]}),(0,Mr.jsx)("div",{className:"mb-4 p-4 bg-white rounded-lg shadow",children:(0,Mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[(0,Mr.jsxs)("div",{className:"relative",children:[(0,Mr.jsx)(ui,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,Mr.jsx)("input",{type:"text",placeholder:"Rechercher...",value:S,onChange:e=>E(e.target.value),className:"w-full pl-10 pr-8 py-2 border rounded-lg text-sm"})]}),(0,Mr.jsxs)("select",{value:R,onChange:e=>T(e.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[(0,Mr.jsx)("option",{value:"all",children:"Toutes cat\xe9gories"}),M.map(e=>(0,Mr.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,Mr.jsxs)("select",{value:z,onChange:e=>A(e.target.value),className:"px-3 py-2 border rounded-lg text-sm",children:[(0,Mr.jsx)("option",{value:"all",children:"Tous stocks"}),(0,Mr.jsx)("option",{value:"available",children:"Disponibles"}),(0,Mr.jsx)("option",{value:"out_of_stock",children:"En rupture"})]}),(0,Mr.jsxs)("div",{className:"flex gap-2",children:[(0,Mr.jsx)(cs,{variant:P?"default":"outline",size:"sm",onClick:()=>O(!P),className:"flex-1",children:"Promo"}),re&&(0,Mr.jsx)(cs,{variant:"outline",size:"sm",onClick:()=>{E(""),O(!1),T("all"),A("all"),C(!1)},children:(0,Mr.jsx)(As,{className:"w-4 h-4"})})]})]})}),"list"===n?(0,Mr.jsx)(fi,{products:ne,categories:M,onEdit:e=>{w(e),v(!0)},onDelete:ae,onDuplicate:se,onStockClick:e=>k(N===e?null:e)}):(0,Mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:ne.map((e,t)=>{const n=e.base_price||e.basePrice||0;let r=e.image_url||e.image;if(r)if(r.includes(".preview.emergentagent.com/uploads/")){const e=r.match(/\/uploads\/.+$/);e&&(r="".concat(Ni).concat(e[0]))}else r.startsWith("http")||r.startsWith("http")||(r=r.startsWith("/")?"".concat(Ni).concat(r):"".concat(Ni,"/").concat(r));return(0,Mr.jsxs)(ws,{draggable:!0,onDragStart:e=>((e,t)=>{d(t),e.dataTransfer.effectAllowed="move"})(e,t),onDragOver:ce,onDrop:e=>(async(e,t)=>{if(e.preventDefault(),null===c||c===t)return void d(null);const n=[...ne].sort((e,t)=>(e.order||0)-(t.order||0)),r=n[c],a=n[t];try{await br(r.id,{order:a.order||t}),await br(a.id,{order:r.order||c}),await Y(),d(null)}catch(s){alert("Erreur lors du d\xe9placement"),d(null)}})(e,t),className:"cursor-move transition-all ".concat(c===t?"opacity-50 scale-95":""),children:[(0,Mr.jsxs)("div",{className:"cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>{w(e),v(!0)},children:[r?(0,Mr.jsx)("img",{src:r,alt:e.name,className:"w-full h-48 object-cover rounded-lg mb-4"}):(0,Mr.jsx)("div",{className:"w-full h-48 bg-gray-100 rounded-lg mb-4 flex items-center justify-center",children:(0,Mr.jsx)(Ws,{className:"w-12 h-12 text-gray-400"})}),(0,Mr.jsx)("h4",{className:"font-bold text-lg mb-2",children:e.name}),(0,Mr.jsx)("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:e.description})]}),(0,Mr.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Mr.jsxs)("span",{className:"text-2xl font-black text-primary",children:[n.toFixed(2),"\u20ac"]}),e.is_out_of_stock?(0,Mr.jsx)("div",{className:"flex flex-col items-end",children:(()=>{const t=new Date,n=e.stock_resume_at?new Date(e.stock_resume_at):null;if(!n)return(0,Mr.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-gray-700 text-white",children:"\u26d4 Rupture ind\xe9finie"});const r=(n-t)/36e5,a=n.toDateString()===t.toDateString(),s=n.toDateString()===new Date(t.getTime()+864e5).toDateString();return r<=2.5&&r>0?(0,Mr.jsxs)(Mr.Fragment,{children:[(0,Mr.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-orange-100 text-orange-700",children:"\u23f0 Rupture 2H"}),(0,Mr.jsxs)("span",{className:"text-xs text-gray-500 mt-1",children:["Retour ",n.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]}):a||s&&0===n.getHours()?(0,Mr.jsxs)(Mr.Fragment,{children:[(0,Mr.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-blue-100 text-blue-700",children:"\ud83d\udcc5 Rupture journ\xe9e"}),(0,Mr.jsx)("span",{className:"text-xs text-gray-500 mt-1",children:"Retour demain"})]}):(0,Mr.jsxs)(Mr.Fragment,{children:[(0,Mr.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-purple-100 text-purple-700",children:"\ud83d\udeab Rupture"}),(0,Mr.jsxs)("span",{className:"text-xs text-gray-500 mt-1",children:[n.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})," ",n.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})]})]})})()}):(0,Mr.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-green-100 text-green-700",children:"\u2705 En stock"})]}),(0,Mr.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[(0,Mr.jsx)(cs,{size:"sm",variant:"outline",onClick:()=>{w(e),v(!0)},title:"Modifier",children:(0,Mr.jsx)($s,{className:"w-4 h-4"})}),(0,Mr.jsx)(cs,{size:"sm",variant:"outline",onClick:()=>se(e),title:"Dupliquer",children:(0,Mr.jsx)(Qs,{className:"w-4 h-4"})})]}),(0,Mr.jsxs)("div",{className:"relative mb-2",children:[(0,Mr.jsxs)(cs,{size:"sm",variant:"outline",onClick:()=>k(N===e.id?null:e.id),className:"w-full",title:"G\xe9rer le stock",children:[(0,Mr.jsx)(nl,{className:"w-4 h-4 mr-2"}),"G\xe9rer le stock"]}),N===e.id&&(0,Mr.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg",children:[(0,Mr.jsxs)("button",{onClick:()=>{le(e.id,"2h"),k(null)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 flex items-center",children:[(0,Mr.jsx)(nl,{className:"w-4 h-4 mr-2 text-orange-500"}),"Rupture 2 heures"]}),(0,Mr.jsxs)("button",{onClick:()=>{le(e.id,"today"),k(null)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 flex items-center",children:[(0,Mr.jsx)(la,{className:"w-4 h-4 mr-2 text-blue-500"}),"Rupture aujourd'hui"]}),(0,Mr.jsxs)("button",{onClick:()=>{le(e.id,"indefinite"),k(null)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 flex items-center border-b",children:[(0,Mr.jsx)(al,{className:"w-4 h-4 mr-2 text-red-500"}),"Rupture ind\xe9finie"]}),(0,Mr.jsxs)("button",{onClick:()=>{le(e.id,"available"),k(null)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-100 flex items-center text-green-600 font-bold",children:[(0,Mr.jsx)(Ys,{className:"w-4 h-4 mr-2"}),"Remettre en stock"]})]})]}),(0,Mr.jsxs)(cs,{size:"sm",variant:"danger",onClick:()=>ae(e.id),title:"Supprimer",className:"w-full",children:[(0,Mr.jsx)(Gs,{className:"w-4 h-4 mr-2"}),"Supprimer"]})]},e.id)})})]}),"categories"===e&&(0,Mr.jsxs)("div",{children:[(0,Mr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Mr.jsxs)("h2",{className:"text-2xl font-bold",children:["\ud83d\udcc1 Cat\xe9gories (",M.length,")"]}),(0,Mr.jsxs)("div",{className:"flex gap-2",children:[(0,Mr.jsx)(cs,{variant:"outline",size:"sm",onClick:()=>r("grid"===n?"list":"grid"),children:"grid"===n?(0,Mr.jsx)(il,{className:"w-4 h-4"}):(0,Mr.jsx)(di,{className:"w-4 h-4"})}),(0,Mr.jsxs)(cs,{onClick:()=>{B(null),q(!0)},children:[(0,Mr.jsx)(Hs,{className:"w-4 h-4 mr-2"}),"Nouvelle cat\xe9gorie"]})]})]}),"list"===n?(0,Mr.jsx)(bi,{categories:[...M].sort((e,t)=>(e.order||0)-(t.order||0)),products:g,onEdit:e=>{B(e),q(!0)},onDelete:ie,onReorder:async(e,t)=>{const n=[...M].sort((e,t)=>(e.order||0)-(t.order||0)),r=n.findIndex(t=>t.id===e);if(-1===r)return;const a="up"===t?r-1:r+1;if(!(a<0||a>=n.length))try{const e=n[r],t=n[a];await pr.put("".concat(Ni,"/api/v1/admin/categories/").concat(e.id),Qt(Qt({},e),{},{order:t.order||a})),await pr.put("".concat(Ni,"/api/v1/admin/categories/").concat(t.id),Qt(Qt({},t),{},{order:e.order||r})),await Z()}catch(s){console.error("Error reordering:",s),alert("Erreur lors du r\xe9ordonnancement")}}}):(0,Mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...M].sort((e,t)=>(e.order||0)-(t.order||0)).map((e,t)=>{let n=e.image_url||e.image;if(n)if(n.includes(".preview.emergentagent.com/uploads/")){const e=n.match(/\/uploads\/.+$/);e&&(n="".concat(Ni).concat(e[0]))}else n.startsWith("http")||n.startsWith("http")||(n=n.startsWith("/")?"".concat(Ni).concat(n):"".concat(Ni,"/").concat(n));const r=[...M].sort((e,t)=>(e.order||0)-(t.order||0)),a=0===t,s=t===r.length-1;return(0,Mr.jsxs)(ws,{draggable:!0,onDragStart:e=>((e,t)=>{o(t),e.dataTransfer.effectAllowed="move"})(e,t),onDragOver:oe,onDrop:e=>(async(e,t)=>{if(e.preventDefault(),null===i||i===t)return void o(null);const n=[...M].sort((e,t)=>(e.order||0)-(t.order||0)),r=n[i],a=n[t];try{await Nr(r.id,{order:a.order||t}),await Nr(a.id,{order:r.order||i}),await Z(),o(null)}catch(s){alert("Erreur lors du d\xe9placement"),o(null)}})(e,t),className:"cursor-move transition-all ".concat(i===t?"opacity-50 scale-95":""),children:[(0,Mr.jsxs)("div",{className:"cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>{L(F===e.id?null:e.id)},children:[n?(0,Mr.jsx)("img",{src:n,alt:e.name,className:"w-full h-40 object-cover rounded-lg mb-4"}):(0,Mr.jsx)("div",{className:"w-full h-40 bg-gradient-to-br from-orange-100 to-red-100 rounded-lg mb-4 flex items-center justify-center",children:(0,Mr.jsx)(ml,{className:"w-12 h-12 text-orange-400"})}),(0,Mr.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,Mr.jsx)("h4",{className:"font-bold text-lg",children:e.name}),(0,Mr.jsxs)("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:["#",t+1]})]}),(0,Mr.jsx)("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:e.description})]}),(0,Mr.jsxs)("div",{className:"mb-2",children:[(0,Mr.jsxs)("div",{className:"text-sm text-gray-600 font-medium mb-2",children:[(0,Mr.jsx)(Ws,{className:"w-4 h-4 inline mr-1"}),g.filter(t=>t.category===e.name).length," produit(s)"]}),F===e.id&&(0,Mr.jsxs)("div",{className:"space-y-2 mt-3 p-3 bg-gray-50 rounded-lg",children:[g.filter(t=>t.category===e.name).map(e=>{var t;return(0,Mr.jsxs)("div",{onClick:()=>{w(e),v(!0)},className:"flex items-center justify-between p-2 bg-white rounded hover:bg-blue-50 cursor-pointer transition-colors",children:[(0,Mr.jsxs)("div",{className:"flex items-center space-x-2",children:[e.image_url?(0,Mr.jsx)("img",{src:e.image_url,alt:e.name,className:"w-10 h-10 object-cover rounded"}):(0,Mr.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded flex items-center justify-center",children:(0,Mr.jsx)(Ws,{className:"w-5 h-5 text-gray-400"})}),(0,Mr.jsx)("span",{className:"text-sm font-medium",children:e.name})]}),(0,Mr.jsxs)("span",{className:"text-sm font-bold text-primary",children:[null===(t=e.base_price)||void 0===t?void 0:t.toFixed(2),"\u20ac"]})]},e.id)}),0===g.filter(t=>t.category===e.name).length&&(0,Mr.jsx)("p",{className:"text-xs text-gray-400 italic text-center",children:"Aucun produit dans cette cat\xe9gorie"})]})]}),(0,Mr.jsxs)("div",{className:"flex space-x-2 mb-2",children:[(0,Mr.jsx)(cs,{size:"sm",variant:"outline",onClick:()=>(async(e,t)=>{if(0===t)return;const n=[...M].sort((e,t)=>(e.order||0)-(t.order||0))[t-1];try{await Nr(e.id,{order:n.order||0}),await Nr(n.id,{order:e.order||0}),Z()}catch(r){alert("Erreur lors du d\xe9placement")}})(e,t),disabled:a,className:"flex-1",title:"Monter",children:(0,Mr.jsx)(mi,{className:"w-4 h-4"})}),(0,Mr.jsx)(cs,{size:"sm",variant:"outline",onClick:()=>(async(e,t)=>{const n=[...M].sort((e,t)=>(e.order||0)-(t.order||0));if(t===n.length-1)return;const r=n[t+1];try{await Nr(e.id,{order:r.order||0}),await Nr(r.id,{order:e.order||0}),Z()}catch(a){alert("Erreur lors du d\xe9placement")}})(e,t),disabled:s,className:"flex-1",title:"Descendre",children:(0,Mr.jsx)(pi,{className:"w-4 h-4"})})]}),(0,Mr.jsxs)("div",{className:"flex space-x-2",children:[(0,Mr.jsx)(cs,{size:"sm",variant:"outline",onClick:()=>{B(e),q(!0)},className:"flex-1",children:(0,Mr.jsx)($s,{className:"w-4 h-4"})}),(0,Mr.jsx)(cs,{size:"sm",variant:"danger",onClick:()=>ie(e.id),className:"flex-1",children:(0,Mr.jsx)(Gs,{className:"w-4 h-4"})})]})]},e.id)})})]}),"options"===e&&(0,Mr.jsxs)("div",{children:[(0,Mr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Mr.jsxs)("h2",{className:"text-2xl font-bold",children:["\ud83c\udf9b\ufe0f Options (",V.length,")"]}),(0,Mr.jsxs)("div",{className:"flex gap-2",children:[(0,Mr.jsx)(cs,{variant:"outline",size:"sm",onClick:()=>l("grid"===a?"list":"grid"),children:"grid"===a?(0,Mr.jsx)(il,{className:"w-4 h-4"}):(0,Mr.jsx)(di,{className:"w-4 h-4"})}),(0,Mr.jsxs)(cs,{onClick:()=>{G(null),$(!0)},children:[(0,Mr.jsx)(Hs,{className:"w-4 h-4 mr-2"}),"Nouvelle option"]})]})]}),"list"===a?(0,Mr.jsx)(vi,{options:V,onEdit:e=>{G(e),$(!0)},onDelete:de,onDuplicate:ue}):(0,Mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:V.map(e=>{var t,n,r;return(0,Mr.jsxs)(ws,{children:[(0,Mr.jsx)(Ns,{className:"bg-gradient-to-r from-purple-50 to-pink-50",children:(0,Mr.jsxs)(ks,{className:"flex items-center justify-between",children:[(0,Mr.jsxs)("div",{className:"flex-1",children:[(0,Mr.jsx)("span",{className:"text-lg font-bold",children:e.name}),e.internal_comment&&(0,Mr.jsxs)("p",{className:"text-xs text-yellow-700 mt-1 font-normal",children:["\ud83d\udcac ",e.internal_comment]})]}),(0,Mr.jsxs)("div",{className:"flex space-x-1",children:[(0,Mr.jsx)("button",{onClick:()=>{G(e),$(!0)},className:"p-2 hover:bg-white rounded-lg transition-colors",title:"Modifier",children:(0,Mr.jsx)(ii,{className:"w-4 h-4 text-blue-600"})}),(0,Mr.jsx)("button",{onClick:()=>ue(e),className:"p-2 hover:bg-white rounded-lg transition-colors",title:"Dupliquer",children:(0,Mr.jsx)(Qs,{className:"w-4 h-4 text-green-600"})}),(0,Mr.jsx)("button",{onClick:()=>de(e.id),className:"p-2 hover:bg-white rounded-lg transition-colors",title:"Supprimer",children:(0,Mr.jsx)(Gs,{className:"w-4 h-4 text-red-600"})})]})]})}),(0,Mr.jsxs)(_s,{className:"space-y-3 cursor-pointer hover:bg-gray-50 transition-colors rounded-lg",onClick:()=>{G(e),$(!0)},children:[e.description&&(0,Mr.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),(0,Mr.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,Mr.jsx)("span",{className:"px-3 py-1 rounded-full font-bold ".concat(e.is_required?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"),children:e.is_required?"Obligatoire":"Optionnel"}),(0,Mr.jsx)("span",{className:"px-3 py-1 rounded-full bg-blue-100 text-blue-700 font-bold",children:"single"===e.type?"Choix unique":"Choix multiple"})]}),"multiple"===e.type&&e.max_choices&&(0,Mr.jsxs)("p",{className:"text-xs text-gray-500",children:["Maximum ",e.max_choices," choix"]}),(0,Mr.jsxs)("div",{className:"pt-3 border-t",children:[(0,Mr.jsxs)("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:["Choix disponibles (",(null===(t=e.choices)||void 0===t?void 0:t.length)||0,")"]}),(0,Mr.jsxs)("div",{className:"space-y-1",children:[null===(n=e.choices)||void 0===n?void 0:n.slice(0,3).map((e,t)=>(0,Mr.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Mr.jsx)("span",{className:"text-gray-700",children:e.name}),e.price_modifier>0&&(0,Mr.jsxs)("span",{className:"text-green-600 font-semibold",children:["+",e.price_modifier.toFixed(2),"\u20ac"]})]},t)),(null===(r=e.choices)||void 0===r?void 0:r.length)>3&&(0,Mr.jsxs)("p",{className:"text-xs text-gray-400 italic",children:["+",e.choices.length-3," autres choix..."]})]})]})]})]},e.id)})})]}),"choice-library"===e&&(0,Mr.jsxs)("div",{children:[(0,Mr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsxs)("h2",{className:"text-2xl font-bold",children:["\ud83d\udcda Biblioth\xe8que de Choix (",u.length,")"]}),(0,Mr.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Cr\xe9ez des choix r\xe9utilisables avec images pour vos options"})]}),(0,Mr.jsxs)(cs,{onClick:()=>{f(null),h(!0)},children:[(0,Mr.jsx)(Hs,{className:"w-4 h-4 mr-2"}),"Nouveau choix"]})]}),0===u.length?(0,Mr.jsxs)("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-6 text-center",children:[(0,Mr.jsx)(Ws,{className:"w-16 h-16 text-blue-400 mx-auto mb-4"}),(0,Mr.jsx)("h3",{className:"text-lg font-bold text-blue-900 mb-2",children:"Biblioth\xe8que vide"}),(0,Mr.jsx)("p",{className:"text-sm text-blue-700 mb-4",children:"Cr\xe9ez vos premiers choix r\xe9utilisables (Chantilly, Ketchup, Bacon...)"}),(0,Mr.jsxs)(cs,{onClick:()=>h(!0),children:[(0,Mr.jsx)(Hs,{className:"w-4 h-4 mr-2"}),"Cr\xe9er mon premier choix"]})]}):(0,Mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:u.map(e=>(0,Mr.jsx)(ws,{children:(0,Mr.jsxs)(_s,{className:"p-4",children:[e.image_url&&(0,Mr.jsx)("img",{src:e.image_url,alt:e.name,className:"w-full h-32 object-cover rounded-lg mb-3",onError:e=>{e.target.style.display="none"}}),(0,Mr.jsx)("h3",{className:"font-bold text-lg mb-1",children:e.name}),e.description&&(0,Mr.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,Mr.jsxs)("p",{className:"text-lg font-bold text-primary mb-3",children:[e.default_price.toFixed(2),"\u20ac"]}),(0,Mr.jsxs)("div",{className:"flex gap-2",children:[(0,Mr.jsxs)(cs,{size:"sm",variant:"outline",onClick:()=>{f(e),h(!0)},children:[(0,Mr.jsx)(ii,{className:"w-4 h-4 mr-1"}),"Modifier"]}),(0,Mr.jsx)(cs,{size:"sm",variant:"danger",onClick:()=>(async e=>{if(window.confirm("Supprimer ce choix de la biblioth\xe8que ?"))try{await pr.delete("".concat(Ni,"/api/v1/admin/choice-library/").concat(e)),te(),alert("\u2705 Choix supprim\xe9!")}catch(t){alert("Erreur lors de la suppression")}})(e.id),children:(0,Mr.jsx)(Gs,{className:"w-4 h-4"})})]})]})},e.id))})]})]}),(0,Mr.jsx)(Vs,{isOpen:b,onClose:()=>{v(!1),w(null)},product:j,onSuccess:Y}),(0,Mr.jsx)(ul,{isOpen:I,onClose:()=>{q(!1),B(null)},category:U,onSuccess:Z}),(0,Mr.jsx)(li,{isOpen:W,onClose:()=>{$(!1),G(null)},option:Q,onSuccess:ee}),(0,Mr.jsx)(wi,{isOpen:p,onClose:()=>{h(!1),f(null)},choice:x,onSuccess:te})]})},_i=()=>({playNotificationSound:(0,s.useCallback)(()=>{try{const e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),n=e.createGain();t.connect(n),n.connect(e.destination),t.frequency.value=800,t.type="sine",n.gain.setValueAtTime(.3,e.currentTime),n.gain.exponentialRampToValueAtTime(.01,e.currentTime+.5),t.start(e.currentTime),t.stop(e.currentTime+.5)}catch(e){console.log("Could not play notification sound:",e)}},[])}),Ci="https://resto-hub-54.preview.emergentagent.com",Si=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)("new"),[a,l]=(0,s.useState)(0),{playNotificationSound:i}=_i();(0,s.useEffect)(()=>{o();const e=setInterval(o,1e4);return()=>clearInterval(e)},[]),(0,s.useEffect)(()=>{const t=e.filter(e=>"new"===e.status).length;t>a&&a>0&&i(),l(t)},[e]);const o=async()=>{try{const e=await pr.get("".concat(Ci,"/api/v1/admin/orders"));t(e.data.orders||[])}catch(e){console.error("Error loading orders:",e)}},c=async(e,n)=>{try{t(t=>t.map(t=>t.id===e?Qt(Qt({},t),{},{status:n}):t)),await pr.patch("".concat(Ci,"/api/v1/admin/orders/").concat(e,"/status"),{status:n})}catch(r){console.error("Error updating order:",r),o()}},d=[{id:"new",label:"Nouvelles",icon:Ws,status:"new",color:"bg-red-500"},{id:"in_preparation",label:"En cours",icon:nl,status:"in_preparation",color:"bg-orange-500"},{id:"ready",label:"Pr\xeates",icon:Ys,status:"ready",color:"bg-green-500"}],u=e.filter(e=>{var t;return e.status===(null===(t=d.find(e=>e.id===n))||void 0===t?void 0:t.status)});return(0,Mr.jsxs)("div",{className:"h-screen bg-gray-100 flex flex-col",children:[(0,Mr.jsx)("div",{className:"bg-white shadow-md p-4",children:(0,Mr.jsx)("h1",{className:"text-3xl font-black text-center",children:"\ud83c\udf54 COMMANDES EN DIRECT"})}),(0,Mr.jsx)("div",{className:"flex p-4 gap-4",children:d.map(t=>{const a=t.icon,s=e.filter(e=>e.status===t.status).length;return(0,Mr.jsxs)("button",{onClick:()=>r(t.id),className:"flex-1 p-8 rounded-2xl shadow-lg transition-all transform ".concat(n===t.id?"".concat(t.color," text-white scale-105"):"bg-white text-gray-700 hover:scale-102"),children:[(0,Mr.jsx)(a,{className:"w-16 h-16 mx-auto mb-4"}),(0,Mr.jsx)("div",{className:"text-2xl font-bold",children:t.label}),(0,Mr.jsx)("div",{className:"text-5xl font-black mt-2",children:s})]},t.id)})}),(0,Mr.jsx)("div",{className:"flex-1 overflow-auto p-4",children:0===u.length?(0,Mr.jsx)("div",{className:"text-center py-20 text-gray-400 text-2xl",children:"Aucune commande"}):(0,Mr.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:u.map(e=>{var t,r;return(0,Mr.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl p-6 border-4 border-gray-200",children:[(0,Mr.jsxs)("div",{className:"flex items-center justify-between mb-6 pb-4 border-b-4 border-gray-200",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsxs)("div",{className:"text-4xl font-black text-primary",children:["#",e.order_number||(null===(t=e.id)||void 0===t?void 0:t.slice(0,8))]}),(0,Mr.jsx)("div",{className:"text-sm text-gray-500 mt-1",children:new Date(e.created_at).toLocaleTimeString("fr-FR")})]}),(0,Mr.jsx)("div",{className:"px-4 py-2 rounded-full ".concat("delivery"===e.order_type?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"," font-bold text-lg"),children:"delivery"===e.order_type?(0,Mr.jsxs)(Mr.Fragment,{children:[(0,Mr.jsx)(rl,{className:"w-5 h-5 inline mr-1"})," Livraison"]}):(0,Mr.jsxs)(Mr.Fragment,{children:[(0,Mr.jsx)(Ws,{className:"w-5 h-5 inline mr-1"})," \xc0 emporter"]})})]}),(0,Mr.jsx)("div",{className:"mb-6",children:null===(r=e.items)||void 0===r?void 0:r.map((e,t)=>(0,Mr.jsxs)("div",{className:"mb-3 p-3 bg-gray-50 rounded-xl",children:[(0,Mr.jsx)("div",{className:"flex items-start justify-between",children:(0,Mr.jsxs)("div",{className:"flex-1",children:[(0,Mr.jsxs)("span",{className:"inline-block bg-primary text-white px-3 py-1 rounded-full text-lg font-bold mr-2",children:["x",e.quantity]}),(0,Mr.jsx)("span",{className:"text-xl font-bold",children:e.name})]})}),e.notes&&(0,Mr.jsxs)("div",{className:"mt-2 ml-12 text-sm text-gray-600 bg-yellow-50 p-2 rounded",children:["\ud83d\udcdd ",e.notes]})]},t))}),e.notes&&(0,Mr.jsxs)("div",{className:"mb-4 p-4 bg-yellow-50 border-l-4 border-yellow-400 rounded",children:[(0,Mr.jsx)("p",{className:"font-bold text-yellow-800 mb-1",children:"\ud83d\udcdd Notes:"}),(0,Mr.jsx)("p",{className:"text-yellow-700",children:e.notes})]}),(0,Mr.jsxs)("div",{className:"mb-6 text-center p-4 bg-gray-100 rounded-xl",children:[(0,Mr.jsx)("div",{className:"text-sm text-gray-600",children:"TOTAL"}),(0,Mr.jsxs)("div",{className:"text-4xl font-black text-primary",children:[e.total.toFixed(2),"\u20ac"]})]}),(0,Mr.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Mr.jsxs)("button",{onClick:()=>(e=>{var t,n;const r="\nCOMMANDE #".concat(e.order_number||(null===(t=e.id)||void 0===t?void 0:t.slice(0,8)),"\n").concat(new Date(e.created_at).toLocaleString("fr-FR"),"\n-----------------------------------\n").concat(null===(n=e.items)||void 0===n?void 0:n.map(e=>"".concat(e.quantity,"x ").concat(e.name)).join("\n"),"\n-----------------------------------\nTOTAL: ").concat(e.total.toFixed(2),"\u20ac\n").concat(e.notes?"\nNOTES: ".concat(e.notes):"","\n    "),a=window.open("","","width=300,height=600");a.document.write('<pre style="font-family: monospace; font-size: 12px;">'.concat(r,"</pre>")),a.print(),a.close()})(e),className:"py-4 px-6 bg-blue-500 hover:bg-blue-600 text-white rounded-xl font-bold text-lg flex items-center justify-center gap-2 transition-all",children:[(0,Mr.jsx)(ol,{className:"w-6 h-6"}),"Imprimer"]}),"new"===n&&(0,Mr.jsx)("button",{onClick:()=>c(e.id,"in_preparation"),className:"py-4 px-6 bg-orange-500 hover:bg-orange-600 text-white rounded-xl font-bold text-lg transition-all",children:"\ud83d\udd25 EN COURS"}),"in_preparation"===n&&(0,Mr.jsx)("button",{onClick:()=>c(e.id,"ready"),className:"py-4 px-6 bg-green-500 hover:bg-green-600 text-white rounded-xl font-bold text-lg transition-all",children:"\u2705 PR\xcaTE"}),"ready"===n&&(0,Mr.jsx)("button",{onClick:()=>c(e.id,"completed"),className:"py-4 px-6 bg-gray-500 hover:bg-gray-600 text-white rounded-xl font-bold text-lg transition-all",children:"\ud83c\udf89 TERMIN\xc9E"})]})]},e.id)})})})]})},Ei=Gr("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),Pi=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[a,l]=(0,s.useState)("today"),[i,o]=(0,s.useState)(""),[c,d]=(0,s.useState)(""),[u,m]=(0,s.useState)({total:0,cash:0,card:0,mobile:0,online:0,orderCount:0});(0,s.useEffect)(()=>{p()},[a,i,c]);const p=async()=>{r(!0);try{const e=localStorage.getItem("token"),n=await pr.get("".concat("https://resto-hub-54.preview.emergentagent.com","/api/v1/admin/orders"),{headers:e?{Authorization:"Bearer ".concat(e)}:{}}),r=(n.data.orders||[]).filter(e=>"paid"===e.payment_status&&["completed","ready","in_preparation","out_for_delivery"].includes(e.status)),a=h(r);x(a),t(a)}catch(e){console.error("Error loading revenue:",e)}finally{r(!1)}},h=e=>{const t=new Date;let n,r;switch(a){case"today":n=new Date(t.setHours(0,0,0,0)),r=new Date(t.setHours(23,59,59,999));break;case"yesterday":const a=new Date(t);a.setDate(a.getDate()-1),n=new Date(a.setHours(0,0,0,0)),r=new Date(a.setHours(23,59,59,999));break;case"week":n=new Date(t),n.setDate(n.getDate()-7),r=new Date;break;case"month":n=new Date(t),n.setDate(n.getDate()-30),r=new Date;break;case"custom":if(!i||!c)return e;n=new Date(i),r=new Date(c),r.setHours(23,59,59,999);break;default:return e}return e.filter(e=>{const t=new Date(e.created_at);return t>=n&&t<=r})},x=e=>{const t={total:0,cash:0,card_restaurant:0,ticket_resto:0,check:0,online:0,orderCount:e.length};e.forEach(e=>{var n;const r=e.total||0;t.total+=r;const a=(null===(n=e.payment_method)||void 0===n?void 0:n.toLowerCase())||"cash";"cash"===a?t.cash+=r:"card_restaurant"===a?t.card_restaurant+=r:"ticket_resto"===a?t.ticket_resto+=r:"check"===a?t.check+=r:"online"===a&&(t.online+=r)}),m(t)},f=[{key:"card_restaurant",label:"CB (restaurant)",icon:Rs,color:"blue",amount:u.card_restaurant},{key:"online",label:"Paiement en ligne",icon:Ps,color:"purple",amount:u.online},{key:"ticket_resto",label:"Ticket Restaurant",icon:Ei,color:"orange",amount:u.ticket_resto},{key:"check",label:"Ch\xe8que bancaire",icon:Rs,color:"indigo",amount:u.check},{key:"cash",label:"Esp\xe8ce",icon:Ei,color:"green",amount:u.cash}];return n?(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(Ss,{title:"\ud83d\udcb0 Chiffre d'Affaires",subtitle:"Analysez vos revenus"}),(0,Mr.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,Mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})]}):(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)(Ss,{title:"\ud83d\udcb0 Chiffre d'Affaires",subtitle:"Analysez vos revenus"}),(0,Mr.jsxs)("div",{className:"p-6 space-y-6",children:[(0,Mr.jsx)(ws,{children:(0,Mr.jsxs)(_s,{className:"p-4",children:[(0,Mr.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,Mr.jsx)(la,{className:"w-5 h-5 text-gray-600"}),(0,Mr.jsx)("div",{className:"flex gap-2 flex-wrap flex-1",children:[{value:"today",label:"Aujourd'hui"},{value:"yesterday",label:"Hier"},{value:"week",label:"7 derniers jours"},{value:"month",label:"30 derniers jours"},{value:"custom",label:"P\xe9riode personnalis\xe9e"}].map(e=>(0,Mr.jsx)(cs,{size:"sm",variant:a===e.value?"primary":"outline",onClick:()=>l(e.value),children:e.label},e.value))})]}),"custom"===a&&(0,Mr.jsxs)("div",{className:"flex gap-4 mt-4",children:[(0,Mr.jsxs)("div",{className:"flex-1",children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Date d\xe9but"}),(0,Mr.jsx)("input",{type:"date",value:i,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border rounded-lg"})]}),(0,Mr.jsxs)("div",{className:"flex-1",children:[(0,Mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Date fin"}),(0,Mr.jsx)("input",{type:"date",value:c,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border rounded-lg"})]})]})]})}),(0,Mr.jsx)(ws,{className:"bg-gradient-to-br from-green-500 to-emerald-600 text-white",children:(0,Mr.jsx)(_s,{className:"p-6",children:(0,Mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("p",{className:"text-green-100 text-sm mb-1",children:"Chiffre d'Affaires Total"}),(0,Mr.jsxs)("p",{className:"text-5xl font-black",children:[u.total.toFixed(2),"\u20ac"]}),(0,Mr.jsxs)("p",{className:"text-green-100 text-sm mt-2",children:[u.orderCount," commandes"]})]}),(0,Mr.jsx)(ea,{className:"w-20 h-20 text-white/30"})]})})}),(0,Mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:f.map(e=>{const t=e.icon,n=u.total>0?e.amount/u.total*100:0;return(0,Mr.jsx)(ws,{children:(0,Mr.jsxs)(_s,{className:"p-4",children:[(0,Mr.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Mr.jsx)(t,{className:"w-8 h-8 text-".concat(e.color,"-500")}),(0,Mr.jsxs)("span",{className:"text-xs font-bold px-2 py-1 rounded-full bg-".concat(e.color,"-100 text-").concat(e.color,"-700"),children:[n.toFixed(0),"%"]})]}),(0,Mr.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:e.label}),(0,Mr.jsxs)("p",{className:"text-2xl font-black text-gray-800",children:[e.amount.toFixed(2),"\u20ac"]})]})},e.key)})}),(0,Mr.jsx)(ws,{children:(0,Mr.jsx)(_s,{className:"p-0",children:(0,Mr.jsx)("div",{className:"overflow-x-auto",children:(0,Mr.jsxs)("table",{className:"w-full",children:[(0,Mr.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,Mr.jsxs)("tr",{children:[(0,Mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-700 uppercase",children:"Date"}),(0,Mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-700 uppercase",children:"N\xb0 Commande"}),(0,Mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-700 uppercase",children:"Client"}),(0,Mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-bold text-gray-700 uppercase",children:"Mode Paiement"}),(0,Mr.jsx)("th",{className:"px-6 py-3 text-right text-xs font-bold text-gray-700 uppercase",children:"Montant"})]})}),(0,Mr.jsx)("tbody",{className:"divide-y divide-gray-200",children:e.map(e=>{var t;return(0,Mr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Mr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[new Date(e.created_at).toLocaleDateString("fr-FR"),(0,Mr.jsx)("br",{}),(0,Mr.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})})]}),(0,Mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Mr.jsxs)("span",{className:"text-sm font-bold text-primary",children:["#",e.order_number||(null===(t=e.id)||void 0===t?void 0:t.slice(0,8))]})}),(0,Mr.jsx)("td",{className:"px-6 py-4 text-sm",children:e.customer_name||e.customer_email||"Client"}),(0,Mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Mr.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-bold ".concat("cash"===e.payment_method?"bg-green-100 text-green-700":"card_restaurant"===e.payment_method?"bg-blue-100 text-blue-700":"online"===e.payment_method?"bg-purple-100 text-purple-700":"ticket_resto"===e.payment_method?"bg-orange-100 text-orange-700":"check"===e.payment_method?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-700"),children:"cash"===e.payment_method?"\ud83d\udcb5 Esp\xe8ce":"card_restaurant"===e.payment_method?"\ud83d\udcb3 CB (restaurant)":"online"===e.payment_method?"\ud83c\udf10 Paiement en ligne":"ticket_resto"===e.payment_method?"\ud83c\udfab Ticket Restaurant":"check"===e.payment_method?"\ud83d\udcdd Ch\xe8que bancaire":e.payment_method})}),(0,Mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:(0,Mr.jsxs)("span",{className:"text-lg font-black text-gray-800",children:[e.total.toFixed(2),"\u20ac"]})})]},e.id)})}),(0,Mr.jsx)("tfoot",{className:"bg-gray-50 border-t-2 border-gray-300",children:(0,Mr.jsxs)("tr",{children:[(0,Mr.jsx)("td",{colSpan:"4",className:"px-6 py-4 text-right text-sm font-bold text-gray-700",children:"TOTAL"}),(0,Mr.jsx)("td",{className:"px-6 py-4 text-right",children:(0,Mr.jsxs)("span",{className:"text-2xl font-black text-green-600",children:[u.total.toFixed(2),"\u20ac"]})})]})})]})})})})]})]})},Oi="https://resto-hub-54.preview.emergentagent.com",Ri=()=>{const[e,t]=(0,s.useState)(null),[n,r]=(0,s.useState)([]),[a,l]=(0,s.useState)(!1),[i,o]=(0,s.useState)(null),c=(new Date).toISOString().split("T")[0];(0,s.useEffect)(()=>{d(),u()},[]);const d=async()=>{try{const e=localStorage.getItem("token"),n=await fetch("".concat(Oi,"/api/v1/admin/ticket-z/daily-status/").concat(c),{headers:e?{Authorization:"Bearer ".concat(e)}:{}});if(!n.ok)return void console.error("Failed to load daily status:",n.status);const r=await n.json();t(r)}catch(e){console.error("Error loading daily status:",e)}},u=async()=>{try{const e=localStorage.getItem("token"),t=await fetch("".concat(Oi,"/api/v1/admin/ticket-z"),{headers:e?{Authorization:"Bearer ".concat(e)}:{}});if(!t.ok)return void console.error("Failed to load tickets:",t.status);const n=await t.json();r(n)}catch(e){console.error("Error loading tickets:",e)}};return(0,Mr.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,Mr.jsxs)("div",{className:"mb-8",children:[(0,Mr.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"\ud83d\udcca Ticket Z - Cl\xf4ture de Journ\xe9e"}),(0,Mr.jsx)("p",{className:"text-gray-600",children:"G\xe9rez la cl\xf4ture quotidienne de votre \xe9tablissement"})]}),e&&(0,Mr.jsx)("div",{className:"mb-8",children:(0,Mr.jsxs)("div",{className:"p-6 rounded-lg border-2 ".concat(e.is_closed?"bg-green-50 border-green-500":e.needs_closure?"bg-red-50 border-red-500":"bg-blue-50 border-blue-500"),children:[(0,Mr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("h2",{className:"text-2xl font-bold mb-2 flex items-center",children:e.is_closed?(0,Mr.jsxs)(Mr.Fragment,{children:[(0,Mr.jsx)(Ys,{className:"w-6 h-6 text-green-600 mr-2"})," Journ\xe9e cl\xf4tur\xe9e"]}):e.needs_closure?(0,Mr.jsxs)(Mr.Fragment,{children:[(0,Mr.jsx)(el,{className:"w-6 h-6 text-red-600 mr-2"})," \u26a0\ufe0f Cl\xf4ture requise"]}):(0,Mr.jsxs)(Mr.Fragment,{children:[(0,Mr.jsx)(nl,{className:"w-6 h-6 text-blue-600 mr-2"})," Journ\xe9e en cours"]})}),(0,Mr.jsxs)("p",{className:"text-gray-700 mb-3",children:["Date : ",e.date]}),!e.is_closed&&(0,Mr.jsxs)("div",{className:"space-y-2",children:[e.pending_orders>0?(0,Mr.jsxs)("div",{className:"flex items-center text-red-700 font-semibold",children:[(0,Mr.jsx)(el,{className:"w-5 h-5 mr-2"}),e.pending_orders," commande(s) en attente"]}):(0,Mr.jsxs)("div",{className:"flex items-center text-green-700 font-semibold",children:[(0,Mr.jsx)(Ys,{className:"w-5 h-5 mr-2"}),"Toutes les commandes sont trait\xe9es"]}),e.needs_closure&&(0,Mr.jsxs)("div",{className:"flex items-center text-red-700 font-bold mt-2",children:[(0,Mr.jsx)(el,{className:"w-5 h-5 mr-2"}),"La cl\xf4ture de la veille n'a pas \xe9t\xe9 effectu\xe9e"]})]})]}),!e.is_closed&&(0,Mr.jsx)(cs,{onClick:async()=>{if(window.confirm("\u26a0\ufe0f Confirmer la cl\xf4ture de journ\xe9e ? Cette action est irr\xe9versible.")){l(!0);try{const e=localStorage.getItem("token"),t=await fetch("".concat(Oi,"/api/v1/admin/ticket-z"),{method:"POST",headers:Qt({"Content-Type":"application/json"},e?{Authorization:"Bearer ".concat(e)}:{}),body:JSON.stringify({date:c})});if(!t.ok){const e=await t.json();throw new Error(e.detail||"Erreur lors de la cl\xf4ture")}alert("\u2705 Journ\xe9e cl\xf4tur\xe9e avec succ\xe8s !"),d(),u()}catch(e){alert("\u274c ".concat(e.message))}finally{l(!1)}}},disabled:!e.can_close||a,className:"".concat(e.can_close?"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700":"bg-gray-400"," text-white font-bold px-6 py-3 shadow-lg"),children:a?"Cl\xf4ture en cours...":"\ud83d\udd12 Cl\xf4turer la journ\xe9e"})]}),e.is_closed&&e.ticket_z&&(0,Mr.jsx)("div",{className:"mt-4 pt-4 border-t border-green-300",children:(0,Mr.jsxs)(cs,{onClick:()=>o(e.ticket_z),className:"bg-white text-green-700 border-2 border-green-500 hover:bg-green-100",children:[(0,Mr.jsx)(sl,{className:"w-4 h-4 mr-2"}),"Voir le Ticket Z"]})})]})}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"\ud83d\udcdc Historique des cl\xf4tures"}),(0,Mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(e=>(0,Mr.jsxs)("div",{onClick:()=>o(e),className:"p-4 bg-white rounded-lg border-2 border-gray-200 hover:border-blue-500 hover:shadow-lg cursor-pointer transition-all",children:[(0,Mr.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Mr.jsx)("span",{className:"font-bold text-lg",children:e.date}),(0,Mr.jsx)(sl,{className:"w-5 h-5 text-blue-600"})]}),(0,Mr.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,Mr.jsxs)("div",{className:"flex justify-between",children:[(0,Mr.jsx)("span",{className:"text-gray-600",children:"Ventes:"}),(0,Mr.jsxs)("span",{className:"font-bold text-green-600",children:[e.total_sales.toFixed(2),"\u20ac"]})]}),(0,Mr.jsxs)("div",{className:"flex justify-between",children:[(0,Mr.jsx)("span",{className:"text-gray-600",children:"Commandes:"}),(0,Mr.jsx)("span",{className:"font-bold",children:e.total_orders})]}),(0,Mr.jsxs)("div",{className:"flex justify-between",children:[(0,Mr.jsx)("span",{className:"text-gray-600",children:"Couverts:"}),(0,Mr.jsx)("span",{className:"font-bold",children:e.covers_count})]})]})]},e.id))})]}),i&&(0,Mr.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:(0,Mr.jsxs)("div",{className:"bg-white rounded-lg p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,Mr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Mr.jsxs)("h2",{className:"text-2xl font-bold",children:["\ud83d\udcca Ticket Z - ",i.date]}),(0,Mr.jsx)("button",{onClick:()=>o(null),className:"text-gray-400 hover:text-gray-600 text-2xl font-bold",children:"\xd7"})]}),(0,Mr.jsxs)("div",{className:"space-y-6",children:[(0,Mr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Mr.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg",children:[(0,Mr.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Mr.jsx)(ea,{className:"w-5 h-5 text-green-600 mr-2"}),(0,Mr.jsx)("span",{className:"text-sm text-gray-600",children:"Ventes totales"})]}),(0,Mr.jsxs)("p",{className:"text-3xl font-bold text-green-600",children:[i.total_sales.toFixed(2),"\u20ac"]})]}),(0,Mr.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[(0,Mr.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Mr.jsx)(aa,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,Mr.jsx)("span",{className:"text-sm text-gray-600",children:"Couverts"})]}),(0,Mr.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:i.covers_count})]})]}),(0,Mr.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,Mr.jsx)("h3",{className:"font-bold mb-3",children:"\ud83d\udce6 Commandes"}),(0,Mr.jsxs)("div",{className:"grid grid-cols-3 gap-3 text-center",children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("p",{className:"text-2xl font-bold",children:i.total_orders}),(0,Mr.jsx)("p",{className:"text-xs text-gray-600",children:"Total"})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("p",{className:"text-2xl font-bold text-green-600",children:i.completed_orders}),(0,Mr.jsx)("p",{className:"text-xs text-gray-600",children:"Termin\xe9es"})]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("p",{className:"text-2xl font-bold text-red-600",children:i.cancelled_orders}),(0,Mr.jsx)("p",{className:"text-xs text-gray-600",children:"Annul\xe9es"})]})]})]}),(0,Mr.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,Mr.jsx)("h3",{className:"font-bold mb-3",children:"\ud83d\udcb3 R\xe9partition des paiements"}),(0,Mr.jsxs)("div",{className:"space-y-2",children:[i.payment_breakdown.espece>0&&(0,Mr.jsxs)("div",{className:"flex justify-between p-2 bg-green-100 rounded",children:[(0,Mr.jsx)("span",{className:"font-medium",children:"\ud83d\udcb5 Esp\xe8ce"}),(0,Mr.jsxs)("span",{className:"font-bold",children:[i.payment_breakdown.espece.toFixed(2),"\u20ac"]})]}),i.payment_breakdown.cb>0&&(0,Mr.jsxs)("div",{className:"flex justify-between p-2 bg-blue-100 rounded",children:[(0,Mr.jsx)("span",{className:"font-medium",children:"\ud83d\udcb3 CB"}),(0,Mr.jsxs)("span",{className:"font-bold",children:[i.payment_breakdown.cb.toFixed(2),"\u20ac"]})]}),i.payment_breakdown.cheque>0&&(0,Mr.jsxs)("div",{className:"flex justify-between p-2 bg-purple-100 rounded",children:[(0,Mr.jsx)("span",{className:"font-medium",children:"\ud83d\udcdd Ch\xe8que"}),(0,Mr.jsxs)("span",{className:"font-bold",children:[i.payment_breakdown.cheque.toFixed(2),"\u20ac"]})]}),i.payment_breakdown.ticket_restaurant>0&&(0,Mr.jsxs)("div",{className:"flex justify-between p-2 bg-orange-100 rounded",children:[(0,Mr.jsx)("span",{className:"font-medium",children:"\ud83c\udf9f\ufe0f Ticket restaurant"}),(0,Mr.jsxs)("span",{className:"font-bold",children:[i.payment_breakdown.ticket_restaurant.toFixed(2),"\u20ac"]})]}),i.payment_breakdown.online>0&&(0,Mr.jsxs)("div",{className:"flex justify-between p-2 bg-indigo-100 rounded",children:[(0,Mr.jsx)("span",{className:"font-medium",children:"\ud83c\udf10 Paiement en ligne"}),(0,Mr.jsxs)("span",{className:"font-bold",children:[i.payment_breakdown.online.toFixed(2),"\u20ac"]})]})]})]}),(0,Mr.jsx)("div",{className:"p-4 bg-yellow-50 rounded-lg",children:(0,Mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Mr.jsx)("span",{className:"font-bold",children:"\ud83d\udcb0 TVA collect\xe9e"}),(0,Mr.jsxs)("span",{className:"text-2xl font-bold text-yellow-700",children:[i.tva_collected.toFixed(2),"\u20ac"]})]})}),(0,Mr.jsxs)("div",{className:"pt-4 border-t text-xs text-gray-500",children:[(0,Mr.jsxs)("p",{children:["Cl\xf4tur\xe9 par: ",i.closed_by]}),(0,Mr.jsxs)("p",{children:["Le: ",new Date(i.closed_at).toLocaleString("fr-FR")]})]})]})]})})]})},Ti="https://resto-hub-54.preview.emergentagent.com",zi={padding:"12px",textAlign:"left",fontWeight:"bold",fontSize:"14px",color:"#333"},Ai={padding:"12px",fontSize:"13px",verticalAlign:"top"},Fi=()=>{const[e,t]=(0,s.useState)([]),[n,r]=(0,s.useState)(!0),[a,l]=(0,s.useState)(null),[i,o]=(0,s.useState)({}),c=async()=>{r(!0),l(null);try{const e=await pr.get("".concat(Ti,"/api/v1/admin/ai-marketing/campaigns/all?status=pending"));t(e.data.campaigns||[])}catch(a){var e,n;l((null===(e=a.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.detail)||"Erreur chargement campagnes"),console.error("Error loading campaigns:",a)}finally{r(!1)}},d=async(e,t)=>{o(t=>Qt(Qt({},t),{},{[e]:!0}));try{const n=await pr.post("".concat(Ti,"/api/v1/admin/ai-marketing/campaigns/").concat(e,"/validate"),{accepted:t,notes:t?"Valid\xe9 via page temp":"Refus\xe9 via page temp"},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("adminToken"))}});n.data.success&&(alert(t?"\u2705 Campagne valid\xe9e ! Promo cr\xe9\xe9e en brouillon (ID: ".concat(n.data.promotion_id,")"):"\u274c Campagne refus\xe9e"),await c())}catch(a){var n,r;alert("Erreur: "+((null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.detail)||a.message)),console.error("Error validating campaign:",a)}finally{o(t=>Qt(Qt({},t),{},{[e]:!1}))}};return(0,s.useEffect)(()=>{c()},[]),n&&0===e.length?(0,Mr.jsx)("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif"},children:(0,Mr.jsx)("h1",{children:"\u23f3 Chargement des campagnes IA..."})}):(0,Mr.jsxs)("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif",maxWidth:"1400px",margin:"0 auto"},children:[(0,Mr.jsxs)("div",{style:{marginBottom:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Mr.jsx)("h1",{style:{margin:0},children:"\ud83e\udd16 IA Marketing - Campagnes Propos\xe9es (Page Test)"}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("button",{onClick:async()=>{r(!0),l(null);try{await pr.post("".concat(Ti,"/api/v1/admin/ai-marketing/campaigns/generate"),{force_regenerate:!1}),await c()}catch(n){var e,t;l((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||"Erreur g\xe9n\xe9ration campagnes"),console.error("Error generating campaigns:",n),r(!1)}},disabled:n,style:{padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"5px",cursor:n?"not-allowed":"pointer",fontSize:"14px",marginRight:"10px"},children:n?"\u23f3 G\xe9n\xe9ration...":"\u26a1 G\xe9n\xe9rer Nouvelles Campagnes"}),(0,Mr.jsx)("button",{onClick:c,disabled:n,style:{padding:"10px 20px",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"5px",cursor:n?"not-allowed":"pointer",fontSize:"14px"},children:"\ud83d\udd04 Rafra\xeechir"})]})]}),a&&(0,Mr.jsxs)("div",{style:{padding:"15px",backgroundColor:"#ffebee",color:"#c62828",borderRadius:"5px",marginBottom:"20px",border:"1px solid #ef5350"},children:[(0,Mr.jsx)("strong",{children:"\u26a0\ufe0f Erreur:"})," ",a]}),0===e.length&&!n&&(0,Mr.jsxs)("div",{style:{padding:"40px",textAlign:"center",backgroundColor:"#f5f5f5",borderRadius:"10px",border:"2px dashed #ccc"},children:[(0,Mr.jsx)("h2",{children:"\ud83d\udced Aucune campagne en attente"}),(0,Mr.jsx)("p",{children:'Cliquez sur "G\xe9n\xe9rer Nouvelles Campagnes" pour cr\xe9er des propositions IA.'})]}),e.length>0&&(0,Mr.jsx)("div",{style:{overflowX:"auto"},children:(0,Mr.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"white",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[(0,Mr.jsx)("thead",{children:(0,Mr.jsxs)("tr",{style:{backgroundColor:"#f5f5f5",borderBottom:"2px solid #ddd"},children:[(0,Mr.jsx)("th",{style:zi,children:"Nom Campagne"}),(0,Mr.jsx)("th",{style:zi,children:"Type"}),(0,Mr.jsx)("th",{style:zi,children:"Ciblage"}),(0,Mr.jsx)("th",{style:zi,children:"P\xe9riode"}),(0,Mr.jsx)("th",{style:zi,children:"Impact Estim\xe9"}),(0,Mr.jsx)("th",{style:zi,children:"Message IA"}),(0,Mr.jsx)("th",{style:zi,children:"Actions"})]})}),(0,Mr.jsx)("tbody",{children:e.map((e,t)=>{var n,r,a;const s=i[e.id],l=e.promo_type_v2||e.type||"N/A",o=(null===(n=e.product_ids)||void 0===n?void 0:n.length)||0,c=(null===(r=e.category_ids)||void 0===r?void 0:r.length)||0,u=o>0?"".concat(o," produit(s)"):c>0?"".concat(c," cat\xe9gorie(s)"):"Tous",m=e.impact_estimate||{},p=("".concat(m.ca_increase||"N/A"," | ").concat(m.difficulty||"N/A"," | ").concat(m.duration||"N/A"),"".concat(e.start_date||"N/A"," \u2192 ").concat(e.end_date||"N/A")),h=e.start_time&&e.end_time?" | ".concat(e.start_time,"-").concat(e.end_time):"",x=(null===(a=e.days_active)||void 0===a?void 0:a.length)>0?" | ".concat(e.days_active.join(", ")):"";return(0,Mr.jsxs)("tr",{style:{borderBottom:"1px solid #eee",backgroundColor:t%2===0?"white":"#fafafa"},children:[(0,Mr.jsxs)("td",{style:Ai,children:[(0,Mr.jsx)("strong",{children:e.name}),e.badge_text&&(0,Mr.jsx)("div",{style:{display:"inline-block",marginLeft:"8px",padding:"2px 8px",backgroundColor:e.badge_color||"#FF6B35",color:"white",borderRadius:"12px",fontSize:"11px",fontWeight:"bold"},children:e.badge_text})]}),(0,Mr.jsx)("td",{style:Ai,children:(0,Mr.jsx)("code",{style:{backgroundColor:"#e3f2fd",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",color:"#1565c0"},children:l})}),(0,Mr.jsx)("td",{style:Ai,children:u}),(0,Mr.jsx)("td",{style:Ai,children:(0,Mr.jsxs)("div",{style:{fontSize:"13px"},children:[p,h&&(0,Mr.jsx)("div",{style:{color:"#666",fontSize:"12px"},children:h}),x&&(0,Mr.jsx)("div",{style:{color:"#666",fontSize:"12px"},children:x})]})}),(0,Mr.jsx)("td",{style:Ai,children:(0,Mr.jsxs)("div",{style:{fontSize:"12px",lineHeight:"1.5"},children:[(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("strong",{children:"CA:"})," ",m.ca_increase||"N/A"]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("strong",{children:"Diff:"})," ",m.difficulty||"N/A"]}),(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("strong",{children:"Dur\xe9e:"})," ",m.duration||"N/A"]}),m.target_customers&&(0,Mr.jsxs)("div",{children:[(0,Mr.jsx)("strong",{children:"Cibles:"})," ",m.target_customers]})]})}),(0,Mr.jsxs)("td",{style:Qt(Qt({},Ai),{},{maxWidth:"300px"}),children:[(0,Mr.jsx)("div",{style:{fontSize:"13px",lineHeight:"1.4",color:"#333"},children:e.message}),e.source_promo_analysis&&(0,Mr.jsxs)("div",{style:{marginTop:"8px",padding:"6px",backgroundColor:"#fff3e0",borderLeft:"3px solid #ff9800",fontSize:"11px",color:"#666"},children:[(0,Mr.jsx)("strong",{children:"\ud83d\udcca Analyse:"})," ",e.source_promo_analysis]})]}),(0,Mr.jsx)("td",{style:Ai,children:(0,Mr.jsxs)("div",{style:{display:"flex",gap:"8px",flexDirection:"column"},children:[(0,Mr.jsx)("button",{onClick:()=>d(e.id,!0),disabled:s,style:{padding:"8px 16px",backgroundColor:s?"#ccc":"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer",fontSize:"13px",fontWeight:"bold"},children:s?"\u23f3":"\u2705 Valider"}),(0,Mr.jsx)("button",{onClick:()=>d(e.id,!1),disabled:s,style:{padding:"8px 16px",backgroundColor:s?"#ccc":"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:s?"not-allowed":"pointer",fontSize:"13px",fontWeight:"bold"},children:s?"\u23f3":"\u274c Refuser"})]})})]},e.id)})})]})}),(0,Mr.jsxs)("div",{style:{marginTop:"30px",padding:"15px",backgroundColor:"#e3f2fd",borderRadius:"8px",border:"1px solid #90caf9"},children:[(0,Mr.jsx)("h3",{style:{marginTop:0},children:"\u2139\ufe0f Info"}),(0,Mr.jsxs)("ul",{style:{fontSize:"14px",lineHeight:"1.8",color:"#333"},children:[(0,Mr.jsxs)("li",{children:[(0,Mr.jsx)("strong",{children:"Campagnes affich\xe9es:"})," ",e.length]}),(0,Mr.jsxs)("li",{children:[(0,Mr.jsx)("strong",{children:"Status:"})," Pending (en attente de validation)"]}),(0,Mr.jsxs)("li",{children:[(0,Mr.jsx)("strong",{children:"\u2705 Valider:"})," Cr\xe9e automatiquement une promo V2 en brouillon dans le moteur"]}),(0,Mr.jsxs)("li",{children:[(0,Mr.jsx)("strong",{children:"\u274c Refuser:"})," Marque la campagne comme refus\xe9e (pas de promo cr\xe9\xe9e)"]}),(0,Mr.jsxs)("li",{children:[(0,Mr.jsx)("strong",{children:"Fallback actif:"})," Si OpenAI indisponible, g\xe9n\xe9ration intelligente bas\xe9e sur donn\xe9es"]})]})]})]})};const Li=function(){return(0,Mr.jsx)(qr,{children:(0,Mr.jsx)(Re,{basename:"/admin",children:(0,Mr.jsxs)(Ne,{children:[(0,Mr.jsx)(je,{path:"/admin/login",element:(0,Mr.jsx)(Cs,{})}),(0,Mr.jsx)(je,{path:"/admin/kiosk",element:(0,Mr.jsx)(Si,{})}),(0,Mr.jsxs)(je,{path:"/admin",element:(0,Mr.jsx)(is,{}),children:[(0,Mr.jsx)(je,{index:!0,element:(0,Mr.jsx)(zs,{})}),(0,Mr.jsx)(je,{path:"ai",element:(0,Mr.jsx)(_l,{})}),(0,Mr.jsx)(je,{path:"ai-marketing/campaigns",element:(0,Mr.jsx)(ei,{})}),(0,Mr.jsx)(je,{path:"ai-marketing/history",element:(0,Mr.jsx)(ri,{})}),(0,Mr.jsx)(je,{path:"ai-marketing/settings",element:(0,Mr.jsx)(si,{})}),(0,Mr.jsx)(je,{path:"ai-marketing-temp",element:(0,Mr.jsx)(Fi,{})}),(0,Mr.jsx)(je,{path:"menu",element:(0,Mr.jsx)(ki,{})}),(0,Mr.jsx)(je,{path:"products",element:(0,Mr.jsx)(Js,{})}),(0,Mr.jsx)(je,{path:"options",element:(0,Mr.jsx)(ci,{})}),(0,Mr.jsx)(je,{path:"orders",element:(0,Mr.jsx)(dl,{})}),(0,Mr.jsx)(je,{path:"revenue",element:(0,Mr.jsx)(Pi,{})}),(0,Mr.jsx)(je,{path:"categories",element:(0,Mr.jsx)(pl,{})}),(0,Mr.jsx)(je,{path:"promos",element:(0,Mr.jsx)(Pl,{})}),(0,Mr.jsx)(je,{path:"promotions",element:(0,Mr.jsx)(ql,{})}),(0,Mr.jsx)(je,{path:"customers",element:(0,Mr.jsx)(Ql,{})}),(0,Mr.jsx)(je,{path:"notifications",element:(0,Mr.jsx)(Xl,{})}),(0,Mr.jsx)(je,{path:"reservations",element:(0,Mr.jsx)(Yl,{})}),(0,Mr.jsx)(je,{path:"settings",element:(0,Mr.jsx)(wl,{})}),(0,Mr.jsx)(je,{path:"ticket-z",element:(0,Mr.jsx)(Ri,{})})]}),(0,Mr.jsx)(je,{path:"*",element:(0,Mr.jsx)(be,{to:"/admin",replace:!0})})]})})})};i.createRoot(document.getElementById("root")).render((0,Mr.jsx)(s.StrictMode,{children:(0,Mr.jsx)(Li,{})}))})();
//# sourceMappingURL=main.d497b4ac.js.map